{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"SeaTable \u7f16\u7a0b\u624b\u518c","text":"<p>\u672c\u6587\u6863\u5305\u542b SeaTable \u7f16\u7a0b\u76f8\u5173\u7684\u6587\u6863\u3002\u5305\u542b\u4ee5\u4e0b\u90e8\u5206</p> <ul> <li>Javascript \u811a\u672c\u7f16\u7a0b: SeaTable \u5185\u7f6e\u7684 JavaScript \u811a\u672c, \u5f53\u524d\u7684\u6d4f\u89c8\u5668\u4e2d\u76f4\u63a5\u8fd0\u884c\uff0c\u652f\u6301\u7684 API \u6bd4\u8f83\u53d7\u9650\uff0c\u9002\u5408\u4e8e\u5bf9\u6570\u636e\u8fdb\u884c\u7b80\u5355\u7684\u5904\u7406\u3002</li> <li>Python \u811a\u672c\u548c API: \u53ef\u4ee5\u5728\u4f60\u81ea\u5df1\u7684\u670d\u52a1\u5668\u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u4e0a\u4f20\u5230 SeaTable \u540e\u8fd0\u884c\uff0c\u9002\u5408\u4e8e\u66f4\u590d\u6742\u7684\u6570\u636e\u5904\u7406\u573a\u666f\u3002</li> <li>Javascript API: \u5bf9 SeaTable \u670d\u52a1\u5668 Restful API \u7684\u5c01\u88c5\u3002\u4f60\u53ef\u4ee5\u5728\u4f60\u7684\u524d\u7aef\u9875\u9762\u4e2d\u6216\u8005 Node.js \u7a0b\u5e8f\u4e2d\u8c03\u7528\u3002</li> <li>SQL \u53c2\u8003\u624b\u518c: SeaTable SQL \u63a5\u53e3\u53c2\u8003\u624b\u518c</li> <li>\u63d2\u4ef6\u5f00\u53d1\u6d41\u7a0b\u548c API: SeaTable \u63d2\u4ef6\u5f00\u53d1\u6d41\u7a0b\u548c API</li> </ul>"},{"location":"#_1","title":"\u7f16\u7a0b\u5165\u95e8","text":"<p>\u5728 SeaTable \u4e2d\uff0c\u4e00\u4e2a\u8868\u683c\u82f1\u6587\u53eb\u505a\u4e00\u4e2a base\u3002\u4e00\u4e2a base \u5305\u62ec\u591a\u4e2a\u5b50\u8868\uff0c\u4e00\u4e2a\u5b50\u8868\u82f1\u6587\u53eb\u505a\u4e00\u4e2a table\u3002\u4e00\u4e2a table \u4e2d\u5305\u542b\u591a\u4e2a\u884c\u548c\u5217\u3002\u4e00\u4e2a\u884c\u5305\u542b\u591a\u4e2a\u5b57\u6bb5\u3002</p>"},{"location":"#javascript","title":"JavaScript \u811a\u672c\u5165\u95e8","text":"<p>\u811a\u672c\u6267\u884c\u5668\u63d0\u4f9b\u4e86\u4e24\u4e2a\u57fa\u672c\u5bf9\u8c61\u4f9b\u4f60\u4f7f\u7528:</p> <ol> <li>base \u5bf9\u8c61\u3002\u4e00\u4e2a base \u4ee3\u8868\u4e00\u4e2a\u8868\u683c\u3002\u901a\u8fc7 base \u5bf9\u8c61\u53ef\u4ee5\u64cd\u4f5c\u8868\u683c\u4e2d\u7684\u6570\u636e\u3002</li> <li>output \u5bf9\u8c61\u3002\u7528\u4e8e\u8f93\u51fa\u7ed3\u679c\u3002</li> </ol> <p>\u4e0b\u9762\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u5f88\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u5c31\u662f\u8f93\u51fa\u8868\u683c\u4e2d\u5b50\u8868\u7684\u6570\u91cf\u3002\u65b0\u5efa\u4e00\u4e2a\u811a\u672c\uff0c\u5e76\u8f93\u5165\u4ee5\u4e0b\u7684\u5185\u5bb9\uff0c\u7136\u540e\u70b9\u51fb\u8fd0\u884c\u5373\u53ef:</p> <pre><code>const tables = base.getTables();\noutput.text(tables.length);\n</code></pre> <p>\u4e0b\u9762\u6211\u4eec\u6765\u770b\u53e6\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u5c31\u662f\u53d6\u51fa\u4e00\u4e2a\u5b50\u8868\u4e2d\u7684\u6240\u6709\u884c\uff0c\u7136\u540e\u628a Name \u5217\u7684\u503c\u8f93\u51fa\u51fa\u6765:</p> <pre><code>// \u901a\u8fc7\u540d\u79f0\u83b7\u53d6\u5b50\u8868\nconst table = base.getTableByName('\u4e91\u7aef\u670d\u52a1'); \n// \u4ece\u5b50\u8868\u83b7\u53d6\u4e00\u4e2a\u7279\u5b9a\u7684\u89c6\u56fe\nconst view = base.getViewByName(table, 'Default View');\n// \u901a\u8fc7 table \u548c view \u6765\u83b7\u53d6\u89c6\u56fe\u4e2d\u6240\u6709\u7684\u884c\nconst rows = base.getRows(table, view);\n// \u904d\u5386\u548c\u6253\u5370\nfor (var i=0; i&lt;rows.length; i++) {\n  const row = rows[i];\n  output.text(row['Name']);\n}\n</code></pre> <p>\u4ece\u4e0a\u9762\u7684\u4e24\u4e2a\u4f8b\u5b50\u53ef\u4ee5\u770b\u5230\uff0c\u901a\u8fc7\u8c03\u7528 base \u5bf9\u8c61\u7279\u5b9a\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u5c31\u80fd\u83b7\u53d6\u8868\u683c\u4e2d\u6240\u6709\u7684\u6570\u636e\u4e86\u3002\u5728 base \u5bf9\u8c61\u5bf9\u5e94\u7684\u6587\u6863\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u67e5\u627e\u5230 base \u63d0\u4f9b\u7684\u6240\u6709\u7684\u65b9\u6cd5\u3002</p>"},{"location":"#python","title":"Python \u811a\u672c\u5165\u95e8","text":"<p>\u7f16\u5199\u811a\u672c\u65f6\uff0c\u9700\u8981\u4ece seatable_api \u5bfc\u5165 Base \u5bf9\u8c61\u5e76\u5bf9\u5176\u521d\u59cb\u5316\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u8c03\u7528\u5176\u4e2d\u7684\u51fd\u6570\u6765\u64cd\u4f5c\u8868\u683c\u4e86\u3002\u4e0b\u9762\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u7528\u4e8e\u5f80\u4e00\u4e2a\u8868\u683c\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u884c:</p> <pre><code>from seatable_api import Base\n\nserver_url = os.environ.get('dtable_web_url')\napi_token = os.environ.get('api_token')\nbase = Base(api_token, server_url)\nbase.auth()\n\nrow_data = {\n    \"Name\": \"I am new Row\"\n}\nbase.append_row('Table1', row_data)\n</code></pre>"},{"location":"#_2","title":"\u8fdb\u4e00\u6b65\u53c2\u8003","text":"<ul> <li>\u6570\u636e\u7ed3\u6784</li> </ul>"},{"location":"data-structure/","title":"Row, Column, Table, View","text":""},{"location":"data-structure/#row","title":"Row (\u884c)","text":"<p>Row \u662f\u4e00\u4e2a\u5bf9\u8c61, \u4f7f\u7528 <code>row['colum_name']</code> \u53ef\u4ee5\u8bbf\u95ee\u7279\u5b9a\u5217\u7684\u5185\u5bb9. \u6709\u4e00\u4e9b\u7279\u6b8a\u7684\u5b57\u6bb5\u5982\u4e0b:</p> <ul> <li><code>_id</code> : The id of the row</li> <li><code>_creator</code> : The creator for this row</li> <li><code>_ctime</code>: The create time for this row, \u8bb0\u5f55\u7684\u662f UTC \u65f6\u533a\u7684 ISO \u683c\u5f0f\u7684\u65f6\u95f4 (\u6bd4\u5982 2022-04-14T09:51:54.159+00:00)\u3002</li> <li><code>_last_modifier</code> : The last modifier for this row</li> <li><code>_mtime</code>: The last modified time for this row, \u8bb0\u5f55\u7684\u662f UTC \u65f6\u533a\u7684 ISO \u683c\u5f0f\u7684\u65f6\u95f4 (\u6bd4\u5982 2022-04-14T09:51:54.159+00:00)\u3002</li> </ul> <p>\u4e0d\u540c\u7684\u5217\u7c7b\u578b\u7684\u5355\u5143\u683c\u7684\u503c\u6709\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5982\u4e0b:</p> <p>\u57fa\u672c\u5217\u7c7b\u578b:</p> <ul> <li><code>text</code> : string</li> <li><code>number</code> : number</li> <li><code>checkbox</code> : boolean</li> <li><code>date</code> : string, in format <code>2020-01-01</code> or <code>2020-01-01 10:00</code> </li> <li><code>single-select</code> : option name, string</li> <li><code>long-text</code> : markdown string</li> <li><code>image</code> : array, each element of the array is the URL of image</li> <li><code>file</code> : array, each element of the array is a file object  <code>[{name: string, url: string, size: number, type: 'file'}]</code></li> <li><code>multi-select</code> : array, each element of the array is an option name</li> <li><code>collaborator</code> : array, each element of the array is a collaborator's system ID</li> <li><code>URL</code> : string</li> <li><code>email</code> :  string</li> <li><code>duration</code> : string, in format <code>h:mm(1:30)</code> or <code>h:mm:ss(0:20:30)</code> </li> <li><code>rating</code>: number, indicates a rating</li> </ul> <p>\u9ad8\u7ea7\u5217\u7c7b\u578b:</p> <ul> <li><code>formula</code> : string</li> <li><code>geolocation</code> : object, in format <code>{province: xxx, city: xxx, district: xxx, detail: xxx}</code></li> <li><code>link</code> : array, each element of the array is a link name</li> <li><code>auto-number</code> : number, auto increase</li> </ul>"},{"location":"data-structure/#_1","title":"\u5173\u4e8e\u5b57\u6bb5\u7a7a\u503c","text":"<p>\u4e00\u4e2a\u5b57\u6bb5\u4e3a\u7a7a\u6709\u4e0b\u5217\u51e0\u79cd\u60c5\u51b5</p> <ol> <li>row \u4e2d\u4e0d\u5b58\u5728\u5bf9\u5e94\u7684 key</li> <li>row['colum_name'] \u7684\u503c\u4e3a null (Python \u4e2d\u4e3a None)</li> <li>row['colum_name'] \u7684\u503c\u4e3a '' (\u5bf9\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5217)</li> <li>row['colum_name'] \u7684\u503c\u4e3a {} (\u7a7a\u5bf9\u8c61\uff0c\u5bf9\u5bf9\u8c61\u7c7b\u578b\u7684\u5217)</li> <li>row['colum_name'] \u7684\u503c\u4e3a [] (\u7a7a\u5217\u8868\uff0c\u5bf9\u5217\u8868\u7c7b\u578b\u7684\u5217)</li> </ol> <p>\u56e0\u4e3a\u4e00\u4e2a\u5355\u5143\u683c\u7684\u503c\u53ef\u4ee5\u901a\u8fc7\u590d\u5236\u9ecf\u8d34\u3001\u5217\u7c7b\u578b\u88c5\u6362\u3001\u901a\u8fc7\u811a\u672c\u586b\u5165\u7b49\u591a\u79cd\u65b9\u5f0f\u4ea7\u751f\uff0c\u6240\u4ee5\u4e00\u4e2a\u754c\u9762\u663e\u793a\u4e3a\u7a7a\u7684\u503c\u53ef\u80fd\u662f\u4e0a\u9762\u7684\u51e0\u79cd\u60c5\u51b5\u3002</p>"},{"location":"data-structure/#column","title":"Column (\u5217)","text":"<p>\u4e00\u4e2a column \u5bf9\u8c61\u6709\u4ee5\u4e0b\u7684\u5b57\u6bb5:</p> <ul> <li><code>key</code> : The key of the column, string</li> <li><code>type</code> : The type of the column(long-text, single-select, number, file and so on), string</li> <li><code>name</code> : The name of the column, string</li> </ul>"},{"location":"data-structure/#table","title":"Table (\u5b50\u8868)","text":"<p>\u4e00\u4e2a table \u5bf9\u8c61\u6709\u4ee5\u4e0b\u7684\u5b57\u6bb5:</p> <ul> <li> <p><code>_id</code>: The id of the table </p> </li> <li> <p><code>name</code> : The name of the table, string</p> </li> </ul>"},{"location":"data-structure/#view","title":"View (\u89c6\u56fe)","text":"<p>\u4e00\u4e2a\u89c6\u56fe\u5bf9\u8c61\u6709\u4ee5\u4e0b\u5b57\u6bb5:</p> <ul> <li><code>name</code>: The name of the view, string</li> </ul>"},{"location":"javascript/","title":"SeaTable Javascript \u811a\u672c\u7f16\u7a0b","text":"<p>SeaTable \u5185\u90e8\u7684 Javascript \u811a\u672c\u7528\u4e8e\u5728\u5f53\u524d\u7684\u6d4f\u89c8\u5668\u4e2d\u76f4\u63a5\u8fd0\u884c\uff0c\u9002\u5408\u4e8e\u5bf9\u6570\u636e\u8fdb\u884c\u7b80\u5355\u7684\u5904\u7406\u3002</p> <p>\u811a\u672c\u6267\u884c\u5668\u63d0\u4f9b\u4e86\u4e24\u4e2a\u57fa\u672c\u5bf9\u8c61\u4f9b\u4f60\u4f7f\u7528:</p> <ol> <li>base \u5bf9\u8c61\u3002\u4e00\u4e2a base \u4ee3\u8868\u4e00\u4e2a\u8868\u683c\u3002\u901a\u8fc7 base \u5bf9\u8c61\u53ef\u4ee5\u64cd\u4f5c\u8868\u683c\u4e2d\u7684\u6570\u636e\u3002</li> <li>output \u5bf9\u8c61\u3002\u7528\u4e8e\u8f93\u51fa\u7ed3\u679c\u3002</li> </ol>"},{"location":"javascript/#_1","title":"\u7f16\u7a0b\u53c2\u8003","text":"<p>SeaTable \u4e00\u822c\u5bf9\u8c61\u7684\u6570\u636e\u7ed3\u6784:</p> <ul> <li>\u6570\u636e\u7ed3\u6784</li> </ul> <p>\u5bf9\u8c61\u63d0\u4f9b\u7684\u65b9\u6cd5:</p> <ul> <li>base</li> <li>output</li> <li>utilities</li> </ul>"},{"location":"javascript/#_2","title":"\u4f8b\u5b50","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u94fe\u63a5\u627e\u5230\u4e00\u4e9b\u5bb9\u6613\u7406\u89e3\u7684\u4f8b\u5b50https://github.com/seatable/seatable-scripts-cn/tree/master/examples/javascript</p> <p>\u5177\u4f53\u5982\u4e0b</p> <ul> <li>get-incremental.js: \u4ece\u4e00\u4e2a\u7d2f\u8ba1\u5217\u8ba1\u7b97\u51fa\u589e\u91cf\u6570\u636e</li> <li>auto-add-rows.js: \u81ea\u52a8\u5f80\u4e00\u4e2a\u8bb0\u8d26\u8868\u4e2d\u6dfb\u52a0\u6bcf\u6708\u91cd\u590d\u7684\u9879\u76ee</li> </ul>"},{"location":"javascript/base/","title":"Base \u5bf9\u8c61","text":"<p>Base \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e00\u4e9b\u64cd\u4f5c\u6570\u636e\u7684\u65b9\u6cd5</p>"},{"location":"javascript/base/#_1","title":"\u5b50\u8868","text":""},{"location":"javascript/base/#getactivetable","title":"getActiveTable","text":"<p>\u83b7\u53d6\u5f53\u524d\u9009\u4e2d\u7684\u8868\u683c, \u8fd4\u56de\u4e00\u4e2a table \u5bf9\u8c61</p>"},{"location":"javascript/base/#_2","title":"\u4f8b\u5b50","text":"<pre><code> const table = base.getActiveTable();\n output.markdown(`#### ${table.name}`);\n</code></pre>"},{"location":"javascript/base/#gettables","title":"getTables","text":"<p>\u83b7\u53d6\u6240\u6709\u7684\u5b50\u8868</p>"},{"location":"javascript/base/#_3","title":"\u4f8b\u5b50","text":"<pre><code>const tables = base.getTables();\noutput.text(tables.length);\n</code></pre>"},{"location":"javascript/base/#gettablebyname","title":"getTableByName","text":"<p>\u901a\u8fc7\u4e00\u4e2a\u8868\u683c\u7684\u540d\u79f0\u83b7\u53d6\u4e00\u4e2a table \u5bf9\u8c61</p> <pre><code>const table = base.getTableByName(tableName: String);\n</code></pre>"},{"location":"javascript/base/#_4","title":"\u4f8b\u5b50","text":"<pre><code>const table = base.getTableByName('Table1');\noutput.text(table._id);\n</code></pre>"},{"location":"javascript/base/#addtable","title":"addTable","text":"<p>\u6dfb\u52a0\u4e00\u4e2a\u5b50\u8868</p> <pre><code>base.addTable(tableName: String);\n</code></pre>"},{"location":"javascript/base/#_5","title":"\u4f8b\u5b50","text":"<pre><code>base.addTable('New table');\n</code></pre>"},{"location":"javascript/base/#renametable","title":"renameTable","text":"<p>\u91cd\u547d\u540d\u4e00\u4e2a\u5b50\u8868</p> <pre><code>base.renameTable(oldName: String, newName: String);\n</code></pre>"},{"location":"javascript/base/#_6","title":"\u4f8b\u5b50","text":"<pre><code>base.renameTable('Old name', 'New name');\n</code></pre>"},{"location":"javascript/base/#deletetable","title":"deleteTable","text":"<p>\u5220\u9664\u4e00\u4e2a\u5b50\u8868</p> <pre><code>base.deleteTable(tableName: String);\n</code></pre>"},{"location":"javascript/base/#_7","title":"\u4f8b\u5b50","text":"<pre><code>base.deleteTable('Old table');\n</code></pre>"},{"location":"javascript/base/#_8","title":"\u89c6\u56fe","text":""},{"location":"javascript/base/#getactiveview","title":"getActiveView","text":"<p>\u83b7\u53d6\u5f53\u524d\u7684\u89c6\u56fe\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a view \u5bf9\u8c61</p>"},{"location":"javascript/base/#_9","title":"\u4f8b\u5b50","text":"<pre><code>const view  = base.getActiveView();\noutput.text(view._id);\n</code></pre>"},{"location":"javascript/base/#listviews-getviewsdeprecated","title":"listViews / getViews(deprecated)","text":"<p>\u83b7\u53d6\u5f53\u524d\u8868\u683c\u7684\u6240\u6709\u89c6\u56fe\uff0c\u5e76\u4ee5\u4e00\u4e2a\u6570\u7ec4\u7684\u5f62\u5f0f\u8fd4\u56de\u6240\u6709\u7684\u89c6\u56fe,  \u5176\u4e2d getViews \u51fd\u6570\u5df2\u7ecf\u8fc7\u671f\uff0c \u65b0\u7684\u4ee3\u7801\u91cc\u9762\u53ef\u4ee5\u4f7f\u7528 listViews\u3002</p> <pre><code>const views = base.listViews(table_name);\n</code></pre>"},{"location":"javascript/base/#_10","title":"\u4f8b\u5b50","text":"<pre><code>const views = base.listViews('Table1');\noutput.text(views.length);\n</code></pre>"},{"location":"javascript/base/#getviewbyname","title":"getViewByName","text":"<p>\u901a\u8fc7\u89c6\u56fe\u7684\u540d\u79f0\u83b7\u53d6\u8868\u683c\u4e2d\u7684\u4e00\u4e2a\u89c6\u56fe\u5bf9\u8c61\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u89c6\u56fe\u5bf9\u8c61</p> <pre><code>const view = base.getViewByName(table: Object/String, viewName: String);\n</code></pre>"},{"location":"javascript/base/#_11","title":"\u4f8b\u5b50","text":"<pre><code>const table  = base.getTableByName('Table1'); \nconst view = base.getViewByName(table, 'view 1');\noutput.text(view.name);\n</code></pre> <pre><code>const view = base.getViewByName('Table1', 'view 1');\noutput.text(view.name);\n</code></pre>"},{"location":"javascript/base/#addview","title":"addView","text":"<p>\u4e00\u4e2a\u5b50\u8868\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u89c6\u56fe</p> <pre><code>base.addView(table: Object/String, viewName: String);\n</code></pre>"},{"location":"javascript/base/#_12","title":"\u4f8b\u5b50","text":"<pre><code>const table  = base.getTableByName('Table1');\nbase.addView(table, 'view 2');\n</code></pre> <pre><code>base.addView('Table1', 'view 2');\n</code></pre>"},{"location":"javascript/base/#renameview","title":"renameView","text":"<p>\u91cd\u547d\u540d\u4e00\u4e2a\u5b50\u8868\u4e2d\u7684\u4e00\u4e2a\u89c6\u56fe</p> <pre><code>base.renameView(table: Object/String, currentViewName: String, nextViewName: String);\n</code></pre>"},{"location":"javascript/base/#_13","title":"\u4f8b\u5b50","text":"<pre><code>const table  = base.getTableByName('Table1');\nbase.renameView(table, 'view1', 'view2');\n</code></pre> <pre><code>base.renameView('Table1', 'view1', 'view2');\n</code></pre>"},{"location":"javascript/base/#deleteview","title":"deleteView","text":"<p>\u5220\u9664\u4e00\u4e2a\u89c6\u56fe</p> <pre><code>base.deleteView(table: Object/String, viewName: String);\n</code></pre>"},{"location":"javascript/base/#_14","title":"\u4f8b\u5b50","text":"<pre><code>const table  = base.getTableByName('Table1');\nbase.deleteView(table, 'view2');\n</code></pre> <pre><code>base.deleteView('Table1', 'view2');\n</code></pre>"},{"location":"javascript/base/#_15","title":"\u5217","text":""},{"location":"javascript/base/#getcolumns","title":"getColumns","text":"<p>\u83b7\u53d6\u4e00\u4e2a\u8868\u683c\u4e2d\u7684\u6240\u6709\u5217\uff0c\u5e76\u4ee5\u4e00\u4e2a\u6570\u7ec4\u7684\u5f62\u5f0f\u8fd4\u56de\u6240\u6709\u7684\u5217\u5bf9\u8c61</p> <pre><code>const columns = base.getColumns(table: Object/String);\n</code></pre>"},{"location":"javascript/base/#_16","title":"\u4f8b\u5b50","text":"<pre><code>const table  = base.getTableByName('Table1');\nconst columns = base.getColumns(table);\n\ncolumn.forEach((column) =&gt; {\n    output.text(column.name);\n})\n</code></pre> <pre><code>const columns = base.getColumns('Table1');\n</code></pre>"},{"location":"javascript/base/#getshowncolumns","title":"getShownColumns","text":"<p>\u83b7\u53d6\u4e00\u4e2a\u89c6\u56fe\u4e2d\u6240\u6709\u663e\u793a\u7684\u5217\uff0c\u4e0d\u5305\u542b\u8be5\u89c6\u56fe\u4e2d\u5df2\u7ecf\u88ab\u9690\u85cf\u7684\u5217, \u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4</p> <pre><code>const columns = base.getShownColumns(table: Object/String, view: Object/String);\n</code></pre>"},{"location":"javascript/base/#_17","title":"\u4f8b\u5b50","text":"<pre><code>const table  = base.getTableByName('Table1');\nconst view = base.getViewByName(table, 'view 1');\nconst columns = base.getShownColumns(table, view);\ncolumn.forEach((column) =&gt; {\n    output.text(column.name);\n})\n</code></pre> <pre><code>const columns = base.getShownColumns('Table1', 'view 1');\n</code></pre>"},{"location":"javascript/base/#listcolumns","title":"listColumns","text":"<p>\u83b7\u53d6\u8868\u683c\u7684\u6240\u6709\u7684\u5217, \u901a\u8fc7\u8868\u683c\u540d\u79f0\u548c \u89c6\u56fe\u540d\u79f0\u83b7\u53d6</p> <pre><code>const columns = base.listColumns(table_name, view_name=null)\n</code></pre>"},{"location":"javascript/base/#_18","title":"\u4f8b\u5b50","text":"<pre><code>const view_cols = base.listColumns('Table1', 'My_view')\n</code></pre>"},{"location":"javascript/base/#getcolumnbyname","title":"getColumnByName","text":"<p>\u901a\u8fc7\u5217\u7684\u540d\u79f0\u83b7\u53d6\u8be5\u5217\u5bf9\u8c61</p> <pre><code>const column = base.getColumnByName(table: Object/String, name: String);\n</code></pre>"},{"location":"javascript/base/#_19","title":"\u4f8b\u5b50","text":"<pre><code>const column = base.getColumnByName(table, 'Column name');\noutput.text(column.name);\n</code></pre> <pre><code>const column = base.getColumnByName('Table1', 'Column name');\n</code></pre>"},{"location":"javascript/base/#getcolumnsbytype","title":"getColumnsByType","text":"<p>\u83b7\u53d6\u8be5\u8868\u683c\u4e2d\u6240\u6709\u7279\u5b9a\u79cd\u7c7b\u7684\u5217</p> <pre><code>const columns = base.getColumnsByType(table: Object/String, type: String);\n</code></pre>"},{"location":"javascript/base/#_20","title":"\u4f8b\u5b50","text":"<pre><code>const table  = base.getTableByName('Table1');\nconst columns = base.getColumnsByType(table, 'text');\noutput.text(column.length);\n</code></pre> <pre><code>const columns = base.getColumnsByType('Table1', 'text');\noutput.text(column.length);\n</code></pre>"},{"location":"javascript/base/#_21","title":"\u884c","text":""},{"location":"javascript/base/#getrows","title":"getRows","text":"<p>\u83b7\u53d6\u4e00\u4e2a\u89c6\u56fe\u6240\u6709\u7684\u884c\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4</p> <pre><code>const rows = base.getRows(table_name\uff0c view_name);\n</code></pre>"},{"location":"javascript/base/#_22","title":"\u4f8b\u5b50","text":"<pre><code>const table = base.getTableByName('Table1');\nconst view = base.getViewByName(table, 'view1');\nconst rows = base.getRows(table, view);\n</code></pre> <pre><code>const rows = base.getRows('Table1', 'view1');\n</code></pre>"},{"location":"javascript/base/#getgroupedrows","title":"getGroupedRows","text":"<p>\u83b7\u53d6\u5206\u7ec4\u89c6\u56fe\u4e2d\u7684\u884c\u5206\u7ec4\u6570\u636e</p> <pre><code>base.getGroupedRows(table: Object/String, view: Object/String);\n</code></pre>"},{"location":"javascript/base/#_23","title":"\u4f8b\u5b50","text":"<pre><code>const table = base.getTableByName('Table1');\nconst view = base.getViewByName(table, '\u5206\u7ec4\u89c6\u56fe');\nconst groupViewRows = base.getGroupedRows(table, view);\n</code></pre> <pre><code>const groupViewRows = base.getGroupedRows('Table1', '\u5206\u7ec4\u89c6\u56fe');\n</code></pre>"},{"location":"javascript/base/#getrow-getrowbyiddeprecated","title":"getRow / getRowById(deprecated)","text":"<p>\u901a\u8fc7\u4e00\u4e2a\u884c\u7684 id \u83b7\u53d6\u884c\uff0c\u8fd4\u56de\u4e00\u4e2a\u884c\u5bf9\u8c61\uff0c  \u5176\u4e2d getRowById \u51fd\u6570\u5df2\u7ecf\u8fc7\u671f\uff0c \u65b0\u7684\u4ee3\u7801\u91cc\u9762\u53ef\u4ee5\u4f7f\u7528 getRow\u3002</p> <pre><code>const row = base.getRow(table: Object/String, rowId: String);\n</code></pre>"},{"location":"javascript/base/#_24","title":"\u4f8b\u5b50","text":"<pre><code>const row = base.getRow('Table1', \"M_lSEOYYTeuKTaHCEOL7nw\");\n</code></pre>"},{"location":"javascript/base/#deleterow-deleterowbyiddeprecated","title":"deleteRow / deleteRowById(deprecated)","text":"<p>\u901a\u8fc7\u4e00\u4e2a\u884c\u7684 id \u5220\u9664\u5f53\u524d\u8868\u683c\u4e2d\u7684\u8be5\u884c\uff0c\u5176\u4e2d deleteRowById \u51fd\u6570\u5df2\u7ecf\u8fc7\u671f\uff0c \u65b0\u7684\u4ee3\u7801\u91cc\u9762\u53ef\u4ee5\u4f7f\u7528 deleteRow\u3002</p> <pre><code>base.deleteRow(table_name, row_id)\n</code></pre>"},{"location":"javascript/base/#_25","title":"\u4f8b\u5b50","text":"<pre><code>base.deleteRow('Table1', 'U_eTV7mDSmSd-K2P535Wzw')\n</code></pre>"},{"location":"javascript/base/#appendrow-addrowdeprecated","title":"appendRow / addRow(deprecated)","text":"<p>\u5728\u4e00\u4e2a\u5b50\u8868\u4e2d\u6dfb\u52a0\u4e00\u884c\uff0c \u5176\u4e2d addRow \u51fd\u6570\u5df2\u7ecf\u8fc7\u671f\uff0c \u65b0\u7684\u4ee3\u7801\u91cc\u9762\u53ef\u4ee5\u4f7f\u7528 appendRow\u3002</p> <pre><code>base.appendRow(table_name, row_data)\n</code></pre>"},{"location":"javascript/base/#_26","title":"\u4f8b\u5b50","text":"<pre><code>row_data = {\n    \"Name\": \"I am new Row\"\n}\nbase.appendRow('Table1', row_data)\n</code></pre>"},{"location":"javascript/base/#updaterow-modifyrowdeprecated","title":"updateRow / modifyRow(deprecated)","text":"<p>\u4fee\u6539\u8868\u683c\u4e2d\u7684\u67d0\u4e00\u884c\uff0c \u5176\u4e2d modifyRow \u51fd\u6570\u5df2\u7ecf\u8fc7\u671f\uff0c \u65b0\u7684\u4ee3\u7801\u91cc\u9762\u53ef\u4ee5\u4f7f\u7528 updateRow\u3002</p> <pre><code>base.updateRow(table_name, row_id, row_data)\n</code></pre>"},{"location":"javascript/base/#_27","title":"\u4f8b\u5b50","text":"<pre><code>base.updateRow(table_name, row_id, row_data)\n// example\nrow_data = {\n    \"Name\": \"T\"\n}\nbase.updateRow('Table1', 'U_eTV7mDSmSd-K2P535Wzw', row_data)\n</code></pre>"},{"location":"javascript/base/#modifyrows","title":"modifyRows","text":"<p>\u4e00\u6b21\u6027\u4fee\u6539\u8868\u683c\u4e2d\u7684\u591a\u884c</p> <pre><code>base.modifyRows(table: Object/String, rows: Array, updatedRows: Array);\n</code></pre>"},{"location":"javascript/base/#_28","title":"\u4f8b\u5b50","text":"<pre><code>const table = base.getTableByName('Table1');\nconst rows = base.getRows('Table1', '\u9ed8\u8ba4\u89c6\u56fe');\nconst selectedColumnName = '\u540d\u79f0';\nconst selectedRows = [], updatedRows = [];\n\nrows.forEach((row) =&gt; {\n  if (row[selectedColumnName] === 'name') {\n    selectedRows.push(row);\n    updatedRows.push({[selectedColumnName]: 'name1'});\n  }\n});\nbase.modifyRows(table, selectedRows, updatedRows);\n</code></pre>"},{"location":"javascript/base/#filter","title":"filter","text":"<p>\u901a\u8fc7\u4e00\u4e2a\u67e5\u8be2\u8bed\u53e5, \u7b5b\u9009\u51fa\u8868\u683c\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u884c, \u8fd4\u56de\u4e00\u4e2a querySet \u5bf9\u8c61</p> <ul> <li> <p>\u67e5\u8be2\u8bed\u53e5\u89c4\u8303</p> </li> <li> <p>QuerySet</p> </li> </ul>"},{"location":"javascript/base/#_29","title":"\u4f8b\u5b50","text":"<pre><code>// \u8fc7\u6ee4\u51fa number\u5217 \u7b49\u4e8e 5 \u7684\u884c, \u8fd4\u56de\u4e00\u4e2a querySet \u5bf9\u8c61\nconst querySet = base.filter('Table1', '\u9ed8\u8ba4\u89c6\u56fe', 'number = 5');\n</code></pre>"},{"location":"javascript/base/#links","title":"Links","text":""},{"location":"javascript/base/#getlinkedrecords","title":"getLinkedRecords","text":"<p>\u83b7\u53d6\u88ab\u94fe\u63a5\u7684\u884c\u7684\u4fe1\u606f\u3002\u53ef\u4ee5\u4e00\u6b21\u67e5\u8be2\u591a\u4e2a\u884c\u7684\u88ab\u94fe\u63a5\u884c\u7684\u4fe1\u606f\u3002</p> <pre><code>base.getLinkedRecords(tableId, linkColumnKey, rows)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>tableId: \u5b50\u8868\u7684 id</li> <li>linkColumnKey: \u94fe\u63a5\u5217\u7684 key (\u975e link_id )</li> <li>rows: \u9700\u8981\u67e5\u627e\u94fe\u63a5\u4fe1\u606f\u7684\u884c\u7684\u5217\u8868\uff0c\u6bcf\u4e00\u5217\u8868\u9879\u5305\u542b\u4e09\u4e2a\u53c2\u6570 row_id, offset (\u67e5\u627e\u7684\u504f\u79fb\u91cf, \u9ed8\u8ba4\u4e3a0)\uff0c limit (\u67e5\u627e\u7684\u6570\u91cf\uff0c \u9ed8\u8ba4\u4e3a10)</li> </ul>"},{"location":"javascript/base/#_30","title":"\u4f8b\u5b50","text":"<pre><code>base.getLinkedRecords('0000', '89o4', [\n  {'row_id': 'FzNqJxVUT8KrRjewBkPp8Q', 'limit': 2, 'offset': 0},\n  {'row_id': 'Jmnrkn6TQdyRg1KmOM4zZg', 'limit': 20}\n])\n\n// \u8fd4\u56de\u7684\u6570\u636e\u7ed3\u6784, \u5305\u542b\u88ab\u94fe\u63a5\u7684\u884c\u7684 ID \u548c\u663e\u793a\u503c\u3002\u6bcf\u4e2a\u884c\u6240\u8fde\u63a5\u7684\u884c\uff0c\u6309\u7167\u88ab\u94fe\u63a5\u7684\u884c\u7684\u521b\u5efa\u65f6\u95f4\u987a\u5e8f\u4ee5\u6570\u7ec4\u5f62\u5f0f\u8fd4\u56de\u3002\n{\n  'FzNqJxVUT8KrRjewBkPp8Q': [\n    {'row_id': 'LocPgVvsRm6bmnzjFDP9bA', 'display_value': '1'},                            \n    {'row_id': 'OA6x7CYoRuyc2pT52Znfmw', 'display_value': '3'},\n    ...\n  ],\n  'Jmnrkn6TQdyRg1KmOM4zZg': [\n    {'row_id': 'LocPgVvsRm6bmnzjFDP9bA', 'display_value': '1'},     \n    {'row_id': 'OA6x7CYoRuyc2pT52Znfmw', 'display_value': '3'},\n    ...\n  ]\n}\n</code></pre>"},{"location":"javascript/base/#addlink","title":"addLink","text":"<p>\u6dfb\u52a0\u94fe\u63a5\uff0c\u94fe\u63a5\u5176\u4ed6\u8868\u8bb0\u5f55</p> <pre><code>base.addLink(linkId, tableName, linkedTableName, rowId, linkedRowId)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>linkId: \u94fe\u63a5\u5217data\u5c5e\u6027\u4e0b\u7684 link_id</li> <li>tableName: \u94fe\u63a5\u8868\u7684\u540d\u5b57</li> <li>linkedTableName: \u88ab\u94fe\u63a5\u8868\u7684\u540d\u5b57</li> <li>rowId: \u94fe\u63a5\u884c id</li> <li>linkedRowId: \u88ab\u94fe\u63a5\u884c\u7684 id</li> </ul>"},{"location":"javascript/base/#_31","title":"\u4f8b\u5b50","text":"<pre><code>base.addLink('5WeC', 'real-img-files', 'contact', 'CGtoJB1oQM60RiKT-c5J-g', 'PALm2wPKTCy-jdJNv_UWaQ')\n</code></pre>"},{"location":"javascript/base/#removelink","title":"removeLink","text":"<p>\u79fb\u9664\u67d0\u4e2a\u94fe\u63a5</p> <pre><code>base.removeLink(linkId, tableName, linkedTableName, rowId, linkedRowId)\n</code></pre>"},{"location":"javascript/base/#_32","title":"\u4f8b\u5b50","text":"<pre><code>base.removeLink('5WeC', 'real-img-files', 'contact', 'CGtoJB1oQM60RiKT-c5J-g', 'PALm2wPKTCy-jdJNv_UWaQ')\n</code></pre>"},{"location":"javascript/base/#getcolumnlinkid","title":"getColumnLinkId","text":"<p>\u901a\u8fc7\u5217\u540d\u6765\u83b7\u53d6\u94fe\u63a5\u7684id</p> <pre><code>base.getColumnLinkId(table_name, column_name)\n</code></pre>"},{"location":"javascript/base/#_33","title":"\u4f8b\u5b50","text":"<pre><code>base.getColumnLinkId('Table1', '\u8bb0\u5f55')\n</code></pre>"},{"location":"javascript/base/#updatelinks","title":"updateLinks","text":"<p>\u79fb\u9664\u73b0\u6709\u7684\u6240\u6709\u7684\u884c\u7684\u94fe\u63a5, \u5e76\u6dfb\u52a0\u65b0\u94fe\u63a5</p> <pre><code>base.updateLinks(linkId, tableName, linkedTableName, rowId, updatedlinkedRowIds)\n</code></pre>"},{"location":"javascript/base/#_34","title":"\u4f8b\u5b50","text":"<pre><code>const rows = base.getRows('contact', '\u9ed8\u8ba4\u89c6\u56fe');\n\n// \u66f4\u65b0\u884c\u7684\u94fe\u63a5\u4e3a [rows[0]._id, rows[1]._id, rows[2]._id, rows[3]._id]\nbase.updateLinks('5WeC', 'real-img-files', 'contact', 'CGtoJB1oQM60RiKT-c5J-g', [rows[0]._id, rows[1]._id, rows[2]._id, rows[3]._id])\n</code></pre>"},{"location":"javascript/base/#query","title":"query","text":"<p>\u4f7f\u7528 sql \u8bed\u53e5\u67e5\u8be2\u4e00\u4e2a base</p> <pre><code>await base.query(sql)\n</code></pre>"},{"location":"javascript/base/#_35","title":"\u4f8b\u5b50","text":""},{"location":"javascript/base/#_36","title":"\u57fa\u7840\u67e5\u8be2","text":"<pre><code>const data = await base.query('select name, price, year from Bill')\noutput.text(data)\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {\"name\":\"Bob\",\"price\":\"300\",\"year\":\"2021\"},\n    {\"name\":\"Bob\",\"price\":\"300\",\"year\":\"2019\"},\n    {\"price\":\"100\",\"year\":\"2019\",\"name\":\"Tom\"},\n    {\"name\":\"Tom\",\"price\":\"100\",\"year\":\"2020\"},\n    {\"name\":\"Tom\",\"price\":\"200\",\"year\":\"2021\"},\n    {\"name\":\"Jane\",\"price\":\"200\",\"year\":\"2020\"},\n    {\"name\":\"Jane\",\"price\":\"200\",\"year\":\"2021\"}\n]\n</code></pre>"},{"location":"javascript/base/#where","title":"WHERE","text":"<pre><code>const data = await base.query('select name, price from Bill where year = 2021')\noutput.text(data)\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {\"name\":\"Bob\",\"price\":\"300\"},\n    {\"name\":\"Tom\",\"price\":\"200\"},\n    {\"name\":\"Jane\",\"price\":\"200\"}\n]\n</code></pre>"},{"location":"javascript/base/#order-by","title":"ORDER BY","text":"<pre><code>const data = await base.query('select name, price from Bill where year = 2021')\noutput.text(data)\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {\"price\":\"300\",\"year\":2019,\"name\":\"Bob\"},\n    {\"price\":\"100\",\"year\":2019,\"name\":\"Tom\"},\n    {\"name\":\"Tom\",\"price\":\"100\",\"year\":2020},\n    {\"price\":\"200\",\"year\":2020,\"name\":\"Jane\"},\n    {\"name\":\"Bob\",\"price\":\"300\",\"year\":2021},\n    {\"name\":\"Tom\",\"price\":\"200\",\"year\":2021},\n    {\"name\":\"Jane\",\"price\":\"200\",\"year\":2021}\n]\n</code></pre>"},{"location":"javascript/base/#group-by","title":"GROUP BY","text":"<pre><code>const data = await base.query('select name, sum(price) from Bill group by name')\noutput.text(data)\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {\"name\":\"Bob\",\"SUM(price)\":600},\n    {\"SUM(price)\":400,\"name\":\"Jane\"},\n    {\"name\":\"Tom\",\"SUM(price)\":400}\n]\n</code></pre>"},{"location":"javascript/base/#distinct","title":"DISTINCT","text":"<pre><code>const data = await base.query('select distinct name from Bill')\noutput.text(data)\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {\"name\":\"Bob\"},\n    {\"name\":\"Jane\"},\n    {\"name\":\"Tom\"}\n]\n</code></pre>"},{"location":"javascript/context/","title":"Context \u5bf9\u8c61","text":"<p>\u5f53\u811a\u672c\u8fd0\u884c\u65f6, context \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e0a\u4e0b\u6587\u73af\u5883\u3002\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b:</p> <pre><code>base.context.currentTable // \u7528\u6237\u8fd0\u884c\u4e00\u4e2a\u811a\u672c\u7684\u65f6\u5019\uff0c\u5f53\u524d\u7528\u6237\u6b63\u5728\u67e5\u770b\u7684\u5b50\u8868\u7684\u540d\u79f0\nbase.context.currentRow // \u7528\u6237\u8fd0\u884c\u4e00\u4e2a\u811a\u672c\u7684\u65f6\u5019\uff0c\u5f53\u524d\u5149\u6807\u6240\u5728\u7684\u884c\n</code></pre>"},{"location":"javascript/output/","title":"Output","text":""},{"location":"javascript/output/#output","title":"Output \u5bf9\u8c61","text":"<p>Output \u5bf9\u8c61\u652f\u6301\u8f93\u51fa\u6587\u672c\u683c\u5f0f\u6216\u8005 Markdwon \u683c\u5f0f\u7684\u5185\u5bb9</p>"},{"location":"javascript/output/#text","title":"Text","text":"<pre><code>const table = base.getActiveTable();\noutput.text(table.name);\n</code></pre>"},{"location":"javascript/output/#markdown","title":"Markdown","text":"<pre><code>const table = base.getActiveTable()\uff1b\noutput.markdown(`##### ${table.name}`);\n</code></pre>"},{"location":"javascript/query-sentences/","title":"Query-Sentence","text":"<p>\u901a\u8fc7 base.filter \u7684\u8c03\u7528\u7ed3\u5408\u5199\u5165\u7c7b sql \u7684\u8bed\u53e5\u7684\u65b9\u5f0f\u53ef\u4ee5\u7075\u6d3b\u7684\u5bf9\u8868\u683c\u4e2d\u6570\u636e\u8fdb\u884c\u67e5\u8be2\uff0c \u5176\u4e2d\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u652f\u6301\u7684\u67e5\u8be2\u65b9\u5f0f\uff0c\u4ee5\u53ca\u67e5\u8be2\u8bed\u53e5\u4e66\u5199\u89c4\u8303\u6709\u4e9b\u8bb8\u5dee\u5f02\uff0c\u4ee5\u4e0b\u8fdb\u884c\u8be6\u7ec6\u8bf4\u660e</p>"},{"location":"javascript/query-sentences/#_1","title":"\u64cd\u4f5c\u7b26\u8bf4\u660e","text":"<ul> <li>\u5927\u5c0f\u6bd4\u8f83:  &gt;\uff0c &gt;=\uff0c =\uff0c \\&lt;\uff0c \\&lt;=</li> <li>\u76f8\u5f02\u6bd4\u8f83:  =\uff0c \\&lt;&gt;</li> <li>\u6570\u5b66\u8fd0\u7b97:  +, -, *, /, ^, %</li> </ul>"},{"location":"javascript/query-sentences/#_2","title":"\u6c47\u603b","text":"<p>\u4ee5 <code>queryset = base.filter(\"Table1\", \"age&gt;18\")</code> \u4e2d\u7684\u8bed\u53e5\u4e3a\u4f8b\uff1a</p> <ul> <li>age: \u5217\u540d\uff0c\u4ee5\u4e0b\u7528 column_name \u4ee3\u66ff</li> <li>&gt; : \u64cd\u4f5c\u7b26</li> <li>18: \u67e5\u8be2\u53c2\u6570</li> </ul> \u6570\u636e\u7ed3\u6784 \u5217\u7c7b\u578b \u5927\u5c0f\u6bd4\u8f83\u53c2\u6570\u89c4\u8303 \u76f8\u5f02\u6bd4\u8f83\u53c2\u6570\u89c4\u8303 \u6570\u5b66\u8fd0\u7b97 \u5b57\u7b26\u4e32 \u6587\u672c, \u957f\u6587\u672c, URL, \u90ae\u7bb1,  \u5355\u9009 \u4e0d\u652f\u6301 \u5b57\u7b26\u4e32, \u7a7a\u503c \"\" \u4e0d\u652f\u6301 \u5217\u8868 \u591a\u9009 \u4e0d\u652f\u6301 \u5b57\u7b26\u4e32 \u4e0d\u652f\u6301 \u6570\u5b57 \u6570\u5b57 \u63a5\u53d7\u6574\u6570\uff0c\u5c0f\u6570 \u63a5\u53d7\u6574\u6570\uff0c\u5c0f\u6570\uff0c\u7a7a\u503c\u201c\u201d \u652f\u6301 \u65e5\u671f \u65e5\u671f,  \u521b\u5efa\u65f6\u95f4, \u4fee\u6539\u65f6\u95f4 \u63a5\u53d7\u65e5\u671f\u683c\u5f0f\u7684\u53c2\u6570\uff0c\u89c4\u5219\u5982\u4e0b\uff1a\u5e74-\u6708-\u65e5 \u5982 \"2020-1-30\", \u5e74-\u6708-\u65e5 \u65f6:\u5206 \u5982\"2020-1-30 5:28\", \u5e74-\u6708-\u65e5 \u65f6:\u5206:\u79d2 \u5982 \"2020-1-30 5:28:7\" \u540c\u5927\u5c0f\u6bd4\u8f83\u53c2\u6570\u89c4\u8303\u76f8\u540c\uff0c\u6b64\u5916\u63a5\u53d7\u7a7a\u503c\"\" \u4e0d\u652f\u6301 \u5e03\u5c14 \u52fe\u9009 \u4e0d\u652f\u6301 \u63a5\u53d7 True\uff0cFalse (\u4e0d\u533a\u5206\u5927\u5c0f\u5199)\uff0c \u7a7a\u503c \u4e0d\u652f\u6301"},{"location":"javascript/query-sentences/#_3","title":"\u4e3e\u4f8b\u8bf4\u660e","text":""},{"location":"javascript/query-sentences/#_4","title":"\u5b57\u7b26\u4e32\u6570\u636e\u7ed3\u6784\u5217","text":"<ul> <li>\u5305\u542b\u6587\u672c\uff0c\u957f\u6587\u672c\uff0c URL\uff0c \u90ae\u7bb1\uff0c\u5355\u9009\u7b49\u5217\u7c7b\u578b</li> </ul> <pre><code># 1. \u76f8\u5f02\u6bd4\u8f83\nbase.filter('Table1', 'view_name', \"column_name=hello world\")\nbase.filter('Table1', 'view_name', \"column_name!=''\")\n</code></pre>"},{"location":"javascript/query-sentences/#_5","title":"\u5217\u8868\u6570\u636e\u7ed3\u6784\u5217","text":"<ul> <li>\u5305\u542b\u591a\u9009\u7b49\u5217\u7c7b\u578b</li> </ul> <pre><code>// \u76f8\u5f02\u6bd4\u8f83\nbase.filter('Table1', 'view_name', \"column_name=\u5317\u4eac and column_name=\u4e0a\u6d77\") # \u540c\u65f6\u5305\u542b\u201c\u5317\u4eac\u201d\u548c\u201c\u4e0a\u6d77\u201d\u7684\u884c\uff0c and \u53ef\u4ee5\u66ff\u6362\u6210 or\n</code></pre>"},{"location":"javascript/query-sentences/#_6","title":"\u6570\u5b57\u6570\u636e\u7ed3\u6784\u5217","text":"<ul> <li>\u6570\u5b57\u7c7b\u578b\u6570\u636e\u7684\u6bd4\u8f83</li> </ul> <pre><code>// 1. \u5927\u5c0f\u6bd4\u8f83\nbase.filter('Table1', 'view_name', \"column_name&gt;18\")\nbase.filter('Table1', 'view_name', \"column_name&gt;-10 and column_name&lt;=0\")\n\n// 2. \u76f8\u5f02\u6bd4\u8f83\nbase.filter('Table1', 'view_name', \"column_name&lt;&gt;20\")\nbase.filter('Table1', 'view_name', \"column_name=0\")\nbase.filter('Table1', 'view_name', \"column_name=''\")\n</code></pre> <ul> <li>\u6570\u5b66\u8fd0\u7b97</li> </ul> <pre><code>base.filter('Table1', 'view_name', \"column_name+3&gt;18\")\nbase.filter('Table1', 'view_name', \"column_name*2=18\")\nbase.filter('Table1', 'view_name', \"column_name-2=18\")\nbase.filter('Table1', 'view_name', \"column_name/2=18\")\nbase.filter('Table1', 'view_name', \"column_name^2=18\")\nbase.filter('Table1', 'view_name', \"column_name%2=1\")\n</code></pre>"},{"location":"javascript/query-sentences/#_7","title":"\u65e5\u671f\u6570\u636e\u7ed3\u6784\u5217","text":"<ul> <li>\u5305\u62ec\u65e5\u671f\uff0c\u521b\u5efa\u65f6\u95f4\uff0c\u4fee\u6539\u65f6\u95f4\u7b49, </li> </ul> <pre><code># 1. \u5927\u5c0f\u6bd4\u8f83\nbase.filter('Table1', 'view_name', \"column_name&gt;'2020-1-30'\")\nbase.filter('Table1', \"column_name&gt;='2019-1-1 5:30' and column_name&lt;='2019-5-1 6:00'\")\n\n# 2. \u76f8\u5f02\u6bd4\u8f83\nbase.filter('Table1', 'view_name', \"column_name='2020-1-1 10:59:59'\")\nbase.filter('Table1', 'view_name', \"column_name!=''\")\n</code></pre> <p>\u6ce8\u610f: \u65e5\u671f\u6bd4\u8f83\u9700\u8981\u628a\u67e5\u8be2\u7684\u65e5\u671f\u52a0\u4e0a\u5f15\u53f7</p>"},{"location":"javascript/query-sentences/#_8","title":"\u5e03\u5c14\u6570\u636e\u7ed3\u6784\u5217","text":"<ul> <li>\u52fe\u9009\u7c7b\u578b</li> </ul> <pre><code>// \u76f8\u5f02\u6bd4\u8f83\nbase.filter('Table1', 'view_name', 'column_name=False') # \u540c base.filter('Table1', 'view_name', \"column_name=''\")\nbase.filter('Table1', 'view_name', \"column_name=True\")\n</code></pre>"},{"location":"javascript/queryset/","title":"Queryset","text":""},{"location":"javascript/queryset/#queryset","title":"QuerySet \u5bf9\u8c61","text":"<p>base.filter \u51fd\u6570\u7684\u8fd4\u56de\u503c, \u8be5\u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u7b80\u5316\u5bf9\u8bb0\u5f55\u7684\u64cd\u4f5c</p>"},{"location":"javascript/queryset/#querysetall","title":"querySet.all","text":"<p>\u4ee5\u4e00\u4e2a\u5217\u8868\u7684\u5f62\u5f0f\u8fd4\u56de\u6240\u6709\u8fc7\u6ee4\u5f97\u5230\u7684\u6570\u636e</p>"},{"location":"javascript/queryset/#_1","title":"\u4f8b\u5b50","text":"<pre><code>const list = querySet.all();\n</code></pre>"},{"location":"javascript/queryset/#querysetcount","title":"querySet.count","text":"<p>\u8fd4\u56de\u8fc7\u6ee4\u5f97\u5230\u7684\u884c\u7684\u6570\u91cf</p>"},{"location":"javascript/queryset/#_2","title":"\u4f8b\u5b50","text":"<pre><code>const count = querySet.count();\n</code></pre>"},{"location":"javascript/queryset/#querysetlast","title":"querySet.last","text":"<p>\u8fd4\u56de\u6700\u540e\u4e00\u6761\u8fc7\u6ee4\u5f97\u5230\u7684\u6570\u636e</p>"},{"location":"javascript/queryset/#_3","title":"\u4f8b\u5b50","text":"<pre><code>const row = querySet.last();\n</code></pre>"},{"location":"javascript/queryset/#querysetfirst","title":"querySet.first","text":"<p>\u8fd4\u56de\u7b2c\u4e00\u6761\u8fc7\u6ee4\u5f97\u5230\u7684\u6570\u636e</p>"},{"location":"javascript/queryset/#_4","title":"\u4f8b\u5b50","text":"<pre><code>const row = querySet.first();\n</code></pre>"},{"location":"javascript/queryset/#querysetdelete","title":"querySet.delete","text":"<p>\u5220\u9664\u6240\u6709\u8fc7\u6ee4\u5f97\u5230\u7684\u884c, \u5e76\u8fd4\u56de\u6210\u529f\u5220\u9664\u7684\u6570\u91cf</p>"},{"location":"javascript/queryset/#_5","title":"\u4f8b\u5b50","text":"<pre><code>const count = querySet.delete();\n</code></pre>"},{"location":"javascript/queryset/#querysetupdate","title":"querySet.update","text":"<p>\u4fee\u6539\u884c\u6570\u636e, \u5e76\u8fd4\u56de\u66f4\u65b0\u540e\u7684\u6570\u636e</p>"},{"location":"javascript/queryset/#_6","title":"\u4f8b\u5b50","text":"<pre><code>// \u5c06\u8fc7\u6ee4\u5f97\u5230\u7684\u6240\u6709\u7684\u884c\u7684 Name \u5217\u7684\u5185\u5bb9\u4fee\u6539\u4e3a xxxx\nconst rows = querySet.update({Name: 'xxxx'});\n</code></pre>"},{"location":"javascript/queryset/#querysetfilter","title":"querySet.filter","text":"<p>\u8fdb\u4e00\u6b65\u8fdb\u884c\u8fc7\u6ee4, \u8fd4\u56de\u4e00\u4e2a querySet \u5bf9\u8c61</p>"},{"location":"javascript/queryset/#_7","title":"\u4f8b\u5b50","text":"<pre><code>// \u8fc7\u6ee4\u51fa querySet \u4e2d Name \u5217\u7684\u503c\u4e3a\u674e\u660e\u7684\u884c\nconst querySet1 = querySet.filter('Name = \"\u674e\u660e\"');\n</code></pre>"},{"location":"javascript/queryset/#querysetget","title":"querySet.get","text":"<p>\u83b7\u53d6 querySet \u4e2d\u7684\u6ee1\u8db3\u6761\u4ef6\u7684\u7b2c\u4e00\u6761\u6570\u636e, \u8fd4\u56de\u4e00\u4e2a row</p>"},{"location":"javascript/queryset/#_8","title":"\u4f8b\u5b50","text":"<pre><code>// \u83b7\u53d6 querySet \u4e2d Name \u5217\u7684\u503c\u4e3a\u674e\u660e\u7684\u7b2c\u4e00\u6761\u6570\u636e\nconst row = querySet.get('Name = \"\u674e\u660e\"');\n</code></pre>"},{"location":"javascript/utils/","title":"Utility \u65b9\u6cd5","text":"<p>Utility \u65b9\u6cd5\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5904\u7406 SeaTable \u4e2d\u7684\u6570\u636e.</p>"},{"location":"javascript/utils/#formatdate","title":"formatDate","text":"<p>\u683c\u5f0f\u5316\u65e5\u671f, \u8fd4\u56de\u4e00\u4e2a \u2018YYYY-MM-DD\u2019 \u683c\u5f0f\u7684\u65e5\u671f</p>"},{"location":"javascript/utils/#_1","title":"\u4f8b\u5b50","text":"<pre><code>let date = new Date();\nlet formatDate = base.utils.formatDate(date);\n\noutput.text(formatDate); // 2020-08-20\n</code></pre>"},{"location":"javascript/utils/#formatdatewithminutes","title":"formatDateWithMinutes","text":"<p>\u683c\u5f0f\u5316\u65e5\u671f, \u8fd4\u56de\u4e00\u4e2a \u2018YYYY-MM-DD HH:mm\u2019 \u683c\u5f0f\u7684\u65e5\u671f</p>"},{"location":"javascript/utils/#_2","title":"\u4f8b\u5b50","text":"<pre><code>let date = new Date();\nlet formatDate = base.utils.formatDateWithMinutes(date);\n\noutput.text(formatDate); // 2020-08-20 14:00\n</code></pre>"},{"location":"javascript/utils/#lookupandcopy","title":"lookupAndCopy","text":"<pre><code>base.utils.lookupAndCopy(targetTable, targetColumn, targetColumnToCompare, sourceTableName, sourceColumnName, sourceColumnToCompare = null);\n</code></pre> <p>\u7c7b\u4f3c Excel \u4e2d vlookup \u51fd\u6570\u3002\u4e3a\u76ee\u6807\u8868\u683c\u7684\u6bcf\u4e00\u884c\u5728\u6e90\u8868\u683c\u4e2d\u67e5\u627e\u5339\u914d\u7684\u884c\uff0c\u7136\u540e\u628a\u5339\u914d\u884c\u7684\u6307\u5b9a\u5355\u5143\u683c\u7684\u6570\u636e\u62f7\u8d1d\u5230\u76ee\u6807\u884c\u6307\u5b9a\u7684\u5355\u5143\u683c\u4e2d\u3002</p> <p>\u6bd4\u5982\u6211\u4eec\u6709\u4e00\u4e2a\u6e90\u8868\u683c\u5305\u542b\u4e86\u7528\u6237\u540d\u548c\u90ae\u4ef6\u5730\u5740\u7684\u5bf9\u5e94\u5173\u7cfb:</p> Name Email xxx xxxx yyy yyyy <p>\u76ee\u6807\u8868\u683c\u53ea\u6709\u7528\u6237\u540d</p> Name Email xxx yyy <p>\u6211\u4eec\u9700\u8981\u628a\u6e90\u8868\u683c\u4e2d\u7684 Email \u4fe1\u606f\u62f7\u8d1d\u5230\u76ee\u6807\u8868\u683c\u4e2d\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u7528\u8fd9\u4e2a\u51fd\u6570\u3002</p>"},{"location":"javascript/utils/#_3","title":"\u4f8b\u5b50","text":"<pre><code>  // \u5339\u914d\u51fa Table1 \u548c Table2 \u4e2d Name \u5217\u7684\u5185\u5bb9\u76f8\u540c\u7684\u884c, \u5c06 Table1 \u4e2d\u7684\u884c\u7684 Email \u5217\u7684\u5185\u5bb9\u62f7\u8d1d\u5230 Table2 \u4e2d\u5bf9\u5e94\u884c\u7684 Email \u5217\n  base.utils.lookupAndCopy('Table2', 'Email', 'Name', 'Table1', 'Name');\n\n  // \u5339\u914d\u51fa Table1 \u4e2d Name \u5217\u548c Table2 \u4e2d Name1 \u5217\u7684\u5185\u5bb9\u76f8\u540c\u7684\u884c, \u5c06 Table1 \u4e2d\u7684\u884c\u7684 Email \u5217\u7684\u5185\u5bb9\u62f7\u8d1d\u5230 Table2 \u4e2d\u5bf9\u5e94\u884c\u7684 Email1 \u5217\n  base.utils.lookupAndCopy('Table2', 'Email1', 'Name1', 'Table1', 'Email', 'Name');\n</code></pre>"},{"location":"javascript/utils/#query","title":"query","text":"<p>\u901a\u8fc7\u7c7b sql \u8bed\u53e5\u7684\u65b9\u5f0f\u5bf9\u8868\u683c\u6570\u636e\u8fdb\u884c\u7b5b\u9009\u5e76\u5f52\u603b</p>"},{"location":"javascript/utils/#_4","title":"\u4f8b\u5b50","text":"<pre><code> // \u8fc7\u6ee4\u51fa number, number1, number2 \u8fd9\u4e09\u5217\u7684\u548c\u5927\u4e8e5\u7684\u884c, \u5e76\u5bf9\u8fd9\u4e9b\u884c\u4e2d\u7684 number, number2 \u5217\u5206\u522b\u6c42\u548c, \u8fd4\u56de\u7ed3\u679c {number: 12, number2: 23}\n base.utils.query('Table1', 'View_name', 'select sum(number), sum(number2) where number + number1 + number2 &gt; 5');\n</code></pre>"},{"location":"javascript-api/","title":"JavaScript API","text":"<p>JavaScript API \u662f\u5bf9 SeaTable \u670d\u52a1\u5668 Restful API \u7684\u5c01\u88c5\u3002\u4f60\u53ef\u4ee5\u5728\u4f60\u7684\u524d\u7aef\u9875\u9762\u4e2d\u6216\u8005 Node.js \u7a0b\u5e8f\u4e2d\u8c03\u7528\u3002</p> <p>\u6ce8\u610f: JavaScript API \u4e0d\u80fd\u7528\u4e8e SeaTable \u8868\u683c\u4e2d\u811a\u672c\u3002\u811a\u672c\u7f16\u7a0b\u8bf7\u53c2\u8003\u53e6\u5916\u7684\u6587\u6863\u3002</p>"},{"location":"javascript-api/#_1","title":"\u7f16\u7a0b\u53c2\u8003","text":"<p>SeaTable \u4e2d\u5bf9\u8c61\u7684\u6570\u636e\u7ed3\u6784:</p> <ul> <li>\u6570\u636e\u7ed3\u6784</li> </ul> <p>SeaTable API \u5e93\u4ecb\u7ecd:</p> <ul> <li>Base</li> <li>Query</li> <li>Rows</li> <li>Links</li> <li>Columns</li> <li>Constants: \u4e00\u4e9b\u5e38\u91cf\u5b9a\u4e49</li> </ul> <p>SeaTable API \u4f7f\u7528\u8bf4\u660e</p> <ol> <li>\u6388\u6743 api(base.auth()) \u662f\u4e00\u4e2a async \u51fd\u6570, \u9700\u8981\u5728 async \u51fd\u6570\u4e2d\u6267\u884c</li> <li>\u5176\u4ed6 api \u90fd\u8fd4\u56de\u4e00\u4e2apromise \u5bf9\u8c61 \u4f7f\u7528\u65b9\u6cd5\u6709\u4e24\u79cd <pre><code>\u7b2c\u4e00\u79cd:\nbase.listViews(tableName).then(views =&gt; {\n  // \u4f7f\u7528 views \u5b8c\u6210\u9700\u6c42\n}).catch(error =&gt; {\n  // \u5f02\u5e38\u5904\u7406\n})\n\n\u7b2c\u4e8c\u79cd:\n\ntry {\n  const views = await base.listViews(tableName);\n  // \u4f7f\u7528 views \u5b8c\u6210\u9700\u6c42\n} catch (error) {\n  // \u5f02\u5e38\u5904\u7406\n}\n</code></pre></li> </ol> <p>Seatable API Errors</p> <ul> <li>400 Params invalid</li> <li>403 Permission denied</li> <li>413 exceed limit</li> <li>500 Internal Server Error</li> </ul>"},{"location":"javascript-api/base/","title":"Base \u5bf9\u8c61","text":"<p>Base \u4ee3\u8868\u4e00\u4e2a\u8868\u683c\u3002\u4f60\u53ef\u4ee5\u7528\u8868\u683c\u7684 api token \u83b7\u53d6\u8bfb\u5199 base \u7684\u6388\u6743, \u8fd9\u4e2a token \u53ef\u4ee5\u5728\u7f51\u9875\u7aef\u76f4\u63a5\u751f\u6210\u3002</p>"},{"location":"javascript-api/base/#_1","title":"\u83b7\u53d6\u6388\u6743","text":"<p>\u4f7f\u7528\u8868\u683c\u7684 API Token \u6765\u83b7\u53d6\u4e00\u4e2a base \u7684\u8bbf\u95ee\u6388\u6743\u3002</p>"},{"location":"javascript-api/base/#_2","title":"\u4f8b\u5b50","text":"<pre><code>import { Base } from 'seatable-api';\n\nconst config = {\n  server: 'https://cloud.seatable.cn',\n  APIToken: 'c3c75dca2c369849455a39f4436147639cf02b2d'\n};\n\nconst base = new Base(config);\nawait base.auth()\n</code></pre>"},{"location":"javascript-api/base/#metadata","title":"Metadata","text":""},{"location":"javascript-api/base/#get-metadata","title":"Get metadata","text":"<p>\u83b7\u53d6 base \u7684 metadata \u4fe1\u606f</p> <pre><code>base.getMetadata();\n</code></pre>"},{"location":"javascript-api/base/#_3","title":"\u4f8b\u5b50","text":"<pre><code>const metadata = await base.getMetadata();\n</code></pre> <p>\u8fd4\u56de\u7ed3\u679c</p> <pre><code>{\n    'tables': [{\n        '_id': '4krH',\n        'name': '\u8054\u7cfb\u4eba',\n        'is_header_locked': False,\n        'columns': [{\n            'key': '0000',\n            'type': 'text',\n            'name': '\u540d\u79f0',\n            'editable': True,\n            'width': 200,\n            'resizable': True,\n            'draggable': True,\n            'data': None,\n            'permission_type': '',\n            'permitted_users': []\n        }, {\n            'key': 'M31F',\n            'type': 'text',\n            'name': '\u90ae\u7bb1',\n            'editable': True,\n            'width': 200,\n            'resizable': True,\n            'draggable': True,\n            'data': None,\n            'permission_type': '',\n            'permitted_users': []\n        }],\n        'views': [{\n            '_id': '0000',\n            'name': '\u9ed8\u8ba4\u89c6\u56fe',\n            'type': 'table',\n            'is_locked': False,\n            'filter_conjunction': 'And',\n            'filters': [],\n            'sorts': [],\n            'groupbys': [],\n            'group_rows': [],\n            'groups': [],\n            'colorbys': {},\n            'hidden_columns': [],\n            'rows': [],\n            'formula_rows': {},\n            'link_rows': {},\n            'summaries': {},\n            'colors': {}\n        }]\n    }]\n}\n</code></pre>"},{"location":"javascript-api/base/#table","title":"Table","text":""},{"location":"javascript-api/base/#get-tables","title":"Get tables","text":"<p>\u83b7\u53d6 base \u4e2d\u7684\u8868\u683c\u4fe1\u606f</p> <pre><code>base.getTables()\n</code></pre>"},{"location":"javascript-api/base/#_4","title":"\u4f8b\u5b50","text":"<pre><code>const tables = await base.getTables();\n</code></pre>"},{"location":"javascript-api/base/#get-table-by-name","title":"Get table by name","text":"<p>\u901a\u8fc7\u540d\u79f0\u83b7\u53d6\u5b50\u8868</p> <pre><code>base.getTableByName(table_name);\n</code></pre>"},{"location":"javascript-api/base/#_5","title":"\u4f8b\u5b50","text":"<pre><code>const table = await base.getTableByName('Table1')\n</code></pre>"},{"location":"javascript-api/base/#add-table","title":"Add table","text":"<p>\u5728 base \u4e2d\u6dfb\u52a0\u5b50\u8868</p> <pre><code>base.addTable(table_name, lang='en')\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>lang\uff1a\u8bed\u8a00\uff0c \u9ed8\u8ba4 en \uff0c \u76ee\u524d\u652f\u6301\u82f1\u6587 ( en )\u548c\u4e2d\u6587 ( zh-cn )</li> </ul>"},{"location":"javascript-api/base/#_6","title":"\u4f8b\u5b50","text":"<pre><code>await base.addTable('\u9879\u76ee\u8c03\u67e5\u8868', lang='zh-cn')\n</code></pre>"},{"location":"javascript-api/base/#rename-table","title":"Rename table","text":"<p>\u83b7\u53d6 base \u4e2d\u7684\u8868\u683c\u4fe1\u606f</p> <pre><code>base.renameTable(old_name, new_name)\n</code></pre>"},{"location":"javascript-api/base/#_7","title":"\u4f8b\u5b50","text":"<pre><code>await base.renameTable('Table_Add1', 'New_Table_Add1');\n</code></pre>"},{"location":"javascript-api/base/#delete-table","title":"Delete table","text":"<p>\u5220\u9664\u4e00\u4e2a\u5b50\u8868</p> <pre><code>base.deleteTable(table_name)\n</code></pre>"},{"location":"javascript-api/base/#_8","title":"\u4f8b\u5b50","text":"<pre><code>await base.deleteTable('Table1')\n</code></pre>"},{"location":"javascript-api/base/#base_1","title":"Base \u4e0a\u7684\u64cd\u4f5c","text":"<p>Base \u5bf9\u8c61\u63d0\u4f9b\u4e86\u64cd\u4f5c\u884c\u548c\u5217\u7684\u63a5\u53e3\uff0c\u8bf7\u53c2\u8003\u6587\u6863</p> <ul> <li>Rows</li> <li>Links</li> <li>Columns</li> <li>Query with SQL</li> </ul>"},{"location":"javascript-api/columns/","title":"Column","text":""},{"location":"javascript-api/columns/#list-columns","title":"List columns","text":"<p>\u5217\u51fa\u8868/\u89c6\u56fe\u6240\u6709\u5217</p> <pre><code>base.listColumns(table_name, view_name='')\n</code></pre>"},{"location":"javascript-api/columns/#_1","title":"\u4f8b\u5b50","text":"<pre><code>const columns1 = await base.listColumns('Table1')\nconst columns2 = await base.listColumns('Table1', view_name='default')\n</code></pre>"},{"location":"javascript-api/columns/#get-columns-by-name","title":"Get columns by name","text":"<p>\u6839\u636e\u5217\u540d\u79f0\u6765\u83b7\u53d6\u5217</p> <pre><code>base.getColumnByName(table_name, column_name);\n</code></pre>"},{"location":"javascript-api/columns/#_2","title":"\u4f8b\u5b50","text":"<pre><code>const col = await base.getColumnsByName('Table1', 'Name');\n</code></pre>"},{"location":"javascript-api/columns/#get-columns-by-type","title":"Get columns by type","text":"<p>\u6839\u636e\u5217\u7684\u7c7b\u578b\u6765\u83b7\u53d6\u5217</p> <pre><code>base.getColumnsByType(table_name, col_type);\n</code></pre>"},{"location":"javascript-api/columns/#_3","title":"\u4f8b\u5b50","text":"<pre><code>const cols = await base.getColumnsByType('Table1', 'number')\n</code></pre>"},{"location":"javascript-api/columns/#insert-column","title":"Insert column","text":"<p>\u63d2\u5165/\u8ffd\u52a0\u5217</p> <pre><code>base.insertColumn(table_name, column_name, column_type, column_key='', column_data='')\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>column_key\uff1a\u8981\u63d2\u5165\u7684\u4f4d\u7f6e\u7684\u524d\u4e00\u5217\u7684 key\uff0c\u5982\u82e5\u7701\u7565\u5219\u9ed8\u8ba4\u8ffd\u52a0\u4e3a\u6700\u540e\u4e00\u5217</li> <li>column_type\uff1a\u8bf7\u53c2\u8003 constants</li> <li>column_data: \u4e00\u4e2a\u5217\u7684 config \u4fe1\u606f\uff0c\u521b\u5efa\u94fe\u63a5\u5217\u65f6\u9700\u8981\u6307\u5b9a\uff0c \u5176\u4ed6\u7c7b\u578b\u9009\u62e9\u6027\u5236\u5b9a</li> </ul>"},{"location":"javascript-api/columns/#_4","title":"\u4f8b\u5b50","text":"<pre><code>import { ColumnTypes } from 'seatable-api';\n\nawait base.insertColumn('Table1', 'seatable-api', ColumnTypes.TEXT)\nawait base.insertColumn('Table1', 'seatable-api', ColumnTypes.TEXT, '0000')\nawait base.insertColumn('Table1', 'Link1', ColumnTypes.LINK, column_data={\n        'table':'Table1',\n        'other_table':'Test_User'\n    })\n</code></pre>"},{"location":"javascript-api/columns/#rename-column","title":"Rename column","text":"<p>\u91cd\u547d\u540d\u5217</p> <pre><code>base.renameColumn(table_name, column_key, new_column_name)\n</code></pre>"},{"location":"javascript-api/columns/#_5","title":"\u4f8b\u5b50","text":"<pre><code>await base.renameColumn('Table1', 'kSiR', 'new-seatable-api')\n</code></pre>"},{"location":"javascript-api/columns/#resize-column","title":"Resize column","text":"<p>\u8bbe\u7f6e\u5217\u5bbd</p> <pre><code>base.resizeColumn(table_name, column_key, new_column_width)\n</code></pre>"},{"location":"javascript-api/columns/#_6","title":"\u4f8b\u5b50","text":"<p>\u5217\u7684\u9ed8\u8ba4\u5bbd\u5ea6\u4e3a200\uff0c\u5982\u679c\u9700\u8981\u8c03\u6574\u5217\u5bbd\u6bd4\u5982\u8c03\u6574\u4e3a500\uff0c\u5219</p> <pre><code>await base.resizeColumn('Table1', 'asFV', 500)\n</code></pre>"},{"location":"javascript-api/columns/#freeze-column","title":"Freeze column","text":"<p>\u51bb\u7ed3\u5217</p> <pre><code>base.freezeColumn(table_name, column_key, frozen)\n</code></pre> <p>frozen: true/false</p>"},{"location":"javascript-api/columns/#_7","title":"\u4f8b\u5b50","text":"<pre><code>await base.freezeColumn('Table1', '0000', true)\n</code></pre>"},{"location":"javascript-api/columns/#move-column","title":"Move column","text":"<pre><code>base.moveColumn(table_name, column_key, target_column_key)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li> <p>column_key\uff1a\u8981\u79fb\u52a8\u7684\u5217\u7684 key</p> </li> <li> <p>target_column_key\uff1a \u951a\u5b9a\u5217\u7684 key\uff0c\u88ab\u79fb\u52a8\u7684\u5217\u5c06\u4f1a\u88ab\u79fb\u52a8\u5230\u8be5\u5217\u53f3\u8fb9</p> </li> </ul>"},{"location":"javascript-api/columns/#_8","title":"\u4f8b\u5b50","text":"<pre><code>await base.moveColumn('Table1', 'loPx', '0000')\n</code></pre> <p>\u6b64\u4f8b\u4e2d\uff0c<code>loPx</code>\u5217\u5c06\u4f1a\u88ab\u79fb\u52a8\u5230<code>0000</code>\u5217\u7684\u53f3\u8fb9</p>"},{"location":"javascript-api/columns/#modify-column-type","title":"Modify column type","text":"<p>\u8f6c\u6362\u5217\u7c7b\u578b</p> <pre><code>base.modifyColumnType(table_name, column_key, new_column_type)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>column_type\uff1a\u8bf7\u53c2\u8003 constants</li> </ul>"},{"location":"javascript-api/columns/#_9","title":"\u4f8b\u5b50","text":"<pre><code>import { ColumnTypes } from 'seatable-api';\n\nawait base.modifyColumnType('Table1', 'nePI', ColumnTypes.NUMBER)\n</code></pre>"},{"location":"javascript-api/columns/#add-column-options","title":"Add column options","text":"<p>\u5355\u9009\uff0c\u591a\u9009\u5217\u4e13\u7528\uff0c\u6dfb\u52a0\u9009\u9879</p> <pre><code>base.addColumnOptions(table_name, column, options)\n</code></pre>"},{"location":"javascript-api/columns/#_10","title":"\u4f8b\u5b50","text":"<pre><code>await base.addColumnOptions('Table1', 'My choices', [\n        {\"name\": \"ddd\", \"color\": \"#aaa\", \"textColor\": \"#000000\"},\n        {\"name\": \"eee\", \"color\": \"#aaa\", \"textColor\": \"#000000\"},\n        {\"name\": \"fff\", \"color\": \"#aaa\", \"textColor\": \"#000000\"},\n])\n</code></pre>"},{"location":"javascript-api/columns/#add-column-cascade-settings","title":"Add column cascade settings","text":"<p>\u5355\u9009\u5217\u4e13\u7528\uff0c\u6dfb\u52a0\u5355\u9009\u9009\u9879\u7684\u7236\u5b50\u53ca\u8054\u5173\u7cfb\uff0c\u8fbe\u5230\u5b50\u5217\u7684\u5355\u9009\u9009\u9879\u6761\u76ee\u6839\u636e\u7236\u5217\u7684\u9009\u9879\u800c\u5b9a\u7684\u6548\u679c</p> <pre><code>base.addColumnCascadeSettings(table_name, child_column, parent_column, cascade_settings)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>child_column: \u5355\u9009\u5b50\u5217\u7684\u540d\u79f0</li> <li>parent_column: \u5355\u9009\u7236\u5217\u7684\u540d\u79f0</li> <li>cascade_settings: \u53ca\u8054\u5173\u7cfb\u8bbe\u7f6e\u6570\u636e</li> </ul>"},{"location":"javascript-api/columns/#_11","title":"\u4f8b\u5b50","text":"<pre><code>await base.addColumnCascadeSettings(\"Table1\", \"single-op-col-c\", \"single-op-col\", {\n  \"aaa\": [\"aaa-1\", \"aaa-2\"], # \u5982\u679c\u7236\u5217\u9009\u62e9 \u201caaa\u201d\uff0c \u5b50\u5217\u53ea\u6709 \u201caaa-1\u201d \u548c \u201caaa-2\u201d \u53ef\u9009 \n  \"bbb\": [\"bbb-1\", \"bbb-2\"],\n  \"ccc\": [\"ccc-1\", \"ccc-2\"]\n})\n</code></pre>"},{"location":"javascript-api/columns/#delete-column","title":"Delete column","text":"<p>\u5220\u9664\u5217</p> <pre><code>base.deleteColumn(table_name, column_key)\n</code></pre>"},{"location":"javascript-api/columns/#_12","title":"\u4f8b\u5b50","text":"<pre><code>await base.deleteColumn('Table1', 'bsKL')\n</code></pre>"},{"location":"javascript-api/constants/","title":"Constants","text":"<p>\u5728\u811a\u672c\u4e2d\u53ef\u80fd\u4f1a\u6709\u4e00\u4e9b\u5e38\u91cf\u9700\u8981\u6211\u4eec\u4e86\u89e3\u4e0b</p>"},{"location":"javascript-api/constants/#columntypes","title":"ColumnTypes","text":"<p>\u5217\u7c7b\u578b\uff0c\u5f53\u63d2\u5165/\u8ffd\u52a0\u5217\u3001\u66f4\u6539\u5217\u7c7b\u578b\u65f6\u7b49\u60c5\u51b5\u9700\u8981\u4f7f\u7528\u5230</p> <pre><code>import { ColumnTypes } from 'seatable-api';\n\nColumnTypes.NUMBER              # \u6570\u5b57\nColumnTypes.TEXT                # \u6587\u672c\nColumnTypes.LONG_TEXT           # \u957f\u6587\u672c\nColumnTypes.CHECKBOX            # \u52fe\u9009\nColumnTypes.DATE                # \u65e5\u671f\u65f6\u95f4\nColumnTypes.SINGLE_SELECT       # \u5355\u9009\nColumnTypes.MULTIPLE_SELECT     # \u591a\u9009\nColumnTypes.IMAGE               # \u56fe\u7247\nColumnTypes.FILE                # \u6587\u4ef6\nColumnTypes.COLLABORATOR        # \u534f\u4f5c\u4eba\nColumnTypes.LINK                # \u94fe\u63a5\u5176\u4ed6\u8bb0\u5f55\nColumnTypes.FORMULA             # \u516c\u5f0f\nColumnTypes.CREATOR             # \u521b\u5efa\u8005\nColumnTypes.CTIME               # \u521b\u5efa\u65f6\u95f4\nColumnTypes.LAST_MODIFIER       # \u4fee\u6539\u8005\nColumnTypes.MTIME               # \u4fee\u6539\u65f6\u95f4\nColumnTypes.GEOLOCATION         # \u5730\u5740\nColumnTypes.AUTO_NUMBER         # \u81ea\u52a8\u5e8f\u53f7\nColumnTypes.URL                 # \u94fe\u63a5\n</code></pre>"},{"location":"javascript-api/links/","title":"Links","text":""},{"location":"javascript-api/links/#get-linked-records","title":"Get linked records","text":"<p>\u83b7\u53d6\u88ab\u94fe\u63a5\u7684\u884c\u7684\u4fe1\u606f\u3002\u53ef\u4ee5\u4e00\u6b21\u67e5\u8be2\u591a\u4e2a\u884c\u7684\u88ab\u94fe\u63a5\u884c\u7684\u4fe1\u606f\u3002</p> <pre><code>base.getLinkedRecords(table_id, link_column_key, rows)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_id: \u5b50\u8868\u7684 id</li> <li>link_column_key: \u94fe\u63a5\u5217\u7684 key (\u975e link_id )</li> <li>rows: \u9700\u8981\u67e5\u627e\u94fe\u63a5\u4fe1\u606f\u7684\u884c\u7684\u5217\u8868\uff0c\u6bcf\u4e00\u5217\u8868\u9879\u5305\u542b\u4e09\u4e2a\u53c2\u6570 row_id, offset (\u67e5\u627e\u7684\u504f\u79fb\u91cf, \u9ed8\u8ba4\u4e3a0)\uff0c limit (\u67e5\u627e\u7684\u6570\u91cf\uff0c \u9ed8\u8ba4\u4e3a10)</li> </ul>"},{"location":"javascript-api/links/#_1","title":"\u4f8b\u5b50","text":"<pre><code>base.getLinkedRecords('0000', '89o4', [\n  {'row_id': 'FzNqJxVUT8KrRjewBkPp8Q', 'limit': 2, 'offset': 0},\n  {'row_id': 'Jmnrkn6TQdyRg1KmOM4zZg', 'limit': 20}\n])\n\n// \u8fd4\u56de\u7684\u6570\u636e\u7ed3\u6784, \u5305\u542b\u88ab\u94fe\u63a5\u7684\u884c\u7684 ID \u548c\u663e\u793a\u503c\u3002\u6bcf\u4e2a\u884c\u6240\u8fde\u63a5\u7684\u884c\uff0c\u6309\u7167\u88ab\u94fe\u63a5\u7684\u884c\u7684\u521b\u5efa\u65f6\u95f4\u987a\u5e8f\u4ee5\u6570\u7ec4\u5f62\u5f0f\u8fd4\u56de\u3002\n{\n  'FzNqJxVUT8KrRjewBkPp8Q': [\n    {'row_id': 'LocPgVvsRm6bmnzjFDP9bA', 'display_value': '1'},                            \n    {'row_id': 'OA6x7CYoRuyc2pT52Znfmw', 'display_value': '3'},\n    ...\n  ],\n  'Jmnrkn6TQdyRg1KmOM4zZg': [\n    {'row_id': 'LocPgVvsRm6bmnzjFDP9bA', 'display_value': '1'},     \n    {'row_id': 'OA6x7CYoRuyc2pT52Znfmw', 'display_value': '3'},\n    ...\n  ]\n}\n</code></pre>"},{"location":"javascript-api/links/#add-link","title":"Add link","text":"<p>\u6dfb\u52a0\u94fe\u63a5\uff0c\u94fe\u63a5\u5176\u4ed6\u8868\u8bb0\u5f55</p> <pre><code>base.addLink(link_id, table_name, other_table_name, row_id, other_row_id)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>link_id: \u94fe\u63a5\u5217 data \u5c5e\u6027\u4e0b\u7684 link_id (\u4f60\u53ef\u4ee5\u83b7\u53d6 base \u7684 metadata\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u5217\uff0c\u7136\u540e\u627e\u4e00\u4e0b data \u5b57\u6bb5\u4e0b\u7684 link_id \u5b57\u6bb5)</li> <li>table_name: \u94fe\u63a5\u8868\u7684\u540d\u5b57</li> <li>other_table_name: \u88ab\u94fe\u63a5\u8868\u7684\u540d\u5b57</li> <li>row_id: \u94fe\u63a5\u884c id</li> <li>other_row_id: \u88ab\u94fe\u63a5\u884c\u7684 id</li> </ul>"},{"location":"javascript-api/links/#_2","title":"\u4f8b\u5b50","text":"<pre><code>await base.addLink('5WeC', 'real-img-files', 'contact', 'CGtoJB1oQM60RiKT-c5J-g', 'PALm2wPKTCy-jdJNv_UWaQ')\n</code></pre>"},{"location":"javascript-api/links/#update-link","title":"Update link","text":"<p>\u66f4\u65b0\u94fe\u63a5\u4fe1\u606f</p> <pre><code>base.updateLink(self, link_id, table_name, other_table_name, row_id, other_rows_ids)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>link_id: \u94fe\u63a5\u5217 data \u5c5e\u6027\u4e0b\u7684 link_id </li> <li>table_name: \u94fe\u63a5\u8868\u7684 \u540d\u79f0</li> <li>other_table_name: \u88ab\u94fe\u63a5\u8868\u7684 \u540d\u79f0</li> <li>row_id: \u94fe\u63a5\u884c id</li> <li>other_rows_ids: \u88ab\u94fe\u63a5\u884c\u7684 id \u5217\u8868</li> </ul>"},{"location":"javascript-api/links/#_3","title":"\u4f8b\u5b50","text":"<pre><code>await base.updateLink(\n        link_id='r4IJ',\n        table_name='Table1',\n        other_table_name='Table2',\n        row_id='BXhEm9ucTNu3FjupIk7Xug',\n        other_rows_ids=[\n          'exkb56fAT66j8R0w6wD9Qg',\n          'DjHjwmlRRB6WgU9uPnrWeA'\n        ]\n    )\n</code></pre>"},{"location":"javascript-api/links/#batch-update-links","title":"Batch update links","text":"<p>\u6279\u91cf\u66f4\u65b0\u94fe\u63a5\u4fe1\u606f</p> <pre><code>base.batchUpdateLinks(link_id, table_name, other_table_name, row_id_list, other_rows_ids_map)\n</code></pre>"},{"location":"javascript-api/links/#_4","title":"\u4f8b\u5b50","text":"<pre><code>link_id = \"WaW5\"\ntable_name =\"Table1\"\nother_table_id = \"Table2\"\nrow_id_list = [\"fRLglslWQYSGmkU7o6KyHw\",\"eSQe9OpPQxih8A9zPXdMVA\",\"FseN8ygVTzq1CHDqI4NjjQ\"]\nother_rows_ids_map = {\n        \"FseN8ygVTzq1CHDqI4NjjQ\":[\"OcCE8aX8T7a4dvJr-qNh3g\",\"JckTyhN0TeS8yvH8D3EN7g\"],\n        \"eSQe9OpPQxih8A9zPXdMVA\":[\"cWHbzQiTR8uHHzH_gVSKIg\",\"X56gE7BrRF-i61YlE4oTcw\"],\n        \"fRLglslWQYSGmkU7o6KyHw\":[\"MdfUQiWcTL--uMlrGtqqgw\",\"E7Sh3FboSPmfBlDsrj_Fhg\",\"UcZ7w9wDT-uVq4Ohtwgy9w\"]\n}\n\nawait base.batchUpdateLinks(link_id, table_id, other_table_id, row_id_list, other_rows_ids_map)\n</code></pre>"},{"location":"javascript-api/links/#remove-link","title":"Remove link","text":"<p>\u79fb\u9664\u67d0\u4e2a\u94fe\u63a5</p> <pre><code>base.removeLink(link_id, table_name, other_table_name, row_id, other_row_id)\n</code></pre>"},{"location":"javascript-api/links/#_5","title":"\u4f8b\u5b50","text":"<pre><code>await base.removeLink('5WeC', 'real-img-files', 'contact', 'CGtoJB1oQM60RiKT-c5J-g', 'PALm2wPKTCy-jdJNv_UWaQ')\n</code></pre>"},{"location":"javascript-api/links/#get-link-id","title":"Get link id","text":"<p>\u901a\u8fc7\u5217\u540d\u6765\u83b7\u53d6\u94fe\u63a5\u7684id</p> <pre><code>base.getColumnLinkId(table_name, column_name)\n</code></pre>"},{"location":"javascript-api/links/#_6","title":"\u4f8b\u5b50","text":"<pre><code>const linkId = await base.getColumnLinkId('TableLink', '\u8bb0\u5f55') # \u8fd4\u56de\u94fe\u63a5\u7684id\uff0c\u5982\u2018aHL2\u2019\n</code></pre>"},{"location":"javascript-api/query/","title":"Query with SQL","text":""},{"location":"javascript-api/query/#query","title":"Query","text":"<p>\u4f7f\u7528 sql \u8bed\u53e5\u67e5\u8be2\u4e00\u4e2a base</p> <pre><code>base.query(sql)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>sql: \u8981\u6267\u884c\u7684 SQL \u8bed\u53e5</li> </ul> <p>\u6ce8\u610f: \u9ed8\u8ba4\u8fd4\u56de\u6700\u591a 100 \u6761\u7ed3\u679c\uff0c\u5982\u679c\u9700\u8981\u66f4\u591a\u7ed3\u679c\uff0c\u8bf7\u5728 sql \u8bed\u53e5\u4e2d\u52a0\u5165 limit \u53c2\u6570</p> <p>\u53ef\u80fd\u7684\u5f02\u5e38\u5305\u62ec</p> <ul> <li>ValueError: sql can not be empty</li> <li>ConnectionError: network error</li> <li>Exception: no such table</li> <li>Exception: no such column</li> <li>Exception: columns in group by should match columns in select</li> </ul>"},{"location":"javascript-api/query/#_1","title":"\u4f8b\u5b50","text":""},{"location":"javascript-api/query/#_2","title":"\u57fa\u7840\u67e5\u8be2","text":"<pre><code>await base.query('select name, price, year from Bill')\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {'_id': 'PzBiZklNTGiGJS-4c0_VLw', 'name': 'Bob', 'price': 300, 'year': 2019},\n    {'_id': 'Ep7odyv1QC2vDQR2raMvSA', 'name': 'Bob', 'price': 300, 'year': 2021},\n    {'_id': 'f1x3X_8uTtSDUe9D60VlYQ', 'name': 'Tom', 'price': 100, 'year': 2019},\n    {'_id': 'NxeaB5pDRFKOItUs_Ugxug', 'name': 'Tom', 'price': 100, 'year': 2020},\n    {'_id': 'W0BrjGQpSES9nfSytvXgMA', 'name': 'Tom', 'price': 200, 'year': 2021},\n    {'_id': 'EvwCWtX3RmKYKHQO9w2kLg', 'name': 'Jane', 'price': 200, 'year': 2020},\n    {'_id': 'BTiIGSTgR06UhPLhejFctA', 'name': 'Jane', 'price': 200, 'year': 2021}\n]\n</code></pre>"},{"location":"javascript-api/query/#where","title":"WHERE","text":"<pre><code>await base.query('select name, price from Bill where year = 2021 ')\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {'_id': 'Ep7odyv1QC2vDQR2raMvSA', 'name': 'Bob', 'price': 300},\n    {'_id': 'W0BrjGQpSES9nfSytvXgMA', 'name': 'Tom', 'price': 200},\n    {'_id': 'BTiIGSTgR06UhPLhejFctA', 'name': 'Jane', 'price': 200}\n]\n</code></pre>"},{"location":"javascript-api/query/#order-by","title":"ORDER BY","text":"<pre><code>await base.query('select name, price, year from Bill order by year')\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {'_id': 'PzBiZklNTGiGJS-4c0_VLw', 'name': 'Bob', 'price': 300, 'year': 2019},\n    {'_id': 'f1x3X_8uTtSDUe9D60VlYQ', 'name': 'Tom', 'price': 100, 'year': 2019},\n    {'_id': 'NxeaB5pDRFKOItUs_Ugxug', 'name': 'Tom', 'price': 100, 'year': 2020},\n    {'_id': 'EvwCWtX3RmKYKHQO9w2kLg', 'name': 'Jane', 'price': 200, 'year': 2020},\n    {'_id': 'Ep7odyv1QC2vDQR2raMvSA', 'name': 'Bob', 'price': 300, 'year': 2021},\n    {'_id': 'W0BrjGQpSES9nfSytvXgMA', 'name': 'Tom', 'price': 200, 'year': 2021},\n    {'_id': 'BTiIGSTgR06UhPLhejFctA', 'name': 'Jane', 'price': 200, 'year': 2021}\n]\n</code></pre>"},{"location":"javascript-api/query/#group-by","title":"GROUP BY","text":"<pre><code>await base.query('select name, sum(price) from Bill group by name')\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {'SUM(price)': 600, 'name': 'Bob'},\n    {'SUM(price)': 400, 'name': 'Tom'},\n    {'SUM(price)': 400, 'name': 'Jane'}\n]\n</code></pre>"},{"location":"javascript-api/query/#distinct","title":"DISTINCT","text":"<pre><code>await base.query('select distinct name from Bill')\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {'_id': 'PzBiZklNTGiGJS-4c0_VLw', 'name': 'Bob'},\n    {'_id': 'f1x3X_8uTtSDUe9D60VlYQ', 'name': 'Tom'},\n    {'_id': 'EvwCWtX3RmKYKHQO9w2kLg', 'name': 'Jane'}\n]\n</code></pre>"},{"location":"javascript-api/rows/","title":"Row","text":""},{"location":"javascript-api/rows/#list-rows","title":"List rows","text":"<p>\u83b7\u53d6\u8868\u683c\u7684\u6240\u6709\u884c</p> <pre><code>base.listRows(table_name, view_name='', order_by='', desc='', start='', limit='')\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0</li> <li>view_name: \u89c6\u56fe\u540d\u79f0\uff0c \u5982\u679c\u8bbe\u5b9a\uff0c \u4f1a\u8fd4\u56de\u6ee1\u8db3\u89c6\u56fe\u8bbe\u5b9a\u6761\u4ef6\u7684\u884c\u6570\u636e</li> <li>order_by: \u6309\u7167\u67d0\u5217\u6392\u5e8f\u7684\u5217\u540d</li> <li>desc:  \u662f\u5426\u662f\u964d\u5e8f\uff0c\u9ed8\u8ba4\u4e3a false</li> <li>start: \u7d22\u5f15\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0c\u884c\u53f7</li> <li>limit: \u6570\u636e\u7684\u663e\u793a\u6570\u91cf\uff0c\u6700\u5927\u8fd4\u56de 1000 \u884c (\u5373\u4f7f\u8bbe\u5b9a\u503c\u8d85\u8fc7 1000 \u884c)</li> </ul>"},{"location":"javascript-api/rows/#_1","title":"\u4f8b\u5b50","text":"<pre><code>const rows1 = await base.listRows('Table1')\nconst rows2 = await base.listRows('Table1', 'Default', '\u5e74\u9f84', true, 5, 20)\n</code></pre>"},{"location":"javascript-api/rows/#get-row","title":"Get row","text":"<p>\u83b7\u53d6\u8868\u683c\u7684\u67d0\u4e00\u884c</p> <pre><code>base.getRow(table_name, row_id)\n</code></pre>"},{"location":"javascript-api/rows/#_2","title":"\u4f8b\u5b50","text":"<pre><code>const row = await base.getRow('Table1', 'U_eTV7mDSmSd-K2P535Wzw')\n</code></pre>"},{"location":"javascript-api/rows/#append-row","title":"Append row","text":"<p>\u8ffd\u52a0\u884c</p> <pre><code>base.appendRow(table_name, row_data, apply_default = false)\n</code></pre>"},{"location":"javascript-api/rows/#_3","title":"\u4f8b\u5b50","text":"<pre><code>row_data = {\n    \"Name\": \"I am new Row\"\n}\n\nawait base.appendRow('Table1', row_data)\n</code></pre>"},{"location":"javascript-api/rows/#insert-row","title":"Insert row","text":"<p>\u63d2\u5165\u884c</p> <pre><code>base.insertRow(table_name, row_data, anchor_row_id, apply_default = false)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>anchor_row_id: \u951a\u5b9a\u7684\u884c\u7684 id\uff0c\u5c06\u4f1a\u628a\u65b0\u884c\u63d2\u5165\u5230\u8fd9\u884c\u4e0b\u65b9</li> </ul>"},{"location":"javascript-api/rows/#_4","title":"\u4f8b\u5b50","text":"<pre><code>row_data = {\n    \"Name\": \"I am new Row\"\n}\n\nawait base.insertRow('Table1', row_data, 'U_eTV7mDSmSd-K2P535Wzw')\n</code></pre>"},{"location":"javascript-api/rows/#batch-append-rows","title":"Batch append rows","text":"<p>\u6279\u91cf\u8ffd\u52a0\u884c</p> <pre><code>base.batchAppendRows(table_name, rows_data, apply_default = false)\n</code></pre>"},{"location":"javascript-api/rows/#_5","title":"\u4f8b\u5b50","text":"<pre><code>rows_data = [{\n                'Name': 'test batch',\n                'content': 'Yes'\n            }, {\n                'Name': 'test batch',\n                'content': 'Yes'\n            }, {\n                'Name': 'test batch',\n                'content': 'Yes'\n            }]\nawait base.batchAppendRows('Table6', rows_data)\n</code></pre>"},{"location":"javascript-api/rows/#update-row","title":"Update row","text":"<p>\u66f4\u65b0\u4e00\u884c</p> <pre><code>base.updateRow(table_name, row_id, row_data)\n</code></pre>"},{"location":"javascript-api/rows/#_6","title":"\u4f8b\u5b50","text":"<pre><code>row_data = {\n    \"dcXS\": \"123\"\n}\nawait base.updateRow('Table1', 'U_eTV7mDSmSd-K2P535Wzw', row_data)\n</code></pre>"},{"location":"javascript-api/rows/#batch-update-rows","title":"Batch update rows","text":"<p>\u6279\u91cf\u66f4\u65b0\u884c</p> <pre><code>base.batchUpdateRows(table_name, rows_data)\n</code></pre>"},{"location":"javascript-api/rows/#_7","title":"\u4f8b\u5b50","text":"<pre><code>updates_data = [\n        {\n            \"row_id\": \"fMmCFyoxT4GN5Y2Powbl0Q\",\n            \"row\": {\n                \"Name\": \"Ranjiwei\",\n                \"age\": \"36\"\n            }\n        },\n        {\n            \"row_id\": \"cF5JTE99Tae-VVx0BGT-3A\",\n            \"row\": {\n                \"Name\": \"Huitailang\",\n                \"age\": \"33\"\n            }\n        },\n        {\n            \"row_id\": \"WP-8rb5PSUaM-tZRmTOCPA\",\n            \"row\": {\n                \"Name\": \"Yufeng\",\n                \"age\": \"22\"\n            }\n        }\n    ]\nawait base.batchUpdateRows('Table1', rows_data=updates_data)\n</code></pre>"},{"location":"javascript-api/rows/#delete-row","title":"Delete row","text":"<p>\u5220\u9664\u4e00\u884c</p> <pre><code>base.deleteRow(table_name, row_id)\n</code></pre>"},{"location":"javascript-api/rows/#_8","title":"\u4f8b\u5b50","text":"<pre><code>await base.deleteRow('Table1', 'U_eTV7mDSmSd-K2P535Wzw')\n</code></pre>"},{"location":"javascript-api/rows/#batch-delete-rows","title":"Batch delete rows","text":"<p>\u6279\u91cf\u5220\u9664\u884c</p> <pre><code>base.batchDeleteRows(table_name, row_ids)\n</code></pre>"},{"location":"javascript-api/rows/#_9","title":"\u4f8b\u5b50","text":"<pre><code>const del_rows = rows.slice(0, 3);\nconst row_ids = del_rows.map(row =&gt; row._id);\nawait base.batchDeleteRows('Table1', row_ids)\n</code></pre>"},{"location":"javascript-api/views/","title":"Views","text":""},{"location":"javascript-api/views/#list-views","title":"List views","text":"<p>\u83b7\u53d6\u5b50\u8868\u4e2d\u6240\u6709\u7684\u89c6\u56fe\u4fe1\u606f</p> <pre><code>base.listViews(table_name)\n</code></pre>"},{"location":"javascript-api/views/#_1","title":"\u4f8b\u5b50","text":"<pre><code>const views = await base.listViews('Table1')\n</code></pre>"},{"location":"javascript-api/views/#get-a-view-by-name","title":"Get a view by name","text":"<p>\u901a\u8fc7\u89c6\u56fe\u540d\u79f0\u6765\u83b7\u53d6\u4e00\u4e2a\u89c6\u56fe</p> <pre><code>base.getViewByName(table_name, view_name);\n</code></pre>"},{"location":"javascript-api/views/#_2","title":"\u4f8b\u5b50","text":"<pre><code>const view = await base.getViewByName('Table1', 'MyView');\n</code></pre>"},{"location":"javascript-api/views/#add-view","title":"Add view","text":"<p>\u589e\u52a0\u4e00\u4e2a\u89c6\u56fe</p> <pre><code>base.addView(table_name, new_view_name);\n</code></pre>"},{"location":"javascript-api/views/#_3","title":"\u4f8b\u5b50","text":"<pre><code>await base.addView('Table1', 'new_view');\n</code></pre>"},{"location":"javascript-api/views/#raname-view","title":"Raname view","text":"<p>\u91cd\u547d\u540d\u4e00\u4e2a\u89c6\u56fe</p> <pre><code>base.renameView(table_name, view_name, new_view_name);\n</code></pre>"},{"location":"javascript-api/views/#_4","title":"\u4f8b\u5b50","text":"<pre><code>await base.renameView('Table1', 'myView', 'myView-01');\n</code></pre>"},{"location":"javascript-api/views/#delete-view","title":"Delete view","text":"<p>\u5220\u9664\u4e00\u4e2a\u89c6\u56fe</p> <pre><code>base.deleteView(table_name, view_name);\n</code></pre>"},{"location":"javascript-api/views/#_5","title":"\u4f8b\u5b50","text":"<pre><code>await base.deleteView('Table1', 'MyView');\n</code></pre>"},{"location":"plugins/","title":"SeaTable \u63d2\u4ef6\u5f00\u53d1\u6d41\u7a0b","text":"<p>\u5728\u8fd9\u4e2a\u6307\u5357\u4e2d\uff0c\u6211\u4eec\u4f1a\u4e00\u6b65\u6b65\u7684\u6f14\u793a\u600e\u4e48\u7ed9 SeaTable \u5199\u4e00\u4e2a\u6269\u5c55\u3002\u8fd9\u4e2a\u6269\u5c55\u53ef\u4ee5\u663e\u793a\u8868\u683c\u57fa\u672c\u4fe1\u606f\uff0c\u5305\u62ec</p> <ul> <li>\u5b50\u8868\u7684\u4e2a\u6570</li> <li>\u603b\u7684\u8bb0\u5f55\u6570</li> <li>\u534f\u4f5c\u4eba\u6570\u76ee</li> </ul> <p>\u63d2\u4ef6\u5f00\u53d1\u5b9e\u4f8b\u7684\u4ee3\u7801\u5f88\u7b80\u5355\uff0c\u4f60\u53ef\u4ee5\u70b9\u51fb\u8fd9\u4e2a github\u94fe\u63a5 \u83b7\u53d6\u6e90\u7801</p> <p>\u63d2\u4ef6\u5f00\u53d1\u6d41\u7a0b\u5982\u4e0b\u3002</p>"},{"location":"plugins/#_1","title":"\u63d2\u4ef6\u5f00\u53d1\u57fa\u672c\u6d41\u7a0b","text":""},{"location":"plugins/#1","title":"1. \u5b89\u88c5\u63d2\u4ef6\u5f00\u53d1\u811a\u624b\u67b6","text":"<pre><code>npm install -g create-dtable-plugin\n</code></pre>"},{"location":"plugins/#2","title":"2. \u901a\u8fc7\u811a\u624b\u67b6\u521b\u5efa\u63d2\u4ef6","text":"<pre><code>create-dtable-plugin init seatable-plugin-table-info\n</code></pre> <p>\u5b89\u88c5\u4f9d\u8d56</p> <pre><code>cd seatable-plugin-table-info\nnpm install\n</code></pre>"},{"location":"plugins/#3","title":"3. \u4fee\u6539\u63d2\u4ef6\u914d\u7f6e","text":"<p>\u4fee\u6539 plugin-config \u6587\u4ef6\u5939\u4e2d info.json \u914d\u7f6e\u6587\u4ef6</p> <pre><code>\"name\": '',                   // \u63d2\u4ef6\u82f1\u6587\u540d\u5b57\uff0c\u53ea\u80fd\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u3001\u4e2d\u5212\u7ebf\n\"version\": '',                // \u63d2\u4ef6\u7248\u672c\u53f7\n\"display_type: '',            // \u63d2\u4ef6\u5c55\u793a\u7c7b\u578b \"dialog\" | 'overlay'\n\"display_name\": '',           // \u63d2\u4ef6\u663e\u793a\u7684\u540d\u5b57\n\"description\": '',            // \u63d2\u4ef6\u529f\u80fd\u76f8\u5173\u63cf\u8ff0\n</code></pre> <p>\u8fd9\u91cc\u4e0d\u9700\u8981\u6dfb\u52a0\u5176\u4ed6\u914d\u7f6e\u53c2\u6570\uff0c\u5176\u4ed6\u53c2\u6570\u7531\u6253\u5305\u5de5\u5177\u81ea\u52a8\u751f\u6210\u3002</p> <p>\u53ef\u9009\u64cd\u4f5c</p> <ul> <li>\u5728 plugin-config \u6587\u4ef6\u5939\u4e2d\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7684 icon.png \u4f5c\u4e3a\u63d2\u4ef6\u7684\u56fe\u6807\uff08\u53ef\u4e0d\u63d0\u4f9b\uff0c\u91c7\u7528\u9ed8\u8ba4\u56fe\u6807\u3002icon.png \u8981\u6c42\u662f 128x128 \u50cf\u7d20)</li> <li>\u5728 plugin-config \u6587\u4ef6\u5939\u4e2d\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7684 card_image.png \u4f5c\u4e3a\u63d2\u4ef6\u56fe\u6807\u7684\u80cc\u666f\u56fe\uff08\u53ef\u4e0d\u63d0\u4f9b\uff0c\u663e\u793a\u9ed8\u8ba4\u80cc\u666f\u3002card_image.png \u8981\u6c42\u662f 560x240 \u50cf\u7d20)</li> </ul>"},{"location":"plugins/#4-entryjs","title":"4. \u4fee\u6539entry.js\u6587\u4ef6\u4e2d\u7684\u63d2\u4ef6\u6ce8\u518c\u51fd\u6570","text":"<pre><code>  \u66f4\u65b0 window.app.registerPluginItemCallback('test', TaskList.execute);\n  \u2b07\ufe0f\n  \u4e3a\uff1a window.app.registerPluginItemCallback(name, TaskList.execute);  \u6b64\u5904\u7684 name \u503c\u4e3a plugin-config/info.json \u4e2d\u7684 \u201cname\u201d \u503c\n</code></pre>"},{"location":"plugins/#5","title":"5. \u6dfb\u52a0\u63d2\u4ef6\u5f00\u53d1\u914d\u7f6e\u6587\u4ef6","text":"<p>\u5728\u9879\u76ee src \u6587\u4ef6\u5939\u4e2d\u6709\u4e00\u4e2a\u6587\u4ef6 setting.local.dist.js, \u5c06\u5176 copy \u4e00\u4efd \u5e76\u547d\u540d\u4e3a setting.local.js \u6587\u4ef6\u5185\u5bb9\u5982\u4e0b, \u6309\u7167\u6ce8\u91ca\u8fdb\u884c\u4fee\u6539\u5373\u53ef</p> <pre><code>const config = {\n  APIToken: \"**\",               // \u9700\u6dfb\u52a0\u63d2\u4ef6\u7684 dtable \u7684 apiToken\n  server: \"**\",                 // \u9700\u6dfb\u52a0\u63d2\u4ef6\u7684 dtable \u7684\u90e8\u7f72\u7f51\u5740\n  workspaceID: \"**\",            // \u9700\u6dfb\u52a0\u63d2\u4ef6\u7684 dtable \u6240\u5728\u7684 workspace \u7684 id \u503c\n  dtableName: \"**\",             // \u9700\u6dfb\u52a0\u63d2\u4ef6\u7684 dtable \u7684\u540d\u5b57\n  lang: \"**\"                    // \u63d2\u4ef6\u9ed8\u8ba4\u8bed\u8a00\u7c7b\u578b\uff0cen \u6216\u8005 zh-cn\n};\n</code></pre>"},{"location":"plugins/#6","title":"6. \u5f00\u59cb\u5f00\u53d1","text":"<p>\u8fd0\u884c\u672c\u5730\u5f00\u53d1\u73af\u5883</p> <pre><code>npm start\n</code></pre> <p>\u5728\u6d4f\u89c8\u5668\u4e0a\u6253\u5f00 localhost:3000 \u53ef\u4ee5\u770b\u5230\u63d2\u4ef6\u5bf9\u8bdd\u6846\u5df2\u7ecf\u6253\u5f00\uff0c\u5bf9\u8bdd\u6846\u4e2d\u9ed8\u8ba4\u663e\u793a\u901a\u8fc7 dtable-sdk \u7ec4\u4ef6\u5e93\u63d0\u4f9b\u7684\u63a5\u53e3\u51fd\u6570 1. (getTables)\u83b7\u53d6\u7684dtable\u8868\u683c\u7684\u5b50\u8868\u4fe1\u606f 2. (getRelatedUsers)\u83b7\u53d6\u7684dtable\u534f\u4f5c\u4eba\u7684\u8be6\u7ec6\u4fe1\u606f</p> <p>\u4e3b\u8981\u4ee3\u7801\u53ca\u7528\u9014</p> <ul> <li>/src/index.js \u672c\u5730\u5f00\u53d1\u63d2\u4ef6\u7684\u5165\u53e3\u6587\u4ef6</li> <li>/src/entry.js \u6309\u7167\u5230 SeaTable \u540e\u4f5c\u4e3a\u63d2\u4ef6\u8fd0\u884c\u65f6\u7684\u5165\u53e3\u6587\u4ef6</li> <li>/src/app.js \u63d2\u4ef6\u4e3b\u8981\u4ee3\u7801</li> </ul>"},{"location":"plugins/#7","title":"7. \u663e\u793a\u8868\u683c\u57fa\u672c\u4fe1\u606f","text":"<p>\u5199\u4e00\u4e2a TableInfo \u7684\u7ec4\u4ef6\uff0c\u8fd9\u4e2a\u7ec4\u4ef6\u9700\u8981\u4f20\u5165 tables \u548c collaborators \u4e24\u4e2a Props</p> <pre><code>class TableInfo extends React.Component {\n}\n\nconst propTypes = {\n  tables: PropTypes.array.isRequired,\n  collaborators: PropTypes.array.isRequired,\n};\n\nTableInfo.propTypes = propTypes;\n\nexport default TableInfo;\n</code></pre> <p>\u83b7\u53d6\u5b50\u8868\u7684\u4e2a\u6570</p> <pre><code>getTablesNumber = (tables) =&gt; {\n  return (tables &amp;&amp; Array.isArray(tables)) ? tables.length : 0;\n}\n</code></pre> <p>\u83b7\u53d6\u603b\u7684\u8bb0\u5f55\u6570</p> <pre><code>getRecords = (tables) =&gt; {\n  let recordsNumber = 0;\n  if (!tables) return recordsNumber;\n  for (let i = 0; i &lt; tables.length; i++) {\n    const table = tables[i];\n    const rows = table.rows;\n    if (rows &amp;&amp; Array.isArray(rows)) {\n      recordsNumber += rows.length;\n    }\n  }\n  return recordsNumber;\n}\n</code></pre> <p>\u83b7\u53d6\u534f\u4f5c\u4eba\u53ca\u6570\u91cf</p> <pre><code>renderCollaborators = (collaborators) =&gt; {\n  if (!collaborators || !Array.isArray(collaborators)) {\n    return null;\n  }\n  return collaborators.map((collaborator, index) =&gt; {\n    return (\n      &lt;div key={index} className=\"collaborator\"&gt;\n        &lt;span className=\"collaborator-avatar-container\"&gt;\n          &lt;img className=\"collaborator-avatar\" alt='' src={collaborator.avatar_url}/&gt;\n        &lt;/span&gt;\n        &lt;span className=\"collaborator-name\"&gt;{collaborator.name}&lt;/span&gt;\n      &lt;/div&gt;\n    );\n  });\n}\n</code></pre> <p>\u754c\u9762\u6e32\u67d3\uff1a\u5b50\u8868\u7684\u4e2a\u6570\u3001\u603b\u7684\u8bb0\u5f55\u6570\u3001\u534f\u4f5c\u4eba\u6570\u76ee</p> <pre><code>render() {\n  const { tables, collaborators } = this.props;\n  return (\n    &lt;div&gt;\n      &lt;div&gt;{'\u5b50\u8868\u7684\u4e2a\u6570: '}{this.getTablesNumber(tables)}&lt;/div&gt;&lt;br/&gt;\n      &lt;div&gt;{'\u603b\u7684\u8bb0\u5f55\u6570: '}{this.getRecords(tables)}&lt;/div&gt;&lt;br/&gt;\n      &lt;div&gt;{'\u534f\u4f5c\u4eba\u6570\u91cf: '}{collaborators ? collaborators.length : 0}&lt;/div&gt;&lt;br/&gt;\n      &lt;div className=\"plugin-collaborators\"&gt;{this.renderCollaborators(collaborators)}&lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>\u5728\u7236\u7ec4\u4ef6 app.js \u4e2d\u8c03\u7528 TableInfo \u7ec4\u4ef6\uff0c\u5e76\u4fee\u6539 app.js \u4e2d\u7684 render \u51fd\u6570\uff0c\u4f20\u5165 tables \u548c collaborators\u3002</p> <pre><code>import PropTypes from 'prop-types';\nimport TableInfo from './table-info';\n\nclass App extends React.Component{\n  let tables = window.dtableSDK..getTables();\n  let collaborators = window.dtableSDK.getRelatedUsers();\n  render() {\n    return (\n      &lt;Modal isOpen={showDialog} toggle={this.onPluginToggle} contentClassName=\"dtable-plugin plugin-container\" size='lg'&gt;\n        &lt;ModalHeader className=\"test-plugin-header\" toggle={this.onPluginToggle}&gt;{'\u63d2\u4ef6'}&lt;/ModalHeader&gt;\n        &lt;ModalBody className=\"test-plugin-content\"&gt;\n          &lt;TableInfo tables={tables} collaborators={collaborators}/&gt;\n        &lt;/ModalBody&gt;\n      &lt;/Modal&gt;\n    );\n  }\n}\n\nApp.propTypes = {\n  row: PropTypes.object, // \u5982\u679c\u63d2\u4ef6\u662f\u901a\u8fc7\u6309\u94ae\u6253\u5f00\u7684\uff0c\u4f1a\u6709\u4e00\u4e2arow\u53c2\u6570\n}\n</code></pre> <p>\u589e\u52a0 css/table-info.css \u6587\u4ef6\uff0c\u4fee\u6539\u63d2\u4ef6\u7684\u6837\u5f0f\u3002</p> <p>\u518d\u6b21\u8fd0\u884c <code>npm start</code>\uff0c\u5373\u53ef\u5728\u6d4f\u89c8\u5668\u4e0a localhost: 3000 \u770b\u5230\u4e0b\u9762\u7684\u4fe1\u606f\u3002</p> <pre><code>\u5b50\u8868\u7684\u4e2a\u6570: X\n\u603b\u7684\u8bb0\u5f55\u6570: XXX\n\u534f\u4f5c\u4eba\u6570\u91cf: X\n</code></pre>"},{"location":"plugins/#8","title":"8. \u6253\u5305\u4e0a\u4f20\u63d2\u4ef6","text":"<ol> <li> <p>\u6267\u884c <code>npm run build-plugin</code> \u6253\u5305\u63d2\u4ef6\uff0c\u6253\u5305\u540e\u63d2\u4ef6\u7684\u8def\u5f84\u4e3a /plugin/task.zip </p> </li> <li> <p>\u5c06\u63d2\u4ef6 task.zip \u4e0a\u4f20\u5230 dtable \u4e2d</p> </li> </ol>"},{"location":"plugins/#_2","title":"\u5b98\u65b9\u63d0\u4f9b\u7684\u63d2\u4ef6\u5f00\u53d1\u5de5\u5177\u5e93","text":"<ol> <li>dtable-sdk</li> <li>dtable-utils</li> <li>dtable-ui-component</li> </ol>"},{"location":"plugins/#dtable-sdk","title":"dtable-sdk","text":"<p>\u8986\u5199 Base \u5e94\u7528\u5411\u63d2\u4ef6\u63d0\u4f9b\u7684 api. \u4e3b\u8981\u7528\u4e8e\u63d2\u4ef6\u5f00\u53d1\u9636\u6bb5\uff0c\u7528\u4e8e\u83b7\u53d6\uff0c\u5220\u9664\uff0c\u66f4\u65b0 Base \u6570\u636e,\u672c\u5730\u5f00\u53d1\u65f6\u4f7f\u7528 dtable-sdk \u63d0\u4f9b\u7684 api, \u96c6\u6210\u540e\u4f7f\u7528 Base \u7684 api</p> <p>dtable-sdk \u63d0\u4f9b\u4e86\u5bf9\u6570\u636e\u64cd\u4f5c\u7684\u63a5\u53e3</p> <ul> <li>\u521d\u59cb\u5316\u63d2\u4ef6</li> <li>Tables</li> <li>Views</li> <li>Columns</li> <li>Rows</li> <li>Plugins</li> <li>Links</li> </ul>"},{"location":"plugins/#dtable-utils","title":"dtable-utils","text":"<p>\u63d2\u4ef6\u5f00\u53d1\u5de5\u5177\u51fd\u6570\u5e93\uff0c\u63d0\u4f9b\u4e00\u4e9b\u5e38\u91cf\uff0c\u6570\u636e\u683c\u5f0f\u5316\u5de5\u5177\uff0c\u6570\u636e\u83b7\u53d6\u5de5\u5177\uff0c\u65b9\u4fbf\u7528\u6237\u5b8c\u6210\u63d2\u4ef6\u7684\u5f00\u53d1</p> <ul> <li>Tables</li> <li>Views</li> <li>Columns</li> <li>Rows</li> <li>Cells</li> <li>Constants</li> </ul>"},{"location":"plugins/#dtable-ui-component","title":"dtable-ui-component","text":"<p>dtable-ui-component \u63d0\u4f9b\u4e86\u683c\u5f0f\u5316\u663e\u793a\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u5355\u5143\u548c\u5bf9\u6570\u636e\u8fdb\u884c\u7f16\u8f91\u7684 UI \u63a7\u4ef6\u3002</p> <p>\u8be6\u60c5\u53ef\u4ee5\u67e5\u770b: https://seatable.github.io/dtable-ui-component/docs/</p>"},{"location":"plugins/dtable-sdk/base/","title":"dtable","text":""},{"location":"plugins/dtable-sdk/base/#init","title":"Init","text":"<p>\u63d2\u4ef6\u5f00\u53d1\u73af\u5883\u5206\u4e3a\u4e24\u79cd, \u5f00\u53d1\u73af\u5883\u548c\u751f\u4ea7\u73af\u5883, \u7531\u4e8e\u73af\u5883\u4e0d\u540c, \u6240\u4ee5\u521d\u59cb\u5316\u7684\u65b9\u5f0f\u4e5f\u4e0d\u540c: \u5728\u5f00\u53d1\u73af\u5883\u4e2d\uff0c\u7f16\u7801\u4eba\u5458\u9700\u8981\u63d0\u4f9b\u63d2\u4ef6\u6240\u9700\u7684\u914d\u7f6e\u6587\u4ef6, \u7528\u4e8e\u521d\u59cb\u5316\u63d2\u4ef6, \u83b7\u53d6\u63d2\u4ef6\u9700\u8981\u7684\u6570\u636e\u3002 \u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u7528\u6237\u5b89\u88c5\u63d2\u4ef6\u540e, \u63d2\u4ef6\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u5f53\u524d\u6d4f\u89c8\u5668\u4e2d\u7684 base \u7684\u6570\u636e, \u7528\u4e8e\u521d\u59cb\u5316\u63d2\u4ef6\u3002</p>"},{"location":"plugins/dtable-sdk/base/#_1","title":"\u521d\u59cb\u5316\u63d2\u4ef6","text":""},{"location":"plugins/dtable-sdk/base/#init_1","title":"init","text":"<p>\u5f00\u53d1\u73af\u5883\u4e0b\u521d\u59cb\u5316\u63d2\u4ef6</p> <pre><code>import DTable from 'dtable-sdk';\n\nconst dtableSDK = new DTable();\nconst settings = {\n  \"server\": \"https://cloud.seatable.cn\",\n  \"APIToken\": \"50c17897ae8b1c7c428d459fc2c379a9bc3806cc\",\n}\nawait dtableSDK.init(config);\nawait dtableSDK.syncWithServer();\nwindow.dtableSDK = dtableSDK;\n</code></pre>"},{"location":"plugins/dtable-sdk/base/#_2","title":"\u76d1\u542c\u4e8b\u4ef6\u53d8\u5316","text":""},{"location":"plugins/dtable-sdk/base/#subscribe","title":"subscribe","text":"\u4e8b\u4ef6\u7c7b\u578b \u63cf\u8ff0 \u7528\u9014 dtable-connect \u8868\u793a\u4e0e server \u5df2\u7ecf\u5efa\u7acb\u94fe\u63a5, \u6570\u636e\u52a0\u8f7d\u5b8c\u6210 \u66f4\u65b0 state, \u66f4\u65b0 UI \u663e\u793a local-dtable-changed \u8868\u793a\u672c\u5730\u6267\u884c\u4e86\u67d0\u4e9b\u64cd\u4f5c, \u6570\u636e\u53d1\u751f\u53d8\u5316 \u66f4\u65b0 state, \u66f4\u65b0 UI \u663e\u793a remote-dtable-changed \u8868\u793a\u672c\u5730\u6267\u884c\u4e86 server \u7aef\u53d1\u9001\u7684\u67d0\u4e9b\u64cd\u4f5c, \u6570\u636e\u53d1\u751f\u53d8\u5316 \u66f4\u65b0 state, \u66f4\u65b0 UI \u663e\u793a <pre><code>import DTable from 'dtable-sdk';\n\nconst dtableSDK = new Dtable();\ndtableSDK.subscribe('dtable-connect', () =&gt; {...});\ndtableSDK.subscribe('local-dtable-changed', () =&gt; {...});\ndtableSDK.subscribe('remote-dtable-changed', () =&gt; {...});\n</code></pre>"},{"location":"plugins/dtable-sdk/base/#_3","title":"\u63d2\u4ef6\u5f00\u53d1\u521d\u59cb\u5316\u4f8b\u5b50","text":"<p>\u7531\u4e8e\u9700\u8981\u517c\u5bb9\u4e24\u4e2a\u73af\u5883, \u6240\u4ee5\u4e00\u822c\u63d2\u4ef6\u5f00\u53d1\u7684\u521d\u59cb\u5316\u64cd\u4f5c\u5982\u4e0b:</p> <pre><code>import Dtable from 'dtable-sdk';\nimport PropTypes from 'prop-types';\n\nconst propsTypes = {\n  isDevelopment: PropTypes.bool\n};\n\nconst settings = {\n  \"server\": \"https://cloud.seatable.cn\",\n  \"APIToken\": \"50c17897ae8b1c7c428d459fc2c379a9bc3806cc\",\n};\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true\n    };\n  }\n\n  async componentDidMount() {\n    const { isDevelopment } = this.props;\n    if (isDevelopment) {\n      const dtableSDK = new Dtable();\n      await dtableSDK.init(settings);\n      await dtableSDK.syncWithServer();\n      widow.dtableSDK = dtableSDK;\n      widow.dtableSDK.subscribe('dtable-connect', this.resetData);\n    }\n\n    widow.dtableSDK.subscribe('local-dtable-changed', this.resetData);\n    widow.dtableSDK.subscribe('remote-dtable-changed', this.resetData);\n  }\n\n  resetData = () =&gt; {\n    // ...\n    this.setState({isLoading: false});\n  }\n\n  render() {\n    return (\n      ...\n    );\n  }\n\n}\n</code></pre>"},{"location":"plugins/dtable-sdk/columns/","title":"Columns","text":""},{"location":"plugins/dtable-sdk/columns/#getcolumns","title":"getColumns","text":"<p>\u83b7\u53d6\u5b50\u8868\u6240\u6709\u7684\u5217\u5185\u5bb9</p> <pre><code>window.dtableSDK.getColumns(table);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> </ul>"},{"location":"plugins/dtable-sdk/columns/#_1","title":"\u4f8b\u5b50","text":"<pre><code>import { getTableById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = 'tableId';\nconst table = getTableById(tables, tableId)\n\nconst columns = window.dtableSDK.getColumns(table); // const columns = table.columns;\n</code></pre>"},{"location":"plugins/dtable-sdk/columns/#modifycolumndata","title":"modifyColumnData","text":"<p>\u66f4\u65b0\u5217\u7684 data \u5c5e\u6027</p> <pre><code>window.dtableSDK.modifyColumnData(table, columnName, columnData);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>columnName: \u66f4\u65b0\u5217\u7684 name \u503c</li> <li>columnData: \u66f4\u65b0\u5217\u7684\u65b0 data \u5c5e\u6027</li> </ul>"},{"location":"plugins/dtable-sdk/columns/#_2","title":"\u4f8b\u5b50","text":"<pre><code>import { getTableById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = 'tableId';\nconst table = getTableById(tables, tableId)\n\nconst columnName = 'dateColumn';\nconst data = {\n  format: 'YYYY-MM-DD'\n};\nwindow.dtableSDK.modifyColumnData(table, columnName, data);\n</code></pre>"},{"location":"plugins/dtable-sdk/common/","title":"Common api","text":""},{"location":"plugins/dtable-sdk/common/#getrelatedusers","title":"getRelatedUsers","text":"<p>\u83b7\u53d6\u5f53\u524d base \u5173\u8054\u7684\u5176\u4ed6\u7528\u6237(\u8868\u683c\u7684\u534f\u4f5c\u4eba, \u8868\u7684\u88ab\u5206\u4eab\u4eba\u7b49)</p> <pre><code>window.dtableSDK.getRelatedUsers()\n</code></pre> <p>\u4f8b\u5b50</p> <pre><code>const collaborators = window.dtableSDK.getRelatedUsers();\n</code></pre>"},{"location":"plugins/dtable-sdk/common/#gettableformularesults","title":"getTableFormulaResults","text":"<p>\u83b7\u53d6\u5b50\u8868\u8ba1\u7b97\u516c\u5f0f\u5217\u7684\u6570\u636e</p> <pre><code>window.dtableSDK.getTableFormulaResults(table, rows)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>rows: \u9700\u8981\u83b7\u53d6 \u8ba1\u7b97\u516c\u5f0f\u5217\u76f8\u5173\u6570\u636e\u7684\u884c\u6570\u636e</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\nconst rows = window.dtableSDK.getViewRows(view, table);\n\nconst formulaResult = window.dtableSDK.getTableFormulaResults(table, rows);\n</code></pre>"},{"location":"plugins/dtable-sdk/common/#getviewrowscolor","title":"getViewRowsColor","text":"<p>\u83b7\u53d6\u89c6\u56fe\u4e2d\u884c\u6570\u636e\u7684\u989c\u8272\u5c5e\u6027</p> <pre><code>window.dtableSDK.getViewRowsColor(rows, view, table)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>rows: \u9700\u8981\u83b7\u53d6 \u989c\u8272\u5c5e\u6027 \u7684\u884c\u6570\u636e</li> <li>view: \u89c6\u56fe\u5bf9\u8c61</li> <li>table: \u5b50\u8868\u5bf9\u8c61</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\nconst rows = window.dtableSDK.getViewRows(view, table);\n\nconst rowsColor = window.dtableSDK.getViewRowsColor(rows, view, table);\n</code></pre>"},{"location":"plugins/dtable-sdk/links/","title":"Common api","text":""},{"location":"plugins/dtable-sdk/links/#getlinks","title":"getLinks","text":"<p>\u7ed9\u6307\u5b9a\u7684\u884c\u6dfb\u52a0\u65b0\u7684\u5173\u8054\u7684\u884c\u6570\u636e</p> <pre><code>window.dtableSDK.getLinks()\n</code></pre> <p>\u4f8b\u5b50</p> <pre><code>const links = window.dtableSDK.getLinks();\n</code></pre>"},{"location":"plugins/dtable-sdk/links/#addlink","title":"addLink","text":"<p>\u7ed9\u6307\u5b9a\u7684\u884c\u6dfb\u52a0\u65b0\u7684\u5173\u8054\u7684\u884c\u6570\u636e</p> <pre><code>window.dtableSDK.addLink(linkId, tableId, otherTableId, rowId, otherRowId)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>linkId: \u94fe\u63a5 id</li> <li>tableId: \u5f53\u524d\u8868\u7684 id</li> <li>otherTableId: \u5173\u8054\u8868\u7684 id</li> <li>rowId: \u6dfb\u52a0\u94fe\u63a5\u7684\u884c\u7684 id</li> <li>otherRowId: \u6dfb\u52a0\u7684\u884c id</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>const links = window.dtableSDK.getLinks();\nconst linkId = links[0].id;\nconst tableId = '0000';\nconst otherTableId = '1111';\nconst rowId = 'aaa';\nconst otherRowId = 'bbb';\nwindow.dtableSDK.addLink(linkId, tableId, otherTableId, rowId, otherRowId)\n</code></pre>"},{"location":"plugins/dtable-sdk/links/#removelink","title":"removeLink","text":"<p>\u4ece\u6307\u5b9a\u7684\u884c\u6dfb\u52a0\u5220\u9664\u5173\u8054\u7684\u884c\u6570\u636e</p> <pre><code>window.dtableSDK.removeLink(linkId, tableId, otherTableId, rowId, otherRowId)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>linkId: \u94fe\u63a5 id</li> <li>tableId: \u5f53\u524d\u8868\u7684 id</li> <li>otherTableId: \u5173\u8054\u8868\u7684 id</li> <li>rowId: \u5220\u9664\u94fe\u63a5\u7684\u884c\u7684 id</li> <li>otherRowId: \u5220\u9664\u7684\u884c id</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>const links = window.dtableSDK.getLinks();\nconst linkId = links[0].id;\nconst tableId = '0000';\nconst otherTableId = '1111';\nconst rowId = 'aaa';\nconst otherRowId = 'bbb';\nwindow.dtableSDK.removeLink(linkId, tableId, otherTableId, rowId, otherRowId);\n</code></pre>"},{"location":"plugins/dtable-sdk/plugins/","title":"Plugins","text":""},{"location":"plugins/dtable-sdk/plugins/#getpluginsettings","title":"getPluginSettings","text":"<p>\u83b7\u53d6\u63d2\u4ef6\u7684\u914d\u7f6e\u53c2\u6570</p> <pre><code>window.dtableSDK.getPluginSettings(pluginName);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>pluginName: \u63d2\u4ef6\u540d\u5b57</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>const pluginName = 'gallery';\nconst pluginSetting = window.dtableSDK.getPluginSettings(pluginName);\n</code></pre>"},{"location":"plugins/dtable-sdk/plugins/#updatepluginsettings","title":"updatePluginSettings","text":"<p>\u66f4\u65b0\u63d2\u4ef6\u7684\u914d\u7f6e\u53c2\u6570</p> <pre><code>window.dtableSDK.updatePluginSettings(pluginName, pluginSettings);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>pluginName: \u63d2\u4ef6\u540d\u5b57</li> <li>pluginSettings: \u63d2\u4ef6\u7684\u914d\u7f6e\u53c2\u6570</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>const pluginName = 'gallery';\nconst pluginSettings = {};\nwindow.dtableSDK.updatePluginSettings(pluginName, pluginSettings);\n</code></pre>"},{"location":"plugins/dtable-sdk/rows/","title":"Rows","text":""},{"location":"plugins/dtable-sdk/rows/#appendrow","title":"appendRow","text":"<p>\u6dfb\u52a0\u884c\u6570\u636e</p> <pre><code>window.dtableSDK.appendRow(table, rowData, view, { collaborators } = {});\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>rowData: \u884c\u6570\u636e</li> <li>view: \u89c6\u56fe\u5bf9\u8c61, \u53ef\u4ee5\u4e3a null</li> <li>{ collaborators } : \u5305\u542b\u534f\u4f5c\u4eba\u5217\u8868\u7684\u7684\u5bf9\u8c61\u53c2\u6570</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\nconst collaborators = window.dtableSDK.getRelatedUsers();\nconst rowData = {\n  '\u540d\u79f0': '\u5c0f\u5f3a',\n  '\u5e74\u9f84': 28,\n  '\u5de5\u4f5c': '\u7a0b\u5e8f\u5458'\n};\nwindow.dtableSDK.appendRow(table, rowData, view, { collaborators });\n</code></pre>"},{"location":"plugins/dtable-sdk/rows/#deleterowbyid","title":"deleteRowById","text":"<p>\u901a\u8fc7 id \u5220\u9664\u5b50\u8868\u7684\u884c\u6570\u636e</p> <pre><code>window.dtableSDK.deleteRowById(table, rowId);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>rowId: \u5220\u9664\u884c\u7684 id \u503c</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\nconst rows = window.dtableSDK.getViewRows(view, table);\nconst rowId = rows[0]._id;\n\nwindow.dtableSDK.deleteRowById(table, rowId);\n</code></pre>"},{"location":"plugins/dtable-sdk/rows/#deleterowsbyids","title":"deleteRowsByIds","text":"<p>\u901a\u8fc7 id \u5217\u8868\u5220\u9664\u5b50\u8868\u7684\u591a\u884c\u6570\u636e</p> <pre><code>window.dtableSDK.deleteRowsByIds(table, rowIds);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>rowIds: \u5220\u9664\u591a\u884c\u6570\u636e\u7684 id \u5217\u8868</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\nconst rows = window.dtableSDK.getViewRows(view, table);\nconst rowIds = rows.map(row =&gt; row._id);\n\n// \u5220\u9664\u524d\u4e94\u884c\u6570\u636e\nwindow.dtableSDK.deleteRowsByIds(table, rowIds.slice(0, 5));\n</code></pre>"},{"location":"plugins/dtable-sdk/rows/#modifyrow","title":"modifyRow","text":"<p>\u66f4\u6539\u884c\u5185\u5bb9</p> <pre><code>window.dtableSDK.modifyRow(table, row, updated);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>row: \u884c\u5bf9\u8c61</li> <li>updated: \u65b0\u7684\u884c\u53c2\u6570\u5bf9\u8c61</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\nconst rows = window.dtableSDK.getViewRows(view, table);\nconst rowId = rows[0];\nconst updated = {\n  '\u5e74\u9f84': 30,\n  '\u5de5\u4f5c': '\u9500\u552e'\n};\nwindow.dtableSDK.modifyRow(table, row, updated);\n</code></pre>"},{"location":"plugins/dtable-sdk/rows/#foreachrow","title":"forEachRow","text":"<p>\u904d\u5386\u884c\u6570\u636e, \u4f9d\u636e\u67d0\u4e9b\u6761\u4ef6\u5b8c\u6210\u76f8\u5e94\u4e1a\u52a1\u903b\u8f91</p> <pre><code>window.dtableSDK.forEachRow(tableName, viewName, callback, { username, userId } = {});\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>tableName: \u5b50\u8868\u540d\u5b57</li> <li>viewName: \u89c6\u56fe\u540d\u5b57</li> <li>callback: \u56de\u8c03\u51fd\u6570, \u5904\u7406\u81ea\u5b9a\u4e49\u4e1a\u52a1\u903b\u8f91</li> <li>{ username, userId }: \u5305\u542b\u7528\u6237\u540d\u5b57, \u7528\u6237 id \u7684\u5bf9\u8c61\u53c2\u6570</li> </ul> <p>\u6ce8: username, userId: \u5728\u5f00\u53d1\u73af\u5883\u4e2d\u53ef\u4ee5\u4ece\u672c\u5730\u914d\u7f6e\u6587\u4ef6\u8bfb\u53d6, \u5728\u96c6\u6210\u73af\u5883\u4e2d\u4ece window.dtable \u4e2d\u8bfb\u53d6</p> <p>\u4f8b\u5b50</p> <pre><code>import { username, userId } from 'setting.local';\nimport { getTableByName } from 'dtable-utils';\n\n// const { username, userId } = window.dtable;\n\n// \u4e1a\u52a1\u9700\u6c42: \u5982\u679c \u884c\u6570\u636e\u4e2d\u7684 \u201c\u4efb\u52a1\u72b6\u6001\u201d \u5217\u662f \u201c\u5b8c\u6210\u201d \u72b6\u6001, \u5c06\u6539\u884c\u4e2d \u201c\u5408\u683c\u201d \u5217\u8bbe\u7f6e\u4e3a \u201c\u662f\u201d\nconst tableName = 'Table1';\nconst viewName = 'Default View'\nconst tables = window.dtableSDK.getTables();\nwindow.dtableSDK.forEachRow(tableName, viewName, (row) =&gt; {\n  // \u5b9e\u73b0\u4e1a\u52a1\u9700\u6c42\n  if (row['\u4efb\u52a1\u72b6\u6001'] === '\u5b8c\u6210') {\n    const table = getTableByName(tables, tableName);\n    const updated = {'\u5408\u683c': '\u662f'};\n    window.dtableSDK.modifyRow(table, row, updated);\n  }\n}, {username, userId});\n</code></pre>"},{"location":"plugins/dtable-sdk/rows/#gettablelinkrows","title":"getTableLinkRows","text":"<p>\u83b7\u53d6\u884c\u6570\u636e\u5173\u8054\u5176\u4ed6\u8868\u7684\u6240\u6709\u884c\u6570\u636e\u7684 id \u503c</p> <pre><code>window.dtableSDK.getTableLinkRows(rows, table);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>rows: \u884c\u6570\u636e</li> <li>table: \u884c\u6570\u636e\u6240\u5c5e\u7684\u5b50\u8868\u5bf9\u8c61</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\nconst rows = window.dtableSDK.getViewRows(view, table);\n\nconst findLinkRows = rows.slice(0, 5);\nwindow.dtableSDK.getTableLinkRows(finLinkRows, table);\n</code></pre>"},{"location":"plugins/dtable-sdk/rows/#getviewrows","title":"getViewRows","text":"<p>\u83b7\u53d6\u89c6\u56fe\u7684\u884c\u6570\u636e</p> <pre><code>window.dtableSDK.getViewRows(view, table);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>view: \u89c6\u56fe\u5bf9\u8c61</li> <li>table: \u5b50\u8868\u5bf9\u8c61</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\nconst rows = window.dtableSDK.getViewRows(view, table);\n</code></pre>"},{"location":"plugins/dtable-sdk/rows/#getgrouprows","title":"getGroupRows","text":"<p>\u83b7\u53d6\u5206\u7ec4\u7684\u884c\u6570\u636e</p> <pre><code>window.dtableSDK.getGroupRows(view, table);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>view: \u89c6\u56fe\u5bf9\u8c61</li> <li>table: \u5b50\u8868\u5bf9\u8c61</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\nconst rows = window.dtableSDK.getGroupRows(view, table);\n</code></pre>"},{"location":"plugins/dtable-sdk/rows/#getinsertedrowinitdata","title":"getInsertedRowInitData","text":"<p>\u83b7\u53d6\u65b0\u589e\u884c\u7684\u9ed8\u8ba4\u6570\u636e(\u5982\u679c\u8868\u683c\u4e2d\u5305\u542b\u6392\u5e8f, \u5206\u7ec4, \u8fc7\u6ee4\u7b49\u529f\u80fd, \u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 api \u83b7\u53d6\u65b0\u589e\u884c\u7684\u9ed8\u8ba4\u503c)</p> <pre><code>window.dtableSDK.getInsertedRowInitData(view, table, rowId);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>view: \u89c6\u56fe\u5bf9\u8c61</li> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>rowId: \u65b0\u589e\u884c\u7684\u524d\u4e00\u884c\u7684 id \u503c</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\nconst rows = window.dtableSDK.getViewRows(view, table);\nconst prevRow = rows[row.length - 1];\n\nconst defaultRowData = window.dtableSDK.getInsertedRowInitData(view, table, prevRow._id);\n</code></pre>"},{"location":"plugins/dtable-sdk/rows/#movegrouprows","title":"moveGroupRows","text":"<p>\u79fb\u52a8\u5206\u7ec4\u4e2d\u7684\u884c</p> <pre><code>window.dtableSDK.moveGroupRows(table, targetIds, movePosition, movedRows, upperRowIds, updated, oldRows, groupbyColumns);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>targetIds: \u79fb\u52a8\u884c\u7684\u76ee\u6807\u4f4d\u7f6e\u884c\u7684 id \u5217\u8868</li> <li>movePosition:  \u79fb\u52a8\u7684\u76f8\u5bf9\u4f4d\u7f6e, move_above | move_below</li> <li>movedRows: \u79fb\u52a8\u7684\u884c\u6570\u636e\u5217\u8868</li> <li>upperRowIds: \u6240\u6709\u79fb\u52a8\u884c\u4e4b\u524d\u6240\u5728\u4f4d\u7f6e\u7684\u524d\u4e00\u884c\u7684 id \u5217\u8868</li> <li>updated: \u79fb\u52a8\u540e\u79fb\u52a8\u884c\u9700\u8981\u66f4\u65b0\u7684\u65b0\u7684\u5c5e\u6027\u503c\u5bf9\u8c61 (\u8de8\u5206\u7ec4\u79fb\u52a8, \u4e0d\u540c\u8fc7\u6ee4\u6761\u4ef6\u7684\u79fb\u52a8\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u53d1\u751f\u53d8\u5316)</li> <li>oldRows: \u79fb\u52a8\u524d\u79fb\u52a8\u884c\u9700\u8981\u66f4\u65b0\u7684\u65e7\u7684\u5c5e\u6027\u503c\u5bf9\u8c61</li> <li>groupbyColumns: \u5f53\u524d\u89c6\u56fe\u5206\u7ec4\u7684\u5217\u6570\u636e</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\n// 1. \u5047\u8bbe: \u9ed8\u8ba4\u884c\u6570\u636e\u5217\u8868\u5982\u4e0b, \u6309\u7167\u5206\u7ec4\u5217\u8fdb\u884c\u5206\u7ec4\nconst rows = [\n  {_id: 'aaa', '\u540d\u79f0', '\u5c0f\u5f3a', '\u5e74\u9f84': '29', '\u51fa\u751f\u65e5\u671f': '1992-09-09', '\u5206\u7ec4': 'a'},\n  {_id: 'bbb', '\u540d\u79f0', '\u5c0f\u660e', '\u5e74\u9f84': '25', '\u51fa\u751f\u65e5\u671f': '1996-09-09', '\u5206\u7ec4': 'a'},\n  {_id: 'ccc', '\u540d\u79f0', '\u5c0f\u7ea2', '\u5e74\u9f84': '24', '\u51fa\u751f\u65e5\u671f': '1997-09-09', '\u5206\u7ec4': 'a'},\n  {_id: 'ddd', '\u540d\u79f0', '\u5c0f\u4e3d', '\u5e74\u9f84': '22', '\u51fa\u751f\u65e5\u671f': '1993-09-09', '\u5206\u7ec4': 'a'},\n  {_id: 'eee', '\u540d\u79f0', '\u5c0f\u83dc', '\u5e74\u9f84': '27', '\u51fa\u751f\u65e5\u671f': '1992-09-09', '\u5206\u7ec4': 'b'},\n  {_id: 'fff', '\u540d\u79f0', '\u5c0f\u9f99', '\u5e74\u9f84': '25', '\u51fa\u751f\u65e5\u671f': '1990-09-09', '\u5206\u7ec4': 'b'},\n  {_id: 'ggg', '\u540d\u79f0', '\u5c0f\u9a6c', '\u5e74\u9f84': '26', '\u51fa\u751f\u65e5\u671f': '1996-09-09', '\u5206\u7ec4': 'b'},\n  {_id: 'hhh', '\u540d\u79f0', '\u5c0f\u6b63', '\u5e74\u9f84': '27', '\u51fa\u751f\u65e5\u671f': '1999-09-09', '\u5206\u7ec4': 'b'},\n];\n\n// 2. \u5c06 \u5c0f\u660e,\u5c0f\u4e3d\u79fb\u52a8\u5230\u5c0f\u6b63\u7684\u4e0b\u9762, \u76f8\u5173\u53c2\u6570\u5982\u4e0b\nconst targetIds = ['hhh', 'hhh'];\nconst move_position = 'move_below';\nconst movedRows = [\n  {_id: 'bbb', '\u540d\u79f0', '\u5c0f\u660e', '\u5e74\u9f84': '25', '\u51fa\u751f\u65e5\u671f': '1996-09-09', '\u5206\u7ec4': 'a'},\n  {_id: 'ddd', '\u540d\u79f0', '\u5c0f\u4e3d', '\u5e74\u9f84': '22', '\u51fa\u751f\u65e5\u671f': '1993-09-09', '\u5206\u7ec4': 'a'},\n];\nconst upperRowIds = ['aaa', 'ccc'];\nconst updated = {\n  'bbb': {'\u5206\u7ec4': 'b'},\n  'ddd': {'\u5206\u7ec4': 'b'},\n};\nconst oldRows = {\n  'bbb': {'\u5206\u7ec4': 'a'},\n  'ddd': {'\u5206\u7ec4': 'a'},\n};\n\nconst groupbyColumns = [{key: '\u5206\u7ec4', name: '\u5206\u7ec4', type: 'text', ...}];\n\nconst rows = window.dtableSDK.moveGroupRows(table, targetIds, movePosition, movedRows, upperRowIds, updated, oldRows, groupbyColumns);\n</code></pre>"},{"location":"plugins/dtable-sdk/tables/","title":"Tables","text":""},{"location":"plugins/dtable-sdk/tables/#addtable","title":"addTable","text":"<p>\u6dfb\u52a0\u5b50\u8868</p> <pre><code>window.dtableSDK.addTable(tableName);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>tableName: \u6dfb\u52a0\u5b50\u8868\u7684\u540d\u79f0</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>window.dtableSDK.addTable('newTable');\n</code></pre>"},{"location":"plugins/dtable-sdk/tables/#deletetable","title":"deleteTable","text":"<p>\u5220\u9664\u5b50\u8868</p> <pre><code>window.dtableSDK.deleteTable(tableName);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>tableName: \u5220\u9664\u5b50\u8868\u7684\u540d\u79f0</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>window.dtableSDK.deleteTable('newTable');\n</code></pre>"},{"location":"plugins/dtable-sdk/tables/#renametable","title":"renameTable","text":"<p>\u4fee\u6539\u5b50\u8868\u540d\u5b57</p> <pre><code>window.dtableSDK.renameTable(oldTableName, newTableName);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>oldTableName: \u66f4\u65b0\u5b50\u8868\u7684\u65e7\u540d\u5b57</li> <li>newTableName: \u66f4\u65b0\u5b50\u8868\u7684\u65b0\u540d\u5b57</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>window.dtableSDK.renameTable('oldTableName', 'newTableName');\n</code></pre>"},{"location":"plugins/dtable-sdk/tables/#gettables","title":"getTables","text":"<p>\u83b7\u53d6 base \u4e2d\u6240\u6709\u7684\u5b50\u8868</p> <pre><code>window.dtableSDK.getTables();\n</code></pre> <p>\u4f8b\u5b50</p> <pre><code>const tables = window.dtableSDK.getTables();\n</code></pre>"},{"location":"plugins/dtable-sdk/tables/#getactivetable","title":"getActiveTable","text":"<p>\u83b7\u53d6\u5f53\u524d base \u6b63\u5728\u8bbf\u95ee\u7684\u5b50\u8868</p> <pre><code>window.dtableSDK.getActiveTable();\n</code></pre> <p>\u4f8b\u5b50</p> <pre><code>const table = window.dtableSDK.getActiveTable();\n</code></pre>"},{"location":"plugins/dtable-sdk/tables/#importdataintonewtable","title":"importDataIntoNewTable","text":"<p>\u5411 base \u4e2d\u6dfb\u52a0\u65b0\u7684\u5b50\u8868,\u5e76\u5305\u542b\u9ed8\u8ba4\u6570\u636e</p> <pre><code>window.dtableSDK.importDataIntoNewTable(tableName, columns, rows);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>tableName: \u65b0\u8868\u7684\u540d\u5b57</li> <li>columns: \u65b0\u8868\u7684\u5217\u6570\u636e</li> <li>rows: \u65b0\u8868\u7684\u884c\u6570\u636e</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>const tableName = 'tableName';\nconst columns = [\n  {\n    key: '0000',\n    type: 'text',\n    name: 'column1',\n    width: 200,\n  },\n  {\n    key: '1111',\n    type: 'date',\n    name: 'column2',\n    width: 300,\n    data: {\n      format: 'YYYY-MM-DD'\n    }\n  }\n];\nconst rows = [\n  {'0000': '\u5c0f\u5f3a', '1111': '1993-03-03'},\n  {'0000': '\u5c0f\u660e', '1111': '1993-04-04'},\n  {'0000': '\u5c0f\u7ea2', '1111': '1994-04-05'},\n];\nwindow.dtableSDK.importDataIntoNewTable(tableName, columns, rows);\n</code></pre>"},{"location":"plugins/dtable-sdk/views/","title":"Views","text":""},{"location":"plugins/dtable-sdk/views/#addview","title":"addView","text":"<p>\u6dfb\u52a0\u89c6\u56fe</p> <pre><code>window.dtableSDK.addView(tableName, viewName);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>tableName: \u5b50\u8868\u540d\u5b57</li> <li>viewName: \u6dfb\u52a0\u89c6\u56fe\u7684\u540d\u5b57</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>window.dtableSDK.addView('tableName', 'viewName');\n</code></pre>"},{"location":"plugins/dtable-sdk/views/#deleteview","title":"deleteView","text":"<p>\u5220\u9664\u89c6\u56fe</p> <pre><code>window.dtableSDK.deleteView(tableName, viewName);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>tableName: \u5b50\u8868\u540d\u5b57</li> <li>viewName: \u5220\u9664\u89c6\u56fe\u7684\u540d\u5b57</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>window.dtableSDK.deleteView('TableName', ViewName);\n</code></pre>"},{"location":"plugins/dtable-sdk/views/#renameview","title":"renameView","text":"<p>\u4fee\u6539\u89c6\u56fe\u540d\u5b57</p> <pre><code>window.dtableSDK.renameView(tableName, oldViewName, newViewName);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>tableName: \u5b50\u8868\u7684\u540d\u5b57</li> <li>oldViewName: \u89c6\u56fe\u7684\u65e7\u540d\u5b57</li> <li>newViewName: \u89c6\u56fe\u7684\u65b0\u540d\u5b57</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>window.dtableSDK.renameView('tableName', 'oldViewName', 'newViewName');\n</code></pre>"},{"location":"plugins/dtable-sdk/views/#getviews","title":"getViews","text":"<p>\u83b7\u53d6 table \u4e2d\u7684\u975e\u79c1\u6709\u89c6\u56fe</p> <pre><code>window.dtableSDK.getViews(table);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\nconst views = window.dtableSDK.getViews(table); // const views = table.views\n</code></pre>"},{"location":"plugins/dtable-sdk/views/#getactiveview","title":"getActiveView","text":"<p>\u83b7\u53d6\u5f53\u524d base \u6b63\u5728\u8bbf\u95ee\u7684\u89c6\u56fe</p> <pre><code>window.dtableSDK.getActiveView();\n</code></pre> <p>\u4f8b\u5b50</p> <pre><code>const view = window.dtableSDK.getActiveView();\n</code></pre>"},{"location":"plugins/dtable-utils/cells/","title":"Cell","text":""},{"location":"plugins/dtable-utils/cells/#getlinkcellvalue","title":"getLinkCellValue","text":"<p>\u83b7\u53d6\u5b50\u8868\u884c\u6570\u636e\u5173\u8054\u5176\u4ed6\u8868\u683c\u7684\u884c\u6570\u636e\u7684 id \u5217\u8868</p> <pre><code>getLinkCellValue(links, linkId, tableId, otherTableId, rowId)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>links: \u5f53\u524d base \u4e2d\u7684 links \u503c</li> <li>linkId: link \u5217\u5bf9\u5e94\u7684 link_id \u503c</li> <li>tableId: \u5f53\u524d\u8868\u683c\u7684 id \u503c</li> <li>otherTableId: \u5173\u8054\u8868\u683c\u7684 id \u503c</li> <li>rowId: \u5f53\u524d\u8868\u683c\u4e2d\u884c\u7684 id \u503c</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getTableColumnByName, getLinkCellValue } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = 'tableId';\nconst table = getTableById(tables, tableId)\n\n\nconst rows = table.rows;\nconst row = rows[0];\n\nconst columnName = 'linkColumn';\nconst column = getTableColumnByName(table, columnName);\n\nconst { link_id, table_id, other_table_id, display_column_key } = linkColumn.data;\nconst linkedTableId = table._id === table_id ? other_table_id : table_id;\n\nconst links = window.dtableSDK.getLinks();\nconst linkedRowIds = getLinkCellValue(links, link_id, table._id, linkedTableId, row._id);\n</code></pre>"},{"location":"plugins/dtable-utils/cells/#getnumberdisplaystring","title":"getNumberDisplayString","text":"<p>\u83b7\u53d6 number \u5217\u7684\u5b57\u7b26\u4e32\u663e\u793a(\u6309\u7167\u4e0d\u540c\u7684format\u8fd4\u56de\u7528\u6237\u6570\u636e)</p> <pre><code>getNumberDisplayString(value, columnData)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>value: number \u7c7b\u578b\u5217\u5bf9\u5e94\u7684 value \u503c</li> <li>columnData: number \u7c7b\u578b\u5217 \u5bf9\u5e94\u7684 column \u7684 data \u914d\u7f6e\u5c5e\u6027</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getTableColumnByKey, getNumberDisplayString } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = 'tableId';\nconst table = getTableById(tables, tableId)\n\nconst columnKey = '0000';\nconst column = getTableColumnByKey(table, columnKey);\n\nconst value = 190203;\nconst name = getNumberDisplayString(value, column.data);\n</code></pre>"},{"location":"plugins/dtable-utils/cells/#getgeolocationdisplaystring","title":"getGeolocationDisplayString","text":"<p>\u83b7\u53d6 geolocation \u5217\u7684\u5b57\u7b26\u4e32\u663e\u793a(\u6309\u7167\u4e0d\u540c\u7684\u914d\u7f6e\u53c2\u6570\u8fd4\u56de\u7528\u6237\u6570\u636e)</p> <pre><code>getGeolocationDisplayString(value, columnData)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>value: geolocation \u7c7b\u578b\u5217\u5bf9\u5e94\u7684 value \u503c</li> <li>columnData: geolocation \u7c7b\u578b\u5217 \u5bf9\u5e94\u7684 column \u7684 data \u914d\u7f6e\u5c5e\u6027</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getTableColumnByKey, getGeolocationDisplayString } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = 'tableId';\nconst table = getTableById(tables, tableId)\n\nconst columnKey = '0000';\nconst column = getTableColumnByKey(table, columnKey);\n\nconst value = {city: \"\u5b89\u5e86\u5e02\", detail: \"nide\" ,district: \"\u8fce\u6c5f\u533a\", province: \"\u5b89\u5fbd\u7701\"};\nconst name = getGeolocationDisplayString(value, column.data);\n</code></pre>"},{"location":"plugins/dtable-utils/cells/#getdurationdisplaystring","title":"getDurationDisplayString","text":"<p>\u83b7\u53d6 duration \u5217\u7684\u5b57\u7b26\u4e32\u663e\u793a(\u6309\u7167\u4e0d\u540c\u7684\u914d\u7f6e\u53c2\u6570\u8fd4\u56de\u7528\u6237\u6570\u636e)</p> <pre><code>getDurationDisplayString(value, columnData)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>value: duration \u7c7b\u578b\u5217\u5bf9\u5e94\u7684 value \u503c</li> <li>columnData: duration \u7c7b\u578b\u5217 \u5bf9\u5e94\u7684 column \u7684 data \u914d\u7f6e\u5c5e\u6027</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getTableColumnByKey, getDurationDisplayString } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = 'tableId';\nconst table = getTableById(tables, tableId)\n\nconst columnKey = '0000';\nconst column = getTableColumnByKey(table, columnKey);\n\nconst value = '12:30';\nconst name = getDurationDisplayString(value, column.data);\n</code></pre>"},{"location":"plugins/dtable-utils/cells/#getdatedisplaystring","title":"getDateDisplayString","text":"<p>\u83b7\u53d6 date \u5217\u7684\u5b57\u7b26\u4e32\u663e\u793a(\u6309\u7167\u4e0d\u540c\u7684\u914d\u7f6e\u53c2\u6570\u8fd4\u56de\u7528\u6237\u6570\u636e)</p> <pre><code>getDateDisplayString(value, columnDataFormat)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>value: date \u7c7b\u578b\u5217\u5bf9\u5e94\u7684 value \u503c</li> <li>format: columnData.format \u7684\u7c7b\u578b</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getTableColumnByKey, getDateDisplayString } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = 'tableId';\nconst table = getTableById(tables, tableId)\n\nconst columnKey = '0000';\nconst column = getTableColumnByKey(table, columnKey);\n\nconst value = 'YYYY-MM-DD';\nconst { format } = column.data;\nconst name = getDateDisplayString(value, format);\n</code></pre>"},{"location":"plugins/dtable-utils/columns/","title":"Columns","text":""},{"location":"plugins/dtable-utils/columns/#getcolumnsbytype","title":"getColumnsByType","text":"<p>\u83b7\u53d6\u5b50\u8868\u4e2d\u6240\u6709\u7c7b\u578b\u4e00\u6837\u7684\u5217\u5185\u5bb9</p> <pre><code>getColumnsByType(columns, type);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>columns: \u5b50\u8868\u4e2d\u6240\u6709\u7684\u5217</li> <li>type: \u83b7\u53d6\u5217\u7684\u7c7b\u578b</li> </ul>"},{"location":"plugins/dtable-utils/columns/#_1","title":"\u4f8b\u5b50","text":"<pre><code>import { CellType, getTableById, getColumnsByType } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = 'tableId';\nconst table = getTableById(tables, tableId)\n\nconst columns = window.dtableSDK.getColumns(table); // const columns = table.columns;\n\nconst columnType = CellType.TEXT;\nconst sameTypeColumns = getColumnsByType(columns, columnType);\n</code></pre>"},{"location":"plugins/dtable-utils/columns/#gettablecolumnbyname","title":"getTableColumnByName","text":"<p>\u901a\u8fc7 name \u83b7\u53d6\u5217\u5185\u5bb9</p> <pre><code>getTableColumnByName(table, columnName);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>columnName: \u83b7\u53d6\u5217\u7684\u540d\u5b57</li> </ul>"},{"location":"plugins/dtable-utils/columns/#_2","title":"\u4f8b\u5b50","text":"<pre><code>import { getTableById, getColumnByName } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = 'tableId';\nconst table = getTableById(tables, tableId)\n\nconst columns = window.dtableSDK.getColumns(table); // const columns = table.columns;\n\nconst columnName = 'columnName';\nconst column = getTableColumnByName(columns, columnName);\n</code></pre>"},{"location":"plugins/dtable-utils/columns/#gettablecolumnbykey","title":"getTableColumnByKey","text":"<p>\u901a\u8fc7 key \u83b7\u53d6\u5217\u5185\u5bb9</p> <pre><code>getTableColumnByKey(table, columnKey);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>columnKey: \u83b7\u53d6\u5217\u7684 key \u503c</li> </ul>"},{"location":"plugins/dtable-utils/columns/#_3","title":"\u4f8b\u5b50","text":"<pre><code>import { getTableById, getTableColumnByKey } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = 'tableId';\nconst table = getTableById(tables, tableId)\n\nconst columnKey = '0000';\nconst column = getTableColumnByKey(table, columnKey);\n</code></pre>"},{"location":"plugins/dtable-utils/constants/","title":"Constants","text":"<p>\u5728\u811a\u672c\u4e2d\u53ef\u80fd\u4f1a\u6709\u4e00\u4e9b\u5e38\u91cf\u9700\u8981\u6211\u4eec\u4e86\u89e3\u4e0b</p>"},{"location":"plugins/dtable-utils/constants/#columntypes","title":"ColumnTypes","text":"<p>\u5217\u7c7b\u578b\uff0c\u5f53\u63d2\u5165/\u8ffd\u52a0\u5217\u3001\u66f4\u6539\u5217\u7c7b\u578b, \u83b7\u53d6 formatter \u7b49\u60c5\u51b5\u9700\u8981\u4f7f\u7528\u5230</p> <pre><code>import { CellType as CELL_TYPE } from 'dtable-utils';\n\nCELL_TYPE.NUMBER              // \u6570\u5b57\nCELL_TYPE.TEXT                // \u6587\u672c\nCELL_TYPE.LONG_TEXT           // \u957f\u6587\u672c\nCELL_TYPE.CHECKBOX            // \u52fe\u9009\nCELL_TYPE.DATE                // \u65e5\u671f\u65f6\u95f4\nCELL_TYPE.SINGLE_SELECT       // \u5355\u9009\nCELL_TYPE.MULTIPLE_SELECT     // \u591a\u9009\nCELL_TYPE.IMAGE               // \u56fe\u7247\nCELL_TYPE.FILE                // \u6587\u4ef6\nCELL_TYPE.COLLABORATOR        // \u534f\u4f5c\u4eba\nCELL_TYPE.LINK                // \u94fe\u63a5\u5176\u4ed6\u8bb0\u5f55\nCELL_TYPE.FORMULA             // \u516c\u5f0f\nCELL_TYPE.LINK_FORMULA        // \u94fe\u63a5\u516c\u5f0f\nCELL_TYPE.CREATOR             // \u521b\u5efa\u8005\nCELL_TYPE.CTIME               // \u521b\u5efa\u65f6\u95f4\nCELL_TYPE.LAST_MODIFIER       // \u4fee\u6539\u8005\nCELL_TYPE.MTIME               // \u4fee\u6539\u65f6\u95f4\nCELL_TYPE.GEOLOCATION         // \u5730\u5740\nCELL_TYPE.AUTO_NUMBER         // \u81ea\u52a8\u5e8f\u53f7\nCELL_TYPE.URL                 // \u94fe\u63a5\nCELL_TYPE.EMAIL               // \u90ae\u7bb1\nCELL_TYPE.BUTTON              // \u6309\u94ae\nCELL_TYPE.RATE                // \u7b49\u7ea7\n</code></pre>"},{"location":"plugins/dtable-utils/constants/#column-icon-configs","title":"Column icon configs","text":"<p>\u5217\u7c7b\u578b\u5bf9\u5e94\u7684\u56fe\u6807\u914d\u7f6e\u4fe1\u606f</p> <pre><code>import { CellType as CELL_TYPE, COLUMNS_ICON_CONFIG } from 'dtable-utils';\n\nconst text = CELL_TYPE.TEXT;\n// value: 'dtable-font dtable-icon-single-line-text'\nconst textIconClass = COLUMNS_ICON_CONFIG[text];  \n\nconst single_select = CELL_TYPE.SINGLE_SELECT;\n// value: 'dtable-font dtable-icon-single-election'\nconst singleSelectIconClass = COLUMNS_ICON_CONFIG[single_select]; \n\n...\n\n\n// \u6ce8: iconClass \u7528\u6765\u663e\u793a\u5217\u7684\u56fe\u6807(\u9700\u8981\u5f15\u5165dtable-font)\n</code></pre>"},{"location":"plugins/dtable-utils/constants/#column-options","title":"Column options","text":"<p>\u5217\u7684\u57fa\u672c\u914d\u7f6e\u4fe1\u606f, \u83b7\u53d6\u5217\u7684 icon \u914d\u7f6e\u548c\u4e0d\u540c\u5217\u7c7b\u578b\u7684\u63d0\u793a\u4fe1\u606f\u65f6\u9700\u8981\u4f7f\u7528\u5230</p> <pre><code>import { CellType as CELL_TYPE, COLUMN_OPTIONS } from 'dtable-utils';\n\nconst text = CELL_TYPE.TEXT;\n// textOption : \n// {\n//    type: 'text',\n//    iconClass: 'dtable-font dtable-icon-single-line-text'  \n//    iconName: 'Text'\n// }\nconst textOption = COLUMN_OPTIONS.find(option =&gt; option.type === text); \n\nconst singleSelect = CELL_TYPE.SINGLE_SELECT;\n// singleSelectOption : \n// {\n//    type: 'single-select',\n//    iconClass: 'dtable-font dtable-icon-single-election'  \n//    iconName: 'Single_Select'\n// }\nconst singleSelectOption = COLUMN_OPTIONS.find(option =&gt; option.type === singleSelect); \n\n...\n\n// \u6ce8: iconClass \u7528\u6765\u663e\u793a\u5217\u7684\u56fe\u6807(\u9700\u8981\u5f15\u5165dtable-font)\n//     iconName \u53ef\u4ee5\u7528\u6765\u56fd\u9645\u5316, \u663e\u793a\u63d0\u793a\u4fe1\u606f\u6216\u6587\u672c\u4fe1\u606f\n</code></pre>"},{"location":"plugins/dtable-utils/constants/#formula-result-type","title":"Formula result type","text":"<p>\u516c\u5f0f\u5217, \u94fe\u63a5\u516c\u5f0f\u5217\u8ba1\u7b97\u7ed3\u679c\u7c7b\u578b\u6c47\u603b, \u7528\u4e8e\u786e\u5b9a\u4e0e\u8ba1\u7b97\u6709\u5173\u7684\u5217\u7c7b\u578b\u7684\u8ba1\u7b97\u7ed3\u679c</p> <pre><code>import { FORMULA_RESULT_TYPE } from 'dtable-utils';\n\nFORMULA_RESULT_TYPE.NUMBER     // number\nFORMULA_RESULT_TYPE.STRING     // string\nFORMULA_RESULT_TYPE.DATE       // date\nFORMULA_RESULT_TYPE.BOOL       // bool\nFORMULA_RESULT_TYPE.ARRAY      // array\n</code></pre>"},{"location":"plugins/dtable-utils/constants/#select-option-colors","title":"Select option colors","text":"<p>\u521b\u5efa, \u4fee\u6539\u5355\u9009\u5217/\u591a\u9009\u5217\u9009\u9879\u65f6, \u63d0\u4f9b\u9009\u9879\u7684\u6587\u672c\u989c\u8272, \u80cc\u666f\u989c\u8272, \u8fb9\u6846\u989c\u8272</p> <pre><code>import { SELECT_OPTION_COLORS } from 'dtable-utils';\n\n// const SELECT_OPTION_COLORS = [\n//   {COLOR: '#FFFCB5', BORDER_COLOR: '#E8E79D', TEXT_COLOR: '#202428'},\n//   {COLOR: '#FFEAB6', BORDER_COLOR: '#ECD084', TEXT_COLOR: '#202428'},\n//   {COLOR: '#FFD9C8', BORDER_COLOR: '#EFBAA3', TEXT_COLOR: '#202428'},\n//   {COLOR: '#FFDDE5', BORDER_COLOR: '#EDC4C1', TEXT_COLOR: '#202428'},\n//   {COLOR: '#FFD4FF', BORDER_COLOR: '#E6B6E6', TEXT_COLOR: '#202428'},\n//   {COLOR: '#DAD7FF', BORDER_COLOR: '#C3BEEF', TEXT_COLOR: '#202428'},\n//   {COLOR: '#DDFFE6', BORDER_COLOR: '#BBEBCD', TEXT_COLOR: '#202428'},\n//   {COLOR: '#DEF7C4', BORDER_COLOR: '#C5EB9E', TEXT_COLOR: '#202428'},\n//   {COLOR: '#D8FAFF', BORDER_COLOR: '#B4E4E9', TEXT_COLOR: '#202428'},\n//   {COLOR: '#D7E8FF', BORDER_COLOR: '#BAD1E9', TEXT_COLOR: '#202428'},\n//   {COLOR: '#B7CEF9', BORDER_COLOR: '#96B2E1', TEXT_COLOR: '#202428'},\n//   {COLOR: '#E9E9E9', BORDER_COLOR: '#DADADA', TEXT_COLOR: '#202428'},\n//   {COLOR: '#FBD44A', BORDER_COLOR: '#E5C142', TEXT_COLOR: '#FFFFFF'},\n//   {COLOR: '#EAA775', BORDER_COLOR: '#D59361', TEXT_COLOR: '#FFFFFF'},\n//   {COLOR: '#F4667C', BORDER_COLOR: '#DC556A', TEXT_COLOR: '#FFFFFF'},\n//   {COLOR: '#DC82D2', BORDER_COLOR: '#D166C5', TEXT_COLOR: '#FFFFFF'},\n//   {COLOR: '#9860E5', BORDER_COLOR: '#844BD2', TEXT_COLOR: '#FFFFFF'},\n//   {COLOR: '#9F8CF1', BORDER_COLOR: '#8F75E2', TEXT_COLOR: '#FFFFFF'},\n//   {COLOR: '#59CB74', BORDER_COLOR: '#4EB867', TEXT_COLOR: '#FFFFFF'},\n//   {COLOR: '#ADDF84', BORDER_COLOR: '#9CCF72', TEXT_COLOR: '#FFFFFF'},\n//   {COLOR: '#89D2EA', BORDER_COLOR: '#7BC0D6', TEXT_COLOR: '#FFFFFF'},\n//   {COLOR: '#4ECCCB', BORDER_COLOR: '#45BAB9', TEXT_COLOR: '#FFFFFF'},\n//   {COLOR: '#46A1FD', BORDER_COLOR: '#3C8FE4', TEXT_COLOR: '#FFFFFF'},\n//   {COLOR: '#C2C2C2', BORDER_COLOR: '#ADADAD', TEXT_COLOR: '#FFFFFF'},\n// ];\n\n// \u521b\u5efa\u9009\u9879\u65f6, \u53ef\u4ee5\u63d0\u4f9b\u76f8\u5173\u9009\u9879, \u4e5f\u53ef\u4ee5\u901a\u8fc7\u968f\u673a\u51fd\u6570, \u81ea\u52a8\u751f\u6210\u76f8\u5e94\u7684\u9009\u9879\u989c\u8272\n\nconst colorIndex = (Math.random() * SELECT_OPTION_COLORS.length).toFix(0);\nconst selectColor = SELECT_OPTION_COLORS[colorIndex];\n</code></pre>"},{"location":"plugins/dtable-utils/constants/#table-permission-type","title":"Table permission type","text":"<p>\u5b50\u8868\u7684\u6743\u9650\u7c7b\u578b</p> <pre><code>import { TABLE_PERMISSION_TYPE } from 'dtable-utils';\n\nTABLE_PERMISSION_TYPE.DEFAULT              // default \u9ed8\u8ba4\u6743\u9650\nTABLE_PERMISSION_TYPE.ADMINS               // admins  \u6709\u7ba1\u7406\u6743\u9650\u7684\u4eba\nTABLE_PERMISSION_TYPE.SPECIFIC_USERS       // specific_users \u7279\u5b9a\u7528\u6237\nTABLE_PERMISSION_TYPE.NONE                 // none \u8c01\u90fd\u4e0d\u80fd\u66f4\u6539\n</code></pre>"},{"location":"plugins/dtable-utils/rows/","title":"Rows","text":""},{"location":"plugins/dtable-utils/rows/#getrowbyid","title":"getRowById","text":"<p>\u901a\u8fc7 id \u83b7\u53d6\u5b50\u8868\u7684\u76f8\u5173\u884c\u6570\u636e</p> <pre><code>getRowById(table, rowId);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>rowId: \u67e5\u627e\u884c\u7684 id \u503c</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getRowById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst rowId = 'aaaa';\n\nconst rows = getRowById(table, rowId);\n</code></pre>"},{"location":"plugins/dtable-utils/rows/#getrowsbyids","title":"getRowsByIds","text":"<p>\u901a\u8fc7 id \u5217\u8868\u83b7\u53d6\u5b50\u8868\u7684\u76f8\u5173\u884c\u6570\u636e</p> <pre><code>getRowsByIds(tableId, rowIds);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table: \u5b50\u8868\u5bf9\u8c61</li> <li>rowIds: \u67e5\u627e\u884c\u7684 id \u5217\u8868</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getRowsByIds } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst rowIds = ['aaa', 'bbb', 'cccc', 'dddd'];\n\nconst rows = getRowsByIds(table, rowIds);\n</code></pre>"},{"location":"plugins/dtable-utils/tables/","title":"Tables","text":""},{"location":"plugins/dtable-utils/tables/#gettablebyid","title":"getTableById","text":"<p>\u901a\u8fc7 id \u83b7\u53d6\u5b50\u8868\u5185\u5bb9</p> <pre><code>getTableById(tables, tableId);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>tables: Base \u4e2d\u6240\u6709\u7684\u8868\u683c</li> <li>tableId: \u5b50\u8868\u7684 id \u503c</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\nconst tableId = 'tableId';\nconst table = getTableById(tables, tableId)\n</code></pre>"},{"location":"plugins/dtable-utils/tables/#gettablebyname","title":"getTableByName","text":"<p>\u901a\u8fc7 name \u83b7\u53d6\u5b50\u8868\u5185\u5bb9</p> <pre><code>getTableByName(tables, tableName)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>tables: Base \u4e2d\u6240\u6709\u7684\u8868\u683c</li> <li>tableName: \u5b50\u8868\u7684 name \u503c</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableByName } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\nconst tableName = 'tableName';\nconst table = getTableByName(tables, tableName)\n</code></pre>"},{"location":"plugins/dtable-utils/views/","title":"Views","text":""},{"location":"plugins/dtable-utils/views/#getnonarchiveviews","title":"getNonArchiveViews","text":"<p>\u83b7\u53d6 table \u4e2d\u7684\u975e\u79c1\u6709\u4e14\u975e\u5f52\u6863\u89c6\u56fe</p> <pre><code>getNonArchiveViews(views);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>views: \u6240\u6709\u5b50\u8868\u7684\u89c6\u56fe</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getNonArchiveViews } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst views = getNonArchiveViews(table.views);\n</code></pre>"},{"location":"plugins/dtable-utils/views/#getviewbyid","title":"getViewById","text":"<p>\u901a\u8fc7 id \u83b7\u53d6\u89c6\u56fe\u5185\u5bb9</p> <pre><code>getViewById(views, viewId);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>views: \u6240\u6709\u5b50\u8868\u7684\u89c6\u56fe</li> <li>viewId: \u83b7\u53d6\u89c6\u56fe\u7684id</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n</code></pre>"},{"location":"plugins/dtable-utils/views/#getviewbyname","title":"getViewByName","text":"<p>\u901a\u8fc7 name \u83b7\u53d6\u89c6\u56fe\u5185\u5bb9</p> <pre><code>getViewByName(views, viewName);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>views: \u6240\u6709\u5b50\u8868\u7684\u89c6\u56fe</li> <li>viewName: \u83b7\u53d6\u89c6\u56fe\u7684\u540d\u5b57</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewByName } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst viewName = 'viewName';\nconst view = getViewByName(table.views, viewName);\n</code></pre>"},{"location":"plugins/dtable-utils/views/#isdefaultview","title":"isDefaultView","text":"<p>\u5224\u65ad\u662f\u5426\u4e3a\u9ed8\u8ba4\u89c6\u56fe(\u4e0d\u5305\u542b\u5206\u7ec4, \u8fc7\u6ee4, \u6392\u5e8f\u7b49\u6761\u4ef6)</p> <pre><code>isDefaultView(view, columns);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>view: \u89c6\u56fe\u5bf9\u8c61</li> <li>columns: \u5b50\u8868\u4e2d\u6240\u6709\u7684\u5217\u5185\u5bb9</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById, isDefaultView } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\n\nconst columns = window.dtableSDK.getColumns(table); // const columns = view.columns\nconst _isDefaultView = isDefaultView(view, columns);\n</code></pre>"},{"location":"plugins/dtable-utils/views/#isgroupview","title":"isGroupView","text":"<p>\u5224\u65ad\u662f\u5426\u4e3a\u5305\u542b\u5206\u7ec4\u7684\u89c6\u56fe(\u5305\u542b\u5206\u7ec4\u6761\u4ef6)</p> <pre><code>isGroupView(view, columns);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>view: \u89c6\u56fe\u5bf9\u8c61</li> <li>columns: \u5b50\u8868\u4e2d\u6240\u6709\u7684\u5217\u5185\u5bb9</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById, isGroupView } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\n\nconst columns = window.dtableSDK.getColumns(table); // const columns = view.columns\nconst _isGroupView = isGroupView(view, columns);\n</code></pre>"},{"location":"plugins/dtable-utils/views/#isfilterview","title":"isFilterView","text":"<p>\u5224\u65ad\u662f\u5426\u4e3a\u8fc7\u6ee4\u89c6\u56fe(\u5305\u542b\u8fc7\u6ee4\u6761\u4ef6)</p> <pre><code>isFilterView(view, columns);\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>view: \u89c6\u56fe\u5bf9\u8c61</li> <li>columns: \u5b50\u8868\u4e2d\u6240\u6709\u7684\u5217\u5185\u5bb9</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>import { getTableById, getViewById, isFilterView } from 'dtable-utils';\n\nconst tables = window.dtableSDK.getTables();\n\nconst tableId = '0000';\nconst table = getTableById(tables, tableId);\n\nconst viewId = '0000';\nconst view = getViewById(table.views, viewId);\n\n\nconst columns = window.dtableSDK.getColumns(table); // const columns = view.columns\nconst _isFilterView = isFilterView(view, columns);\n</code></pre>"},{"location":"python/","title":"SeaTable Python \u811a\u672c\u7f16\u7a0b","text":"<p>Javascript \u811a\u672c\u5728\u5f53\u524d\u7684\u6d4f\u89c8\u5668\u4e2d\u76f4\u63a5\u8fd0\u884c\uff0c\u9002\u5408\u4e8e\u5bf9\u6570\u636e\u8fdb\u884c\u7b80\u5355\u7684\u5904\u7406\u3002Python \u811a\u672c\u5728\u670d\u52a1\u5668\u7aef\u8fd0\u884c\uff0c\u800c\u4e14\u53ef\u4ee5\u8bbe\u7f6e\u81ea\u52a8\u5468\u671f\u6027\u8fd0\u884c\uff0c\u9002\u5408\u4e8e\u66f4\u590d\u6742\u7684\u6570\u636e\u5904\u7406\u573a\u666f\u3002</p> <p>Python \u811a\u672c\u4e5f\u53ef\u4ee5\u5728\u4f60\u7684\u672c\u5730\u673a\u5668\u4e0a\u8fd0\u884c\uff0c\u4e5f\u53ef\u4ee5\u4e0a\u4f20\u5230 SeaTable \u4e91\u7aef\u8fd0\u884c\u3002\u672c\u5730\u8fd0\u884c\u65b9\u4fbf\u4f60\u5f00\u53d1\u8c03\u8bd5\uff0c\u4e5f\u53ef\u4ee5\u65b9\u4fbf\u7684\u628a\u811a\u672c\u96c6\u6210\u5230\u66f4\u5927\u7684\u9879\u76ee\u4e2d\u3002</p>"},{"location":"python/#_1","title":"\u5982\u4f55\u8ba9\u811a\u672c\u540c\u65f6\u652f\u6301\u672c\u5730\u4e91\u7aef\u4e2d\u8fd0\u884c","text":"<p>\u811a\u672c\u5728\u4e91\u7aef\u8fd0\u884c\u7684\u65f6\u5019\u4f1a\u63d0\u4f9b\u4e00\u4e2a context \u5bf9\u8c61\uff0c\u91cc\u8fb9\u5305\u542b\u4e86\u7cfb\u7edf\u81ea\u52a8\u7ed9\u4f60\u751f\u6210\u7684\u670d\u52a1\u5668\u7684\u5730\u5740\u548c base \u7684 API token\u3002\u5982\u679c\u4f60\u5728\u672c\u5730\u8fd0\u884c\u5219\u9700\u8981\u624b\u5de5\u6307\u5b9a\u8fd9\u4e24\u4e2a\u53d8\u91cf\uff1b\u5176\u4e2d API token \u53ef\u4ee5\u5728\u8868\u683c\u7684\u4e0b\u62c9\u83dc\u5355 \"\u9ad8\u7ea7 -&gt; API Token\" \u4e2d\u751f\u6210\u3002</p> <p>\u7528\u4ee5\u4e0b\u7684\u5199\u6cd5\u6765\u652f\u6301\u811a\u672c\u540c\u65f6\u5728\u672c\u5730\u548c\u4e91\u7aef\u8fd0\u884c</p> <pre><code>from seatable_api import Base, context\n\nserver_url = context.server_url or 'https://cloud.seatable.cn'\napi_token = context.api_token or 'c3c75dca2c369849455a39f4436147639cf02b2d'\n\n\nbase = Base(api_token, server_url)\nbase.auth()\n</code></pre> <p>\u5982\u679c\u4f60\u5728\u4e91\u7aef\u7f16\u5199\u7684\u8bdd\uff0c\u53ef\u4ee5\u590d\u5236\u4e00\u4e0b\u5185\u5bb9\u5feb\u901f\u5f00\u59cb\u7f16\u5199:</p> <pre><code>from seatable_api import Base, context\n\nbase = Base(context.api_token, context.server_url)\nbase.auth()\n</code></pre>"},{"location":"python/#_2","title":"\u672c\u5730\u8fd0\u884c\u9700\u8981\u5b89\u88c5\u7684\u5e93","text":"<p>\u811a\u672c\u5728\u672c\u5730\u8fd0\u884c\u7684\u65f6\u5019\u9700\u8981\u5b89\u88c5 <code>seatable-api</code>\u3002</p> <pre><code>pip3 install seatable-api\n</code></pre> <p>\u8981\u6c42</p> <ul> <li>Python &gt;= 3.5</li> <li>requests</li> <li>socketIO-client-nexus</li> </ul>"},{"location":"python/#_3","title":"\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50","text":"<p>\u4e0b\u9762\u7684\u4f8b\u5b50\u5c55\u793a\u600e\u4e48\u5728\u4e00\u4e2a base \u4e2d\u67e5\u8be2\u6570\u636e\u548c\u66f4\u65b0\u6570\u636e\u3002</p> <pre><code>base = Base(api_token, server_url)\nbase.auth()\n\n# \u67e5\u770b\u884c\nrows = base.list_rows(\"Table1\")\n\nrow_data = {'name': 'Tom', 'age': 18}\n# \u8ffd\u52a0\u884c\nbase.append_row('Table1', row_data)\n\n# \u66f4\u65b0\u884c\nbase.update_row('Table1', 'U_eTV7mDSmSd-K2P535Wzw', row_data)\n\n# \u5220\u9664\u884c\nbase.delete_row('Table1', 'U_eTV7mDSmSd-K2P535Wzw')\n</code></pre>"},{"location":"python/#_4","title":"\u7f16\u7a0b\u53c2\u8003","text":"<p>SeaTable \u4e2d\u5bf9\u8c61\u7684\u6570\u636e\u7ed3\u6784:</p> <ul> <li>\u6570\u636e\u7ed3\u6784</li> </ul> <p>SeaTable API \u5e93\u4ecb\u7ecd:</p> <ul> <li>Base</li> <li>Rows</li> <li>Links</li> <li>Columns</li> <li>Files</li> <li>Account</li> <li>Context</li> <li>Constants: \u4e00\u4e9b\u5e38\u91cf\u5b9a\u4e49</li> <li>\u4e91\u7aef\u73af\u5883\u4e0b\u652f\u6301\u7684\u5e93: \u4e91\u7aef\u73af\u5883\u4e0b\u652f\u6301\u5bfc\u5165\u7684 Python \u5e93\u5217\u8868</li> <li>Websocket: \u901a\u8fc7 Websocket \u5b9e\u65f6\u83b7\u53d6\u6570\u636e\u66f4\u65b0\u7684\u901a\u77e5</li> </ul>"},{"location":"python/#_5","title":"\u4f8b\u5b50","text":"<p>\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u94fe\u63a5\u627e\u5230\u4e00\u4e9b\u5bb9\u6613\u7406\u89e3\u7684\u4f8b\u5b50https://github.com/seatable/seatable-scripts-cn/tree/master/examples/python</p> <p>\u5177\u4f53\u5982\u4e0b</p> <ul> <li>send_email.py: \u8bfb\u53d6\u4e00\u4e2a\u8868\u4e2d\u7684\u56fe\u7247/\u6587\u4ef6\u4f5c\u4e3a\u9644\u4ef6\u53d1\u9001\u90ae\u4ef6\u7ed9\u53e6\u4e00\u4e2a\u8868\u4e2d\u7684\u8054\u7cfb\u4eba</li> <li>image_transfer.py: \u4ece\u4e00\u4e2a\u8bb0\u5f55\u56fe\u7247 URL \u5217\u8868\u5217\u4e0b\u8f7d\u56fe\u7247\u5e76\u6dfb\u52a0\u5230\u8868\u683c\u4e2d</li> <li>verify_records.py: \u6839\u636e\u8bb0\u5f55\u7684\u521b\u5efa\u65f6\u95f4\u5224\u65ad\u8bb0\u5f55\u7684\u6709\u6548\u6027\uff0c\u5e76\u5199\u5230\u4e00\u5217\u4e0a</li> <li>sync_mysql.py: \u5c06mysql\u6570\u636e\u5e93\u4e2d\u7684\u4fe1\u606f\u540c\u6b65\u81f3\u8868\u683c\u4e2d</li> <li>update_certification_expiration.py: \u66f4\u65b0\u7f51\u7ad9\u8bc1\u4e66\u8fc7\u671f\u65f6\u95f4</li> <li>send_wechat_msg.py: \u901a\u8fc7\u4f01\u4e1a\u5fae\u4fe1\u7fa4\u673a\u5668\u4eba\u63a8\u9001\u7fa4\u6d88\u606f</li> <li>sync_stock_price.py: \u66f4\u65b0\u80a1\u7968\u4ef7\u683c\u4fe1\u606f</li> <li>sync_data_by_spider.py: \u901a\u8fc7\u722c\u53d6\u7ef4\u57fa\u767e\u79d1\u4fe1\u606f\u5199\u5165\u8868\u683c</li> <li>sync_finance_data.py: \u4ece\u542f\u4fe1\u5b9d\u83b7\u53d6\u516c\u53f8\u4fe1\u606f\u5199\u5165\u8868\u683c</li> <li>work_days_calculator.py: \u8ba1\u7b97\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u7684\u5de5\u4f5c\u65e5</li> <li>generate_barcode.py: \u5c06\u8868\u683c\u5185\u5bb9\u8f6c\u6362\u6210\u6761\u7801\u5e76\u6dfb\u52a0\u81f3\u8868\u683c</li> </ul>"},{"location":"python/account/","title":"Account","text":"<p>Account \u7c7b\u63d0\u4f9b\u4e86\u64cd\u4f5c\u5168\u5c40 API \u7684\u63a5\u53e3\uff0c\u5305\u62ec</p> <ul> <li>\u5217\u51fa\u6240\u6709\u7684 Workspace</li> <li>\u65b0\u589e/\u590d\u5236/\u5220\u9664 Base</li> <li>\u83b7\u53d6\u5355\u4e2a Base \u7684\u8bbf\u95ee\u6743\u9650</li> </ul>"},{"location":"python/account/#_1","title":"\u8ba4\u8bc1","text":"<p>\u4f7f\u7528 \u90ae\u7bb1/\u5bc6\u7801 \u8fdb\u884c\u8ba4\u8bc1\uff0c\u5728\u8c03\u7528 Account \u63d0\u4f9b\u7684 API \u524d\uff0c\u9700\u8981\u5148\u8fdb\u884c\u8ba4\u8bc1</p>"},{"location":"python/account/#_2","title":"\u4f8b\u5b50","text":"<pre><code>from seatable_api import Account\n\nusername = 'xiongxxx@xxx.com'\npassword = 'xxxxxxx'\nserver_url = 'https://cloud.seatable.cn/'\naccount = Account(username, password, server_url)\naccount.auth()\n</code></pre>"},{"location":"python/account/#workspace","title":"Workspace","text":"<p>\u5728 SeaTable \u4e2d\uff0c\u4e00\u4e2a workspace \u662f\u4e2a\u4eba\u7684\u8868\u683c\u7684\u96c6\u5408\u6216\u8005\u4e00\u4e2a\u7fa4\u7ec4\u7684\u8868\u683c\u7684\u96c6\u5408\u3002Base \u5b58\u50a8\u5728 workspace \u4e2d\u3002SeaTable \u4f1a\u4e3a\u6bcf\u4e2a\u8d26\u53f7\u751f\u6210\u4e00\u4e2a\u4e2a\u4eba\u7684 workspace, \u6bcf\u4e2a\u7fa4\u7ec4\u4e5f\u6709\u4e00\u4e2a workspace\u3002</p>"},{"location":"python/account/#list-workspaces","title":"List workspaces","text":"<p>\u83b7\u53d6\u60a8\u6240\u6709 workspace \u4e0e\u5176\u4e0b\u7684 base</p>"},{"location":"python/account/#_3","title":"\u4f8b\u5b50","text":"<pre><code>account.list_workspaces()\n</code></pre> <p>\u8fd4\u56de\u7ed3\u679c</p> <pre><code>{\n \"workspace_list\": [{\n        \"id\": 13740,      # workspace\u7684id\n        \"repo_id\": \"cd9a97a6-9214-4eeb-b609-4295530b9018\",\n        \"table_list\": [{  # base\u5bf9\u8c61\n            \"id\": 24022,\n            \"workspace_id\": 13740,\n            \"uuid\": \"69771c2e-b51e-4fe4-b721-01cd1950e68c\",\n            \"name\": \"q\",\n            \"creator\": \"122\",\n            \"modifier\": \"122\",\n            \"created_at\": \"2020-10-26T14:43:02+08:00\",\n            \"updated_at\": \"2020-10-26T14:43:02+08:00\",\n            \"color\": null,\n            \"text_color\": null,\n            \"icon\": null,\n            \"starred\": false\n        }],\n        \"owner_name\": \"122\",\n        \"owner_type\": \"Personal\"\n    }],\n    \"starred_dtable_list\": []\n}\n</code></pre>"},{"location":"python/account/#base","title":"Base","text":"<p>\u65b0\u589e/\u590d\u5236/\u5220\u9664 Base\uff0c\u83b7\u53d6\u4e00\u4e2a Base \u8bbf\u95ee\u6743\u9650\u7684\u63a5\u53e3</p>"},{"location":"python/account/#add-a-base","title":"Add a base","text":"<p>\u6dfb\u52a0\u4e00\u4e2a base \u5230\u4e00\u4e2a Workspace </p> <pre><code>account.add_base(name, workspace_id=None)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>workspace_id: \u6dfb\u52a0\u5230\u6307\u5b9a\u7684\u5de5\u4f5c\u533a\uff0c\u5982\u679c\u4e3a None \u5219\u9ed8\u8ba4\u6dfb\u52a0\u5230\u81ea\u5df1\u7684\u5de5\u4f5c\u533a</li> </ul>"},{"location":"python/account/#_4","title":"\u4f8b\u5b50","text":"<pre><code>account.add_base('new-base')\naccount.add_base('new-base', 35)\n</code></pre>"},{"location":"python/account/#copy-a-base","title":"Copy a base","text":"<p>\u590d\u5236\u4e00\u4e2a base \u5230\u4e00\u4e2a workspace \u4e2d</p> <pre><code>account.copy_base(src_workspace_id, base_name, dst_workspace_id)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>src_workspace_id: \u6e90\u5de5\u4f5c\u533a id</li> <li>dst_workspace_id: \u76ee\u6807\u5de5\u4f5c\u533a id</li> <li>base_name: base \u7684\u540d\u79f0</li> </ul> <p>\u5373\u5c06\u540d\u4e3a base_name \u7684 base \u4ece\u6e90\u5de5\u4f5c\u533a\u590d\u5236\u5230\u76ee\u6807\u5de5\u4f5c\u533a</p>"},{"location":"python/account/#_5","title":"\u4f8b\u5b50","text":"<pre><code>account.copy_base(35, 'img-file', 74)\n</code></pre>"},{"location":"python/account/#get-a-base","title":"Get a base","text":"<p>\u83b7\u53d6\u4e00\u4e2a base \u5bf9\u8c61</p> <pre><code># \u83b7\u53d6\u5b58\u5728\u4e8e id \u4e3a workspac_id \u7684 workspace \u4e2d\u540d\u4e3a base_name \u7684 Base \u5bf9\u8c61\n# Base\u5bf9\u8c61\u5df2\u83b7\u5f97\u6388\u6743\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u8c03\u7528 base.auth()\naccount.get_base(workspace_id, base_name)\n</code></pre>"},{"location":"python/account/#_6","title":"\u4f8b\u5b50","text":"<pre><code>base = account.get_base(35, 'img-file')\n</code></pre>"},{"location":"python/base/","title":"Base \u5bf9\u8c61","text":"<p>Base \u4ee3\u8868\u4e00\u4e2a\u8868\u683c\u3002\u4f60\u53ef\u4ee5\u7528\u4e24\u79cd\u65b9\u6cd5\u6765\u83b7\u53d6\u8bfb\u5199\u4e00\u4e2a base \u7684\u6388\u6743\u3002\u4e00\u4e2a\u662f\u4f7f\u7528\u5355\u4e2a\u8868\u683c\u7684 api token, \u8fd9\u4e2a token \u53ef\u4ee5\u5728\u7f51\u9875\u7aef\u76f4\u63a5\u751f\u6210\u3002\u5728\u4e91\u7aef\u73af\u5883\u4e0b\u4ece context.api_token \u76f4\u63a5\u8bfb\u53d6\u3002</p> <p>\u8fd8\u6709\u4e00\u4e2a\u65b9\u6cd5\u662f\u4f7f\u7528\u8d26\u53f7\u540d\u548c\u5bc6\u7801\u6765\u521d\u59cb\u5316\u4e00\u4e2a Account \u5bf9\u8c61\uff0c\u7136\u540e\u8c03\u7528 Account \u7684\u63a5\u53e3\u6765\u83b7\u53d6\u4e00\u4e2a base \u5bf9\u8c61\u3002\u7b2c\u4e00\u79cd\u65b9\u6cd5\u66f4\u52a0\u5b89\u5168\u4e00\u4e9b\u3002</p>"},{"location":"python/base/#_1","title":"\u83b7\u53d6\u6388\u6743","text":"<p>\u4f7f\u7528\u8868\u683c\u7684 API Token \u6765\u83b7\u53d6\u4e00\u4e2a base \u7684\u8bbf\u95ee\u6388\u6743\u3002</p>"},{"location":"python/base/#_2","title":"\u4f8b\u5b50","text":"<pre><code>from seatable_api import Base, context\n\nserver_url = context.server_url or 'https://cloud.seatable.cn'\napi_token = context.api_token or 'c3c75dca2c369849455a39f4436147639cf02b2d'\n\nbase = Base(api_token, server_url)\nbase.auth()\n</code></pre>"},{"location":"python/base/#metadata","title":"Metadata","text":""},{"location":"python/base/#get-metadata","title":"Get metadata","text":""},{"location":"python/base/#_3","title":"\u4f8b\u5b50","text":"<pre><code>base.get_metadata()\n</code></pre> <p>\u8fd4\u56de\u7ed3\u679c</p> <pre><code>{\n    'tables': [{\n        '_id': '4krH',\n        'name': '\u8054\u7cfb\u4eba',\n        'is_header_locked': False,\n        'description': 'xxxx',\n        'header_settings': {\n                'header_height': 'double'\n        },\n        'columns': [{\n            'key': '0000',\n            'type': 'text',\n            'name': '\u540d\u79f0',\n            'editable': True,\n            'width': 200,\n            'resizable': True,\n            'draggable': True,\n            'data': None,\n            'permission_type': '',\n            'permitted_users': []\n        }, {\n            'key': 'M31F',\n            'type': 'text',\n            'name': '\u90ae\u7bb1',\n            'editable': True,\n            'width': 200,\n            'resizable': True,\n            'draggable': True,\n            'data': None,\n            'permission_type': '',\n            'permitted_users': []\n        }],\n        'views': [{\n            '_id': '0000',\n            'name': '\u9ed8\u8ba4\u89c6\u56fe',\n            'type': 'table',\n            'is_locked': False,\n            'filter_conjunction': 'And',\n            'filters': [],\n            'sorts': [],\n            'groupbys': [],\n            'group_rows': [],\n            'groups': [],\n            'colorbys': {},\n            'hidden_columns': [],\n            'rows': [],\n            'formula_rows': {},\n            'link_rows': {},\n            'summaries': {},\n            'colors': {},\n                'row_height': 'double'\n        }]\n    }],\n    'version': 28,\n    'scripts': [{\n        'name': 'test',\n        'url': '/scripts/09U9.py',\n        '_id': '09U9',\n        'type': 'Python'\n    }],\n    'settings': {\n        'enable_archive': True\n    },\n    'description': {\n        'text': 'The base records are based on the research work recently'\n    }\n}\n</code></pre>"},{"location":"python/base/#table","title":"Table","text":""},{"location":"python/base/#list-tables","title":"List tables","text":"<p>\u83b7\u53d6 base \u4e2d\u7684\u5b50\u8868</p> <pre><code>base.list_tables()\n</code></pre>"},{"location":"python/base/#get-a-table-by-name","title":"Get a table by name","text":"<p>\u901a\u8fc7\u540d\u79f0\u83b7\u53d6 base \u7684\u5b50\u8868</p> <pre><code>base.get_table_by_name(table_name)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u9700\u8981\u83b7\u53d6\u7684\u5b50\u8868\u540d\u79f0</li> </ul>"},{"location":"python/base/#_4","title":"\u4f8b\u5b50","text":"<pre><code>base.get_table_by_name('Table1')\n</code></pre>"},{"location":"python/base/#add-table","title":"Add table","text":"<p>\u5728 base \u4e2d\u6dfb\u52a0\u5b50\u8868</p> <pre><code>base.add_table(table_name, lang='en')\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u9700\u8981\u6dfb\u52a0\u7684\u5b50\u8868\u540d\u79f0</li> <li>lang\uff1a\u8bed\u8a00\uff0c \u9ed8\u8ba4 en \uff0c \u76ee\u524d\u652f\u6301\u82f1\u6587 ( en )\u548c\u4e2d\u6587 ( zh-cn )</li> </ul>"},{"location":"python/base/#_5","title":"\u4f8b\u5b50","text":"<pre><code>base.add_table('\u9879\u76ee\u8c03\u67e5\u8868', lang='zh-cn')\n</code></pre>"},{"location":"python/base/#rename-table","title":"Rename table","text":"<p>\u91cd\u547d\u540d\u4e00\u4e2a\u5b50\u8868</p> <pre><code>base.rename_table(table_name, new_table_name)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5f53\u524d\u5b50\u8868\u540d\u79f0</li> <li>new_table_name: \u5b50\u8868 \u7684\u65b0\u540d\u8bcd</li> </ul>"},{"location":"python/base/#_6","title":"\u4f8b\u5b50","text":"<pre><code>base.rename_table('Table1', 'Table11')\n</code></pre>"},{"location":"python/base/#delete-table","title":"Delete table","text":"<p>\u5220\u9664 base \u4e2d\u7684\u5b50\u8868</p> <pre><code>base.delete_table(table_name)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u9700\u8981\u5220\u9664\u7684\u5b50\u8868\u540d\u79f0</li> </ul>"},{"location":"python/base/#_7","title":"\u4f8b\u5b50","text":"<pre><code>base.delete_table('Table1')\n</code></pre>"},{"location":"python/base/#base_1","title":"Base \u4e0a\u7684\u64cd\u4f5c","text":"<p>Base \u5bf9\u8c61\u63d0\u4f9b\u4e86\u64cd\u4f5c\u884c\u548c\u5217\uff0c\u4e0a\u4f20\u4e0b\u8f7d\u6587\u4ef6\u7b49\u7684\u63a5\u53e3\uff0c\u8bf7\u53c2\u8003\u6587\u6863</p> <ul> <li>Rows</li> <li>Links</li> <li>Columns</li> <li>Files</li> </ul>"},{"location":"python/base/#_8","title":"\u6388\u6743\u8fc7\u671f\u7684\u5904\u7406\u65b9\u5f0f","text":"<p>\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c \u6211\u4eec\u9700\u8981\u628a\u8868\u683c\u7684\u8bfb\u5199\u903b\u8f91\u653e\u5165\u5230 while \u6216\u8005 for \u5faa\u73af\u91cc\u9762\u957f\u671f\u8fd0\u884c\u3002\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u6388\u6743\u53ef\u80fd\u4f1a\u56e0\u4e3a\u6388\u6743\u8fc7\u671f\u800c\u5bfc\u81f4\u7a0b\u5e8f\u4e2d\u65ad\uff0c\u6211\u4eec\u5728\u6b64\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5f02\u5e38 <code>AuthExpiredError</code>\uff0c \u53ef\u4ee5\u901a\u8fc7\u6355\u83b7\u8be5\u5f02\u5e38\uff0c\u6765\u8fdb\u884c\u91cd\u65b0\u6388\u6743\uff0c\u53c2\u8003\u5982\u4e0b</p> <pre><code>from seatable_api import Base, context\nfrom seatable_api.exception import AuthExpiredError\n\nserver_url = context.server_url or 'https://cloud.seatable.cn'\napi_token = context.api_token or 'c3c75dca2c369849455a39f4436147639cf02b2d'\n\nbase = Base(api_token, server_url)\nbase.auth()\n\nwhile True:\n    try:\n        base.append_row('Table1', {\"xxx\":\"xxx\"})\n        ...\n    except AuthExpiredError:\n       base.auth()\n</code></pre>"},{"location":"python/big_data_storage/","title":"Big data storage","text":"<p>\u4ee5\u4e0b\u7684\u65b9\u6cd5\u53ef\u4ee5\u5bf9\u5927\u6570\u636e\u5b58\u50a8\u4e2d\u7684\u5df2\u6388\u6743 Base \u8fdb\u884c\u64cd\u4f5c\uff0c \u5728\u8c03\u7528\u65b9\u6cd5\u4e4b\u524d\uff0c \u8bf7\u5728\u754c\u9762\u4e0a\u7684\u5927\u6570\u636e\u7ba1\u7406\u4e2d\u5f00\u542f\u5927\u6570\u636e\u529f\u80fd\u3002</p>"},{"location":"python/big_data_storage/#insert-rows-into-big-data-storage","title":"Insert rows into big data storage","text":"<p>\u6279\u91cf\u63d2\u5165\u884c\u5230\u5927\u6570\u636e\u5b58\u50a8</p> <pre><code>base.big_data_insert_rows(table_name, rows_data)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0</li> </ul>"},{"location":"python/big_data_storage/#_1","title":"\u4f8b\u5b50","text":"<pre><code>rows = [\n        {'\u540d\u79f0': \"A\"},\n        {'\u540d\u79f0': \"B\"}\n    ]\n\nbase.big_data_insert_rows('Table1', rows_data=rows)\n</code></pre>"},{"location":"python/big_data_storage/#_2","title":"Big data storage","text":""},{"location":"python/columns/","title":"Column","text":""},{"location":"python/columns/#list-columns","title":"List columns","text":"<p>\u5217\u51fa\u8868/\u89c6\u56fe\u6240\u6709\u5217</p> <pre><code>base.list_columns(table_name, view_name=None)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</li> </ul>"},{"location":"python/columns/#_1","title":"\u4f8b\u5b50","text":"<pre><code>base.list_columns('Table1')\nbase.list_columns('Table1', view_name='default')\n</code></pre>"},{"location":"python/columns/#get-column-by-name","title":"Get column by name","text":"<p>\u901a\u8fc7\u540d\u79f0\u83b7\u53d6\u5217</p> <pre><code>base.get_column_by_name(table_name, colume_name)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0\u6216id</li> <li>column_name\uff1a \u9700\u8981\u83b7\u53d6\u7684\u5217\u540d</li> </ul>"},{"location":"python/columns/#_2","title":"\u4f8b\u5b50","text":"<pre><code>base.get_column_by_name('Table1', 'Name')\n</code></pre>"},{"location":"python/columns/#get-columns-by-type","title":"Get columns by type","text":"<p>\u901a\u8fc7\u5217\u7684\u7c7b\u578b\u6765\u83b7\u53d6\u5217</p> <pre><code>base.get_columns_by_type(table_name, column_type)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</li> <li>column_type: \u9700\u8981\u83b7\u53d6\u7684\u5217\u7684\u7c7b\u578b\uff0cColumnTypes \u7c7b\uff0c\u8bf7\u53c2\u8003 constants</li> </ul>"},{"location":"python/columns/#_3","title":"\u4f8b\u5b50","text":"<pre><code>from seatable_api.constants import ColumnTypes\nbase.get_columns_by_type('Table1', ColumnTypes.TEXT)\n</code></pre>"},{"location":"python/columns/#insert-column","title":"Insert column","text":"<p>\u63d2\u5165/\u8ffd\u52a0\u5217</p> <pre><code>base.insert_column(table_name, column_name, column_type, column_key=None, column_data=None)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li> <p>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</p> </li> <li> <p>column_key\uff1a\u8981\u63d2\u5165\u7684\u4f4d\u7f6e\u7684\u524d\u4e00\u5217\u7684 key\uff0c\u5982\u82e5\u7701\u7565\u5219\u9ed8\u8ba4\u8ffd\u52a0\u4e3a\u6700\u540e\u4e00\u5217</p> </li> <li>column_type\uff1a\u8bf7\u53c2\u8003 constants</li> <li>column_data: \u4e00\u4e2a\u5217\u7684 config \u4fe1\u606f\uff0c\u521b\u5efa\u94fe\u63a5\u5217\u65f6\u9700\u8981\u6307\u5b9a\uff0c \u5176\u4ed6\u7c7b\u578b\u9009\u62e9\u6027\u5236\u5b9a</li> </ul>"},{"location":"python/columns/#_4","title":"\u4f8b\u5b50","text":"<pre><code>from seatable_api.constants import ColumnTypes\nbase.insert_column('Table1', 'python-api', ColumnTypes.TEXT)\nbase.insert_column('Table1', 'python-api', ColumnTypes.TEXT, '0000')\nbase.insert_column('Table1', 'Link1', ColumnTypes.LINK, column_data={\n        'table':'Table1',\n        'other_table':'Test_User'\n    })\n</code></pre>"},{"location":"python/columns/#rename-column","title":"Rename column","text":"<p>\u91cd\u547d\u540d\u5217</p> <pre><code>base.rename_column(table_name, column_key, new_column_name)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</li> </ul>"},{"location":"python/columns/#_5","title":"\u4f8b\u5b50","text":"<pre><code>base.rename_column('Table1', 'kSiR', 'new-python-api')\n</code></pre>"},{"location":"python/columns/#resize-column","title":"Resize column","text":"<p>\u8bbe\u7f6e\u5217\u5bbd</p> <pre><code>base.resize_column(table_name, column_key, new_column_width)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</li> </ul>"},{"location":"python/columns/#_6","title":"\u4f8b\u5b50","text":"<p>\u5217\u7684\u9ed8\u8ba4\u5bbd\u5ea6\u4e3a200\uff0c\u5982\u679c\u9700\u8981\u8c03\u6574\u5217\u5bbd\u6bd4\u5982\u8c03\u6574\u4e3a500\uff0c\u5219</p> <pre><code>base.resize('Table1', 'asFV', 500)\n</code></pre>"},{"location":"python/columns/#freeze-column","title":"Freeze column","text":"<p>\u51bb\u7ed3\u5217</p> <pre><code>base.freeze_column(table_name, column_key, frozen)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li> <p>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</p> </li> <li> <p>frozon: True/False</p> </li> </ul>"},{"location":"python/columns/#_7","title":"\u4f8b\u5b50","text":"<pre><code>base.freeze_column('Table1', '0000', True)\n</code></pre>"},{"location":"python/columns/#move-column","title":"Move column","text":"<pre><code>base.move_column(table_name, column_key, target_column_key)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li> <p>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</p> </li> <li> <p>column_key\uff1a\u8981\u79fb\u52a8\u7684\u5217\u7684 key</p> </li> <li> <p>target_column_key\uff1a \u951a\u5b9a\u5217\u7684 key\uff0c\u88ab\u79fb\u52a8\u7684\u5217\u5c06\u4f1a\u88ab\u79fb\u52a8\u5230\u8be5\u5217\u53f3\u8fb9</p> </li> </ul>"},{"location":"python/columns/#_8","title":"\u4f8b\u5b50","text":"<pre><code>base.move_column('Table1', 'loPx', '0000')\n</code></pre> <p>\u6b64\u4f8b\u4e2d\uff0c<code>loPx</code>\u5217\u5c06\u4f1a\u88ab\u79fb\u52a8\u5230<code>0000</code>\u5217\u7684\u53f3\u8fb9</p>"},{"location":"python/columns/#modify-column-type","title":"Modify column type","text":"<p>\u8f6c\u6362\u5217\u7c7b\u578b</p> <pre><code>base.modify_column_type(table_name, column_key, new_column_type)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li> <p>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</p> </li> <li> <p>column_type\uff1a\u8bf7\u53c2\u8003 constants</p> </li> </ul>"},{"location":"python/columns/#_9","title":"\u4f8b\u5b50","text":"<pre><code>from seatable_api.constants import ColumnTypes\n\nbase.modify_column_type('Table1', 'nePI', ColumnTypes.NUMBER)\n</code></pre>"},{"location":"python/columns/#add-column-options","title":"Add column options","text":"<p>\u5355\u9009\uff0c\u591a\u9009\u5217\u4e13\u7528\uff0c\u6dfb\u52a0\u9009\u9879</p> <pre><code>add_column_options(table_name, column, options)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</li> </ul>"},{"location":"python/columns/#_10","title":"\u4f8b\u5b50","text":"<pre><code>base.add_column_options('Table1', 'My choices', [\n        {\"name\": \"ddd\", \"color\": \"#aaa\", \"textColor\": \"#000000\"},\n        {\"name\": \"eee\", \"color\": \"#aaa\", \"textColor\": \"#000000\"},\n        {\"name\": \"fff\", \"color\": \"#aaa\", \"textColor\": \"#000000\"},\n])\n</code></pre>"},{"location":"python/columns/#add-column-cascade-settings","title":"Add column cascade settings","text":"<p>\u5355\u9009\u5217\u4e13\u7528\uff0c\u6dfb\u52a0\u5355\u9009\u9009\u9879\u7684\u7236\u5b50\u53ca\u8054\u5173\u7cfb\uff0c\u8fbe\u5230\u5b50\u5217\u7684\u5355\u9009\u9009\u9879\u6761\u76ee\u6839\u636e\u7236\u5217\u7684\u9009\u9879\u800c\u5b9a\u7684\u6548\u679c</p> <pre><code>add_column_cascade_settings(table_name, child_column, parent_column, cascade_settings)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li> <p>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</p> </li> <li> <p>child_column: \u5355\u9009\u5b50\u5217\u7684\u540d\u79f0</p> </li> <li>parent_column: \u5355\u9009\u7236\u5217\u7684\u540d\u79f0</li> <li>cascade_settings: \u53ca\u8054\u5173\u7cfb\u8bbe\u7f6e\u6570\u636e</li> </ul>"},{"location":"python/columns/#_11","title":"\u4f8b\u5b50","text":"<pre><code>base.add_column_cascade_settings(\"Table1\", \"single-op-col-c\", \"single-op-col\", {\n  \"aaa\": [\"aaa-1\", \"aaa-2\"], # \u5982\u679c\u7236\u5217\u9009\u62e9 \u201caaa\u201d\uff0c \u5b50\u5217\u53ea\u6709 \u201caaa-1\u201d \u548c \u201caaa-2\u201d \u53ef\u9009 \n  \"bbb\": [\"bbb-1\", \"bbb-2\"],\n  \"ccc\": [\"ccc-1\", \"ccc-2\"]\n})\n</code></pre>"},{"location":"python/columns/#delete-column","title":"Delete column","text":"<p>\u5220\u9664\u5217</p> <pre><code>base.delete_column(table_name, column_key)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</li> </ul>"},{"location":"python/columns/#_12","title":"\u4f8b\u5b50","text":"<pre><code>base.delete_column('Table1', 'bsKL')\n</code></pre>"},{"location":"python/constants/","title":"Constants","text":"<p>\u5728\u811a\u672c\u4e2d\u53ef\u80fd\u4f1a\u6709\u4e00\u4e9b\u5e38\u91cf\u9700\u8981\u6211\u4eec\u4e86\u89e3\u4e0b</p>"},{"location":"python/constants/#columntypes","title":"ColumnTypes","text":"<p>\u5217\u7c7b\u578b\uff0c\u5f53\u63d2\u5165/\u8ffd\u52a0\u5217\u3001\u66f4\u6539\u5217\u7c7b\u578b\u65f6\u7b49\u60c5\u51b5\u9700\u8981\u4f7f\u7528\u5230</p> <pre><code>from seatable_api.constants import ColumnTypes\nColumnTypes.NUMBER              # \u6570\u5b57\nColumnTypes.TEXT                # \u6587\u672c\nColumnTypes.LONG_TEXT           # \u957f\u6587\u672c\nColumnTypes.CHECKBOX            # \u52fe\u9009\nColumnTypes.DATE                # \u65e5\u671f\u65f6\u95f4\nColumnTypes.SINGLE_SELECT       # \u5355\u9009\nColumnTypes.MULTIPLE_SELECT     # \u591a\u9009\nColumnTypes.IMAGE               # \u56fe\u7247\nColumnTypes.FILE                # \u6587\u4ef6\nColumnTypes.COLLABORATOR        # \u534f\u4f5c\u4eba\nColumnTypes.LINK                # \u94fe\u63a5\u5176\u4ed6\u8bb0\u5f55\nColumnTypes.FORMULA             # \u516c\u5f0f\nColumnTypes.CREATOR             # \u521b\u5efa\u8005\nColumnTypes.CTIME               # \u521b\u5efa\u65f6\u95f4\nColumnTypes.LAST_MODIFIER       # \u4fee\u6539\u8005\nColumnTypes.MTIME               # \u4fee\u6539\u65f6\u95f4\nColumnTypes.GEOLOCATION         # \u5730\u5740\nColumnTypes.AUTO_NUMBER         # \u81ea\u52a8\u5e8f\u53f7\nColumnTypes.URL                 # \u94fe\u63a5\n</code></pre>"},{"location":"python/context/","title":"Context","text":"<p>\u5f53\u811a\u672c\u5728\u4e91\u7aef\u8fd0\u884c\u65f6, context \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e0a\u4e0b\u6587\u73af\u5883\u3002\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b</p> <pre><code>from seatable_api import context\n\ncontext.server_url # \u670d\u52a1\u5668\u5730\u5740\uff0c\u7528\u4e8e\u521d\u59cb\u5316 Base\ncontext.api_token  # \u8bbf\u95ee\u4e00\u4e2a base \u7528\u7684 API token\ncontext.current_table  # \u7528\u6237\u624b\u5de5\u8fd0\u884c\u4e00\u4e2a\u811a\u672c\u7684\u65f6\u5019\uff0c\u5f53\u524d\u7528\u6237\u6b63\u5728\u67e5\u770b\u7684\u8868\u683c\u540d\ncontext.current_row # \u7528\u6237\u624b\u5de5\u8fd0\u884c\u4e00\u4e2a\u811a\u672c\u7684\u65f6\u5019\uff0c\u5f53\u524d\u5149\u6807\u6240\u5728\u7684\u884c\ncontext.current_username # \u624b\u52a8\u8fd0\u884c\u811a\u672c\u7684\u7528\u6237\u7684\u7cfb\u7edf ID (\u65e7\u7248\u4e2d\u53eb\u505a current_user_id)\ncontext.current_id_in_org # \u7528\u6237\u5728\u673a\u6784\u4e2d\u7684 ID\n</code></pre>"},{"location":"python/dateutils/","title":"\u65f6\u95f4\u64cd\u4f5c\u51fd\u6570DateUtils","text":"<p>\u6211\u4eec\u5728 python \u7684 datetime \u6a21\u5757\u7684\u57fa\u7840\u4e0a\u63d0\u4f9b\u4e00\u7cfb\u5217\u51fd\u6570\u3002\u8fd9\u4e9b\u51fd\u6570\u548c SeaTable \u4e2d\u51fd\u6570\u5217\u63d0\u4f9b\u7684\u65e5\u671f\u51fd\u6570\u884c\u4e3a\u4e00\u81f4\uff0c\u65b9\u4fbf\u7528\u6237\u5bf9 SeaTable \u4e2d\u7684\u65e5\u671f\u8fdb\u884c\u5904\u7406\u3002</p> <p>\u65f6\u533a\u5904\u7406: \u6240\u6709\u7684\u64cd\u4f5c\u51fd\u6570\u672c\u5730\u65f6\u533a\u8fdb\u884c\u5904\u7406\u3002\u5982\u679c\u8f93\u5165\u5e26\u6709\u65f6\u533a\u4fe1\u606f\u7684\u65f6\u95f4\uff0c\u90a3\u4e48\u5148\u8f6c\u6362\u6210\u672c\u5730\u65f6\u533a\u65f6\u95f4\u7136\u540e\u5904\u7406\u3002</p>"},{"location":"python/dateutils/#_1","title":"\u51fd\u6570\u5f15\u5165","text":"<pre><code>from seatable_api import dateutils\n</code></pre>"},{"location":"python/dateutils/#date","title":"date","text":"<p>\u8fd4\u56de ISO \u683c\u5f0f\u5316\u7684\u65e5\u671f\u5b57\u7b26\u4e32</p> <pre><code>dateutils.date(2020, 5, 16) # 2020-05-16\n</code></pre>"},{"location":"python/dateutils/#now","title":"now","text":"<p>\u8fd4\u56de ISO \u683c\u5f0f\u5316\u7684\u5f53\u524d\u65e5\u671f\u548c\u65f6\u95f4\u5b57\u7b26\u4e32\uff0c\u7cbe\u786e\u5230\u79d2</p> <pre><code>dateutils.now() # 2022-02-07 09:44:00\n</code></pre>"},{"location":"python/dateutils/#dateadd","title":"dateadd","text":"<p>\u5bf9\u65f6\u95f4\u8fdb\u884c\u52a0\u6cd5\u8fd0\u7b97\uff0c\u901a\u8fc7\u4f20\u9012\u4e0d\u540c\u7684\u5355\u4f4d\u53c2\u6570\u53ef\u4ee5\u52a0\u5e74\uff0c\u6708\uff0c\u5468\uff0c\u65e5\uff0c\u5c0f\u65f6\uff0c\u5206\u949f\uff0c\u79d2\uff0c\u9ed8\u8ba4\u4f7f\u7528\u2018\u65e5\u2019\u4f5c\u4e3a\u5355\u4f4d</p> <pre><code>time_str = \"2020-6-15\"\ntime_str_s = \"2020-6-15 15:23:21\"\n\ndateutils.dateadd(time_str, -2, 'years') # 2018-06-15\ndateutils.dateadd(time_str, 3, 'months') # 2020-09-15\ndateutils.dateadd(time_str_s, 44, 'minutes') # 2020-06-15 16:07:21\ndateutils.dateadd(time_str_s, 1000, 'days') # 2023-03-12 15:23:21\ndateutils.dateadd(time_str_s, 3, 'weeks') # 2020-07-06 15:23:21\ndateutils.dateadd(time_str_s, -3, 'hours') # 2020-06-15 12:23:21\ndateutils.dateadd(time_str_s, 3, 'seconds') # 2020-06-15 15:23:24\n</code></pre>"},{"location":"python/dateutils/#datediff","title":"datediff","text":"<p>\u8ba1\u7b97\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u76f8\u9694\u7684\u79d2\u6570\uff0c\u5929\u6570\uff0c \u6708\u6570\uff0c\u5e74\u6570\uff0c \u53c2\u6570\u53ef\u4ee5\u4e3a S, Y, M, D, YM, MD</p> <p>\u5176\u4e2d</p> <ul> <li>YM, \u5f00\u59cb\u65f6\u95f4\u4e0e\u7ed3\u675f\u65f6\u95f4\u4e4b\u95f4\u6708\u4efd\u4e4b\u5dee, \u5ffd\u7565\u65e5\u671f\u4e2d\u7684\u5929\u548c\u5e74\u4efd</li> <li>MD, \u5f00\u59cb\u65f6\u95f4\u4e0e\u7ed3\u675f\u65f6\u95f4\u4e4b\u95f4\u5929\u6570\u4e4b\u5dee, \u5ffd\u7565\u65e5\u671f\u4e2d\u7684\u6708\u4efd\u548c\u5e74\u4efd</li> <li>YD,  \u5f00\u59cb\u65f6\u95f4\u4e0e\u7ed3\u675f\u65f6\u95f4\u7684\u65e5\u671f\u90e8\u5206\u4e4b\u5dee, \u5ffd\u7565\u65e5\u671f\u4e2d\u7684\u5e74\u4efd\u3002</li> </ul> <pre><code>time_start = \"2019-6-1\"\ntime_end = \"2020-5-15\"\ndateutils.datediff(start=time_start, end=time_end, unit='S') # seconds 30153600\ndateutils.datediff(start=time_start, end=time_end, unit='Y') # years 0\ndateutils.datediff(start=time_start, end=time_end, unit='D') # days 349\ndateutils.datediff(start=time_start, end=time_end, unit='H') # hours 8376\ndateutils.datediff(start=time_start, end=time_end, unit='M') # months 11\ndateutils.datediff(start=time_start, end=time_end, unit='YM') #  11\ndateutils.datediff(start=time_start, end=time_end, unit='MD') #  14\ndateutils.datediff(\"2019-2-28\",\"2020-2-1\", unit='YD') # -27\n</code></pre>"},{"location":"python/dateutils/#eomonth","title":"eomonth","text":"<p>\u8fd4\u56de\u67d0\u4e2a\u65e5\u671f\u7684\u524d n \u4e2a\u6708\u6216\u540e n \u4e2a\u6708\u7684\u6700\u540e\u4e00\u5929\uff0c \u53c2\u6570\u4e3a months \u4ee3\u8868 n</p> <pre><code>date = \"2022-7-4\"\ndateutils.eomonth(date, months=0) # 2022-07-31\ndateutils.eomonth(date, months=2) # 2022-09-30\ndateutils.eomonth(date, months=-5) # 2022-02-28\n</code></pre>"},{"location":"python/dateutils/#year","title":"year","text":"<p>\u8fd4\u56de\u67d0\u4e2a\u65e5\u671f\u7684\u5e74</p> <pre><code>dateutils.year(\"2019-1-1\") # 2019\n</code></pre>"},{"location":"python/dateutils/#month","title":"month","text":"<p>\u8fd4\u56de\u67d0\u4e2a\u65e5\u671f\u7684\u6708</p> <pre><code>dateutils.month(\"2019-5-4\") # 5\n</code></pre>"},{"location":"python/dateutils/#months","title":"months","text":"<p>\u8fd4\u56de\u4e24\u4e2a\u65e5\u671f\u76f8\u5dee\u7684\u6708\u6570</p> <pre><code>dateutils.months(\"2019-5-1\",\"2020-5-4\") # 12\n</code></pre>"},{"location":"python/dateutils/#day","title":"day","text":"<p>\u8fd4\u67d0\u4e2a\u65e5\u671f\u7684\u5929</p> <pre><code>dateutils.day('2020-6-15 15:23:21') # 15\n</code></pre>"},{"location":"python/dateutils/#days","title":"days","text":"<p>\u8fd4\u56de\u4e24\u4e2a\u65e5\u671f\u76f8\u5dee\u7684\u5929\u6570</p> <pre><code>dateutils.days('2019-6-1', '2020-5-15') # 349\n</code></pre>"},{"location":"python/dateutils/#hour","title":"hour","text":"<p>\u8fd4\u56de\u65f6\u95f4\u7684\u5c0f\u65f6\u6570</p> <pre><code>dateutils.hour(\"2020-1-1 12:20:30\") # 12\n</code></pre>"},{"location":"python/dateutils/#hours","title":"hours","text":"<p>\u8fd4\u56de\u4e24\u4e2a\u65e5\u671f\u76f8\u5dee\u7684\u5c0f\u65f6\u6570</p> <pre><code>dateutils.hours(\"2019-6-3 20:1:12\", \"2020-5-3 13:13:13\") # 8033\n</code></pre>"},{"location":"python/dateutils/#minute","title":"minute","text":"<p>\u8fd4\u56de\u65f6\u95f4\u7684\u5206\u949f\u6570</p> <pre><code>dateutils.minute(\"2020-5-3 13:13:13\") # 13\n</code></pre>"},{"location":"python/dateutils/#second","title":"second","text":"<p>\u8fd4\u56de\u65f6\u95f4\u7684\u79d2\u6570</p> <pre><code>dateutils.second(\"2020-5-3 13:13:33\") # 33\n</code></pre>"},{"location":"python/dateutils/#weekday","title":"weekday","text":"<p>\u8fd4\u56de\u67d0\u4e2a\u65e5\u671f\u662f\u661f\u671f\u51e0, \u8bb0\u5468\u4e00\u4e3a0\uff0c \u5468\u65e5\u4e3a6</p> <pre><code>dateutils.weekday(\"2019-6-3\") # 0\n</code></pre>"},{"location":"python/dateutils/#isoweekday","title":"isoweekday","text":"<p>\u57fa\u4e8eiso\u6807\u51c6\uff0c\u8fd4\u56de\u67d0\u4e2a\u65e5\u671f\u662f\u661f\u671f\u51e0\uff0c\u8bb0\u5468\u4e00\u4e3a1\uff0c \u5468\u65e5\u4e3a7</p> <pre><code>dateutils.isoweekday(\"2019-6-3\") # 1\n</code></pre>"},{"location":"python/dateutils/#weeknum","title":"weeknum","text":"<p>\u8fd4\u56de\u67d0\u4e2a\u65e5\u671f\u662f\u5f53\u5e74\u7684\u7b2c\u51e0\u5468\uff0c\u542b1\u67081\u65e5\u4e3a\u7b2c\u4e00\u5468</p> <pre><code>dateutils.weeknum('2012-1-2') # 2\n</code></pre>"},{"location":"python/dateutils/#isoweeknum","title":"isoweeknum","text":"<p>\u8fd4\u56de\u67d0\u4e2a\u65e5\u671f\u5f53\u5e74\u7684 ISO \u5468\u8ba1\u6570\uff0c \u5373\u5f53\u5e74\u7b2c\u4e00\u4e2a\u5468\u56db\u5f00\u59cb\u8bb0\u4e3a\u7b2c\u4e00\u5468</p> <pre><code>dateutils.isoweeknum('2012-1-2') # 1\n</code></pre>"},{"location":"python/dateutils/#isomonth","title":"isomonth","text":"<p>\u8fd4\u56de\u67d0\u4e2a\u65e5\u671f\u5b57\u7b26\u4e32\u7684 ISO \u683c\u5f0f\u7684\u6708\u4efd</p> <pre><code>dateutils.isomonth(\"2012-1-2\") # 2012-01\n</code></pre>"},{"location":"python/dateutils/#quarter_from_yq","title":"quarter_from_yq","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u5b63\u5ea6\u5bf9\u8c61\uff0c\u53c2\u6570\u5305\u542b\u5e74\u4efd\uff0c\u5b63\u5ea6\u3002</p> <pre><code>q = dateutils.quarter_from_yq(2022, 3) # &lt;DateQuarter-2022,3Q&gt;\n</code></pre>"},{"location":"python/dateutils/#quarter_from_ym","title":"quarter_from_ym","text":"<p>\u8fd4\u56de\u4e00\u4e2a\u5b63\u5ea6\u5bf9\u8c61\uff0c \u53c2\u6570\u5305\u542b\u5e74\u4efd\uff0c \u6708\u4efd</p> <pre><code>q = dateutils.quarter_from_ym(2022, 3) # &lt;DateQuarter-2022,3Q&gt;\n</code></pre>"},{"location":"python/dateutils/#to_quarter","title":"to_quarter","text":"<p>\u8fd4\u56de\u67d0\u4e2a\u65e5\u671f\u5b57\u7b26\u4e32\u5bf9\u5e94\u7684\u5b63\u5ea6(DateQuarter\u5bf9\u8c61)</p> <pre><code>time_str = \"2022-07-17\"\nq = dateutils.to_quarter(time_str) # DateQuarter obj: &lt;DateQuarter-2022,3Q&gt;\n</code></pre>"},{"location":"python/dateutils/#quarters_within","title":"quarters_within","text":"<p>\u8fd4\u56de\u5f00\u59cb\u65e5\u671f\uff0c\u7ed3\u675f\u65e5\u671f\u4e4b\u95f4\u7684\u5b63\u5ea6\uff0c \u8fd4\u56de\u4e00\u4e2a\u751f\u6210\u5668, \u91cc\u9762\u4f1a\u4ea7\u751fDateQuarter \u5bf9\u8c61\uff0c\u5305\u542b\u53c2\u6570 include_last \u662f\u5426\u5305\u542b\u6700\u540e\u4e00\u4e2a\u5b63\u5ea6\uff0c \u9ed8\u8ba4\u4e3a False</p> <pre><code>qs = dateutils.quarters_within(\"2021-03-28\", \"2022-07-17\", include_last=True) # \u751f\u6210\u5668\nlist(qs) # [&lt;DateQuarter-2021,1Q&gt;, &lt;DateQuarter-2021,2Q&gt;,...., &lt;DateQuarter-2022,3Q&gt;]\n</code></pre>"},{"location":"python/dateutils/#_2","title":"\u5b63\u5ea6\u64cd\u4f5c","text":"<p>\u5b63\u5ea6\u5bf9\u8c61\u5305\u542b\u5e74\uff0c\u6708\u7b49\u5c5e\u6027\uff0c \u5e76\u4e14\u53ef\u4ee5\u8fdb\u884c\u8fd0\u7b97</p> <pre><code>q = dateutils.quarter_from_yq(2022, 3)\n# \u83b7\u53d6\u5e74\u4efd\uff0c \u5b63\u5ea6, \u5f00\u59cb\u7ed3\u675f\u65e5\u671f\u7b49\nq.year # 2022\nq.quarter # 3\n\nq.start_date # 2022-07-01\nq.end_date # 2022-09-30\n\n# \u65e5\u671f\u904d\u5386\nq.days()  # \u751f\u6210\u5668\u5bf9\u8c61\uff0c \u91cc\u9762\u5305\u542b\u8be5\u5b63\u5ea6\u6240\u6709\u65e5\u671f\nlist(q.days()) # [datetime.date(2022, 7, 1), datetime.date(2022, 7, 2),....., datetime.date(2022, 9, 30)]\n\n# \u5b63\u5ea6\u8fd0\u7b97\nq + 10 # &lt;DateQuarter-2025,1Q&gt; 2025\u5e74\u7b2c\u4e00\u5b63\u5ea6\nq1 = dateutils.quater_from_yq(2021, 1) # &lt;DateQuarter-2021,1Q&gt;\nq - q1 # 6\nq &lt; q1 # False\n\"2022-6-28\" in q # False\n\"2022-8-28\" in q # True\n</code></pre>"},{"location":"python/dateutils/#_3","title":"\u65f6\u95f4\u5904\u7406\u4e3e\u4f8b","text":"<p>\u901a\u8fc7dateutils\u83b7\u53d6\u7684\u65e5\u671f\u4fe1\u606f\uff0c\u53ef\u4ee5\u5f53\u4f5c\u53c2\u6570\u518d\u6b21\u4f20\u9012\u5230dateutils\u7684\u5904\u7406\u51fd\u6570\u4e2d\u53bb</p> <pre><code>dt_now = dateutils.now()  # 2022-02-07 09:49:14\n# 1. \u83b7\u53d610\u5929\u540e\u7684\u65f6\u95f4\ndt_10_days = dateutils.dateadd(dt_now, 10) # 2022-02-17 09:49:14\n# 2. \u83b7\u53d610\u5929\u540e\u7684\u6708\u4efd\ndt_month_10_days = dateutils.month(dt_10_days) # 2\n# 3. \u83b7\u53d6\u65f6\u95f4\u5dee\uff0c\u5929\u6570\u5dee\ndt_10_days_before = dateutils.dateadd(dt_now, -10)\ndate_df = dateutils.datediff(dt_10_days_before, dt_10_days, unit=\"D\") # 20\n\n# 4. \u5904\u7406\u6709\u65f6\u533a\u7684\u65f6\u95f4\u5b57\u7b26\u4e32\ntime_str = \"2021-07-17T08:15:41.106+00:00\"\ntime_day = dateutils.day(time_str) # 17\ntime_month = dateutils.month(time_str) # 7\ntime_year = dateutils.year(time_str) # 2021\ntime_hour = dateutils.hour(time_str) # 16\uff0c\u56e0\u4e3a\u5317\u4eac\u65f6\u95f4\u6bd4 UTC \u65f6\u95f4\u591a 8 \u5c0f\u65f6\ntime_date = dateuitls.date(time_year, time_month, time_day) # 2021-07-17\n</code></pre> <p>\u6ce8\u610f\uff0cSQL \u67e5\u8be2\u63a5\u53e3</p> <ul> <li>\u5bf9\u65e5\u671f\u5217\u7c7b\u578b\u8fd4\u56de\u7684\u662f ISO \u683c\u5f0f\u7684\u670d\u52a1\u5668\u6240\u5728\u65f6\u533a\u7684\u65f6\u95f4\u5b57\u7b26\u4e32\uff0c \u6bd4\u5982 <code>2021-07-17T00:00:00+08:00</code></li> <li>\u5bf9\u521b\u5efa\u65f6\u95f4\u5217\u548c\u6700\u540e\u4fee\u6539\u65f6\u95f4\u5217\u8fd4\u56de\u7684\u662f ISO \u683c\u5f0f\u7684 UTC \u65f6\u533a\u7684\u65f6\u95f4\u5b57\u7b26\u4e32\u3002\u6bd4\u5982 <code>2021-07-17T08:15:41+00:00</code></li> </ul> <p>\u4e24\u79cd\u7c7b\u578b\u7684\u65f6\u95f4\u90fd\u53ef\u4ee5\u901a\u8fc7 Python \u6807\u51c6\u5e93\u4e2d\u7684 datetime \u6a21\u5757\u6765\u5904\u7406\u3002</p>"},{"location":"python/files/","title":"Files","text":"<p>\u6587\u4ef6\u64cd\u4f5c\u5305\u62ec\u6587\u4ef6\u7684\u4e0b\u8f7d\u548c\u4e0a\u4f20\uff0c\u5176\u5206\u522b\u90fd\u6709\u4e24\u79cd\u65b9\u5f0f\u7684 API \u8c03\u7528\uff0c\u4e00\u79cd\u65b9\u5f0f\u662f\u4fbf\u6377\u65b9\u5f0f\uff0c\u800c\u53e6\u4e00\u79cd\u65b9\u5f0f\u662f\u5206\u6b65\u65b9\u5f0f\u5373\u5c06\u4e0b\u8f7d/\u4e0a\u4f20\u7684\u8fc7\u7a0b\uff1a 1. \u83b7\u53d6\u94fe\u63a5\uff0c 2. \u8bf7\u6c42\u8be5\u94fe\u63a5\u8fdb\u884c\u4e0b\u8f7d/\u4e0a\u4f20\uff0c \u8fdb\u884c\u62c6\u5206\uff0c\u9002\u7528\u4e8e\u590d\u6742\u7684\u573a\u666f\uff0c\u6bd4\u5982\u6587\u4ef6\u6279\u91cf\u4e0b\u8f7d\u3001\u5927\u6587\u4ef6\u4e0a\u4f20\u7b49\u3002\u4e0b\u9762\u5206\u522b\u5bf9\u4ee5\u4e0a\u4e24\u79cd\u65b9\u5f0f API \u7684\u4f7f\u7528\u65b9\u6cd5\u8fdb\u884c\u8be6\u7ec6\u8bf4\u660e\u3002</p>"},{"location":"python/files/#_1","title":"\u6587\u4ef6\u4e0b\u8f7d","text":""},{"location":"python/files/#_2","title":"\u4fbf\u6377\u65b9\u5f0f","text":"<p>\u4e0b\u8f7d\u6587\u4ef6</p> <pre><code>base.download_file(file_url, save_path)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>file_url: \u6587\u4ef6\u7684 URL, \u53ef\u4ee5\u4ece\u6587\u4ef6\u5355\u5143\u683c\u4e2d\u83b7\u53d6</li> <li>save_path: \u6587\u4ef6\u4e0b\u8f7d\u540e\u4fdd\u5b58\u7684\u672c\u5730\u8def\u5f84</li> </ul> <p>\u4f8b\u5b50\u5982\u4e0b</p> <pre><code>file_url = \"https://dev.seafile.com/dtable-web/workspace/74/asset-preview/41cd05da-b29a-4428-bc31-bd66f4600817/files/2020-10/aur7e-jqc19.zip\"\nsave_path = \"/tmp/files/custom.zip\"\nbase.download_file(file_url, save_path)\n</code></pre>"},{"location":"python/files/#_3","title":"\u5206\u6b65\u65b9\u5f0f","text":"<p>1) \u901a\u8fc7\u6587\u4ef6\u7684 URL \u83b7\u53d6\u4e0b\u8f7d\u94fe\u63a5</p> <pre><code># \u5047\u5982\u60a8\u4eceBase\u7684\u6570\u636e\u4e2d\u83b7\u53d6\u5230\u4e00\u4e2a\u6587\u4ef6url\u4e3a\n# https://dev.seafile.com/dtable-web/workspace/74/asset-preview/41cd05da-b29a-4428-bc31-bd66f4600817/files/2020-10/aur7e-jqc19.zip\n# \u5219\u622a\u53d6\u94fe\u63a5\u540e\u534a\u90e8\u5206\u8c03\u7528api\ndownload_link = base.get_file_download_link('files/2020-10/aur7e-jqc19.zip')\n</code></pre> <p>2) \u4f7f\u7528\u4e0b\u8f7d\u94fe\u63a5\u83b7\u53d6\u6587\u4ef6\u5185\u5bb9</p> <pre><code>import requests\nresponse = requests.get(download_link)\n</code></pre>"},{"location":"python/files/#_4","title":"\u6587\u4ef6\u4e0a\u4f20","text":""},{"location":"python/files/#_5","title":"\u4fbf\u6377\u65b9\u5f0f","text":""},{"location":"python/files/#_6","title":"\u628a\u5185\u5b58\u4e2d\u7684\u5185\u5bb9\u4e0a\u4f20\u4e3a\u4e00\u4e2a\u6587\u4ef6","text":"<pre><code>base.upload_bytes_file(name, content, file_type='file', replace=False)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>name: \u4e0a\u4f20\u4e4b\u540e\u7684\u6587\u4ef6\u540d</li> <li>content: \u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u662f\u4e00\u4e2a bytes \u5bf9\u8c61</li> <li>file_type: image \u6216\u8005 file\uff0c\u82e5\u4e0d\u8bbe\u7f6e\u5219\u9ed8\u8ba4\u662f file</li> <li>replace: \u662f\u5426\u66ff\u6362\u540c\u540d\u6587\u4ef6\uff0c\u9ed8\u8ba4\u4e3a False</li> </ul> <p>\u8fd4\u56de\u5185\u5bb9\u4e3a\u6587\u4ef6\u7684\u5b57\u5178\u4fe1\u606f</p> <pre><code>{\n    'type': str, \u6587\u4ef6\u7c7b\u578b\n     'size': int, \u6587\u4ef6\u5927\u5c0f\n     'name': str, \u6587\u4ef6\u540d\n    'url': str, \u6587\u4ef6url\u8def\u5f84\n}\n</code></pre> <p>\u4f8b\u5b50 1, \u4e0a\u4f20\u7f51\u7edc\u4e0a\u7684\u4e00\u4e2a\u6587\u4ef6</p> <pre><code>import requests\nfile_url = 'http://www.baidu.com/xxx/xxx/xxx.txt'\nresponse = requests.get(file_url)\ninfo_dict = base.upload_bytes_file('my_uploaded_file.txt', response.content)\n</code></pre> <p>\u4f8b\u5b50 2, \u4e0a\u4f20\u672c\u5730\u7684\u56fe\u7247</p> <pre><code>local_img_file = '/Users/Desktop/a.png'\nwith open (local_img_file, 'rb') as f:\n  content = f.read()\ninfo_dict = base.upload_bytes_file('my_uploaded_img.png', content, file_type='image')\n</code></pre>"},{"location":"python/files/#_7","title":"\u7528\u6587\u4ef6\u8def\u5f84\u4e0a\u4f20\u672c\u5730\u7684\u4e00\u4e2a\u6587\u4ef6","text":"<pre><code>base.upload_local_file(file_path, name=None, file_type='file', replace=False)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>file_path: \u672c\u5730\u7684\u6587\u4ef6\u8def\u5f84</li> <li>name: \u4e0a\u4f20\u4e4b\u540e\u7684\u6587\u4ef6\u540d\uff0c \u82e5\u4e3a None \u5219\u9ed8\u8ba4\u7528\u672c\u5730\u6587\u4ef6\u540d</li> </ul> <p>\u5176\u4ed6\u53c2\u6570\u4ee5\u53ca\u8fd4\u56de\u503c\u683c\u5f0f\u540c upload_bytes_file</p> <p>\u4f8b\u5b50\uff1a</p> <pre><code>local_file = '/Users/Desktop/a.png'\ninfo_dict = base.upload_local_file(local_file, name='my_uploaded_img.png', file_type='image', replace=True)\n</code></pre>"},{"location":"python/files/#_8","title":"\u66f4\u65b0\u8868\u683c","text":"<p>\u4e0a\u9762\u7684\u6b65\u9aa4\u53ea\u662f\u4e0a\u4f20\u4e86\u6587\u4ef6\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5229\u7528\u4e0a\u8ff0\u7684\u8fd4\u56de\u5b57\u5178 info_dict\uff0c \u5c06\u6587\u4ef6/\u56fe\u7247\u66f4\u65b0\u5230\u8868\u683c\u4e2d\u6307\u5b9a\u6587\u4ef6/\u56fe\u7247\u5217\u4e2d</p> <p>\u4ee5\u66f4\u65b0\u5230 base \u5b50\u8868\u540d\u79f0\u4e3a \u201cTable1\u201d \u7684\u5b50\u8868\u4e2d\u4e3a\u4f8b</p> <pre><code># \u66f4\u65b0\u5230\u56fe\u7247\u5355\u5143\u683c, \u5217\u540d\u4e3a img_col\nimg_url = info_dict.get('url')\nrow['img_col'] = [img_url]\nbase.update_row('Table1', row['_id'], row)\n\n# \u66f4\u65b0\u6587\u4ef6\u5355\u5143\u683c, \u5217\u540d\u4e3a file_col\nrow['file_col'] = [info_dict]\nbase.update_row('Table1', row['_id'], row)\n\n# \u5982\u679c row \u4e2d\u5df2\u7ecf\u6709\u56fe\u7247/\u6587\u4ef6\uff0c \u5219\nrow['img_col'].append(img_url)\nbase.update_row('TableName', row['_id'], row)\nrow['file_col'].append(info_dict)\nbase.update_row('Table1', row['_id'], row)\n</code></pre>"},{"location":"python/files/#_9","title":"\u5206\u6b65\u65b9\u5f0f\u4e0a\u4f20\u6587\u4ef6","text":"<p>\u83b7\u53d6\u6587\u4ef6\u4e0a\u4f20\u94fe\u63a5\u4ee5\u53ca\u4e0a\u4f20\u8def\u5f84</p> <pre><code>base.get_file_upload_link()\n</code></pre> <p>\u8fd4\u56de\u4e00\u4e2a\u5b57\u5178\u5982</p> <pre><code>{\n  \"parent_path\": \"/asset/3a9d8266-78.....\",     \n  \"upload_link\": \"http://..../upload-api/ea44c4f4...../\"\n}\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>upload_link: \u4e0a\u4f20\u94fe\u63a5</li> <li>parent_path: \u670d\u52a1\u5668\u5206\u914d\u7684\u76f8\u5bf9\u76ee\u5f55\uff0c\u4e0a\u4f20\u6587\u4ef6\u65f6\u9700\u8981\u4f7f\u7528\u8be5\u8def\u5f84</li> </ul> <p>\u4ee5\u5c06\u672c\u5730 /User/Desktop/file.txt \u6587\u4ef6\u4e0a\u4f20\u81f3\u670d\u52a1\u5668\u4e3a\u4f8b</p> <pre><code># \u83b7\u53d6\u6587\u4ef6\u4e0a\u4f20\u94fe\u63a5\u4ee5\u53ca\u670d\u52a1\u5668\u5206\u914d\u7684\u76f8\u5bf9\u76ee\u5f55\nupload_link_dict = base.get_file_upload_link()\nparent_dir = upload_link_dict['parent_path']\nupload_link = upload_link_dict['upload_link'] + '?ret-json=1'\n\n# \u5f80\u4e0a\u4f20\u94fe\u63a5\u4e2d\u4e0a\u4f20\u6587\u4ef6\nupload_file_name = \"file_uploaded.txt\" # \u4e0a\u4f20\u4e4b\u540e\u7684\u6587\u4ef6\u540d\nreplace = 1 # \u82e5\u4e0a\u4f20\u540c\u540d\u6587\u4ef6\u5219\u66ff\u6362\nresponse = requests.post(upload_link, data={\n    'parent_dir': parent_dir,\n    'replace': 1 if replace else 0  # \u5982\u679c\u4e0a\u4f20\u8fc7\u540c\u540d\u6587\u4ef6\u662f\u5426\u8981\u66ff\u6362\n}, files={\n    'file': (upload_file_name, open('/User/Desktop/file.txt', 'rb'))  # \u8981\u4e0a\u4f20\u7684\u6587\u4ef6\n})\n</code></pre>"},{"location":"python/files/#_10","title":"\u81ea\u5b9a\u4e49\u76ee\u5f55\u64cd\u4f5c","text":"<p>\u9664\u4e86 Base \u8868\u683c\u4e2d\u7684\u9644\u4ef6\u7684\u4e0a\u4f20\u548c\u4e0b\u8f7d\u5916\uff0c \u4e00\u4e2a Base \u4e2d\u6709\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u6587\u4ef6\u7cfb\u7edf\u53eb\u505a \u81ea\u5b9a\u4e49\u76ee\u5f55\uff0c \u901a\u8fc7 Base \u7684\u6587\u4ef6\u7ba1\u7406\u529f\u80fd\u6a21\u5757\u6253\u5f00\u3002 \u4ee5\u4e0b\u5b9a\u4e49\u4e86\u4e00\u4e9b\u7528\u4e8e\u64cd\u4f5c\u8be5\u81ea\u5b9a\u4e49\u76ee\u5f55\u7684 API\u3002</p>"},{"location":"python/files/#_11","title":"\u5217\u51fa\u6587\u4ef6\u5939\u4e2d\u7684\u6587\u4ef6","text":"<pre><code>base.list_custom_assets(path)\n</code></pre>"},{"location":"python/files/#_12","title":"\u4f8b\u5b50","text":"<pre><code>folder_dir = \"/Main/photos\"\n\nbase.list_custom_assets(folder_dir)\n# \u8fd4\u56de\u7684\u4e00\u4e2a\u5b57\u5178\uff0c \u5305\u62ec dir\uff0c\u548c file \u4e24\u4e2a\u5b57\u6bb5\uff0c dir \u8868\u793a\u76ee\u5f55\uff0c file \u8868\u793a\u6587\u4ef6\n{\n  \"dir\": [{'name': \"MyDir\"}, ...]\n  \"file\":[{'name': \"sky.png\"}, ....]\n}\n</code></pre>"},{"location":"python/files/#_13","title":"\u83b7\u53d6\u6587\u4ef6\u4fe1\u606f","text":"<p>\u8fd4\u56de\u7684\u4fe1\u606f\u4e0e\u8868\u683c\u6587\u4ef6\u5217\u5b58\u50a8\u7684\u4fe1\u606f\u6709\u76f8\u540c\u7684\u6570\u636e\u7ed3\u6784\uff0c \u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u5c06\u8be5\u4fe1\u606f\u66f4\u65b0\u5230\u8868\u683c\u7684\u6587\u4ef6\u5217</p> <pre><code>base.get_custom_file_info(path, name)\n</code></pre>"},{"location":"python/files/#_14","title":"\u4f8b\u5b50","text":"<pre><code>folder_dir = \"/Main/\"\nfile_name = \"sky.png\"\ninfo_dict = base.get_custom_file_info(path, name) # \u83b7\u53d6\u4fe1\u606f\nrow_id = \"xxxx\"\nfile_col_name = \"File\"\n# \u66f4\u65b0\u6587\u4ef6\u5355\u5143\u683c\nbase.update_row('Table1', row_id, {\"File\": [info_dict]})\n</code></pre>"},{"location":"python/files/#_15","title":"\u4e0b\u8f7d\u6587\u4ef6\u5230\u672c\u5730","text":"<pre><code>base.download_custom_file(path, save_path)\n</code></pre> <ul> <li>path: \u81ea\u5b9a\u4e49\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u8def\u5f84</li> <li>save_path:  \u6587\u4ef6\u4fdd\u5b58\u7684\u672c\u5730\u8def\u5f84</li> </ul>"},{"location":"python/files/#_16","title":"\u4f8b\u5b50","text":"<pre><code>custom_file_path = \"/Main/sky.png\"\nlocal_path = \"/Users/Desktop/sky.png\"\nbase.download_custom_file(custom_file_path, local_path)\n</code></pre>"},{"location":"python/files/#_17","title":"\u4e0a\u4f20\u672c\u5730\u6587\u4ef6\u5230\u6587\u4ef6\u5939","text":"<p>\u8fd4\u56de\u7684\u6587\u4ef6\u4fe1\u606f\u53ef\u4ee5\u76f4\u63a5\u66f4\u65b0\u5230\u8868\u683c\u7684\u9644\u4ef6\u5217</p> <pre><code>base.upload_local_file_to_custom_folder(self, local_path, custom_folder_path=None, name=None)\n</code></pre> <ul> <li>local_path: \u672c\u5730\u7684\u6587\u4ef6\u8def\u5f84</li> <li>custom_folder_path: \u81ea\u5b9a\u4e49\u76ee\u5f55\u7684\u8def\u5f84\uff0c \u9ed8\u8ba4\u4e3a \u2018/\u2019</li> <li>name: \u81ea\u5b9a\u4e49\u76ee\u5f55\u4e2d\u4fdd\u5b58\u7684\u6587\u4ef6\u540d\uff0c \u9ed8\u8ba4\u4e0e\u5728\u672c\u5730\u7684\u6587\u4ef6\u540d\u4e00\u81f4</li> </ul>"},{"location":"python/files/#_18","title":"\u4f8b\u5b50","text":"<pre><code>local_path = \"/Users/Desktop/sky.png\"\ncustom_path = \"/Main/\"\n\ninfo_dict = base.upload_local_file_to_custom_folder(local_path\uff0c custom_path)\nrow_id = \"xxxx\"\nfile_col_name = \"File\"\n# \u66f4\u65b0\u6587\u4ef6\u5355\u5143\u683c\nbase.update_row('Table1', row_id, {\"File\": [info_dict]})\n</code></pre>"},{"location":"python/libs/","title":"\u4e91\u7aef\u73af\u5883\u4e0b\u652f\u6301\u7684\u5e93\u5217\u8868","text":"<p>\u5728\u4e91\u7aef\u73af\u5883\u4e0b\uff0cPython \u811a\u672c\u5b9e\u9645\u4e0a\u662f\u5728\u4e00\u4e2a Docker \u5bb9\u5668\u73af\u5883\u4e0b\u8fd0\u884c\u3002\u5bb9\u5668\u73af\u5883\u9ed8\u8ba4\u5b89\u88c5\u4e86\u4e00\u4e9b Python \u5e93\uff0c\u8fd9\u4e9b\u5e93\u53ef\u4ee5\u5728\u811a\u672c\u4e2d\u5bfc\u5165\u3002\u5982\u679c\u4f60\u9700\u8981\u7528\u5230\u5176\u4ed6\u7684\u5e93\uff0c\u9700\u8981\u548c\u6211\u4eec\u8054\u7cfb\uff0c\u6216\u8005\u4f60\u7684\u811a\u672c\u53ea\u80fd\u5728\u4f60\u7684\u672c\u5730\u8fd0\u884c\u3002</p>"},{"location":"python/libs/#python-3","title":"Python 3 \u6807\u51c6\u5e93","text":"<p>\u4e91\u7aef\u73af\u5883\u73b0\u5728\u4f7f\u7528\u7684\u662f Python 3.7, \u652f\u6301\u5bfc\u5165 Python \u6807\u51c6\u5e93\u4e2d\u7684\u6a21\u5757\u3002</p>"},{"location":"python/libs/#_2","title":"\u7b2c\u4e09\u65b9\u5e93","text":"<p>\u5982\u4e0b\u6a21\u5757\u53ef\u4f9b\u4f7f\u7528</p> <ul> <li>SeaTable API \u5e93, seatable-api</li> <li>\u65e5\u671f/\u65f6\u95f4\u8fd0\u7b97\u7684\u5de5\u5177\u5e93, dateutils</li> <li>http \u8bf7\u6c42\u5e93, requests</li> <li>OpenSSL \u5e93, pyOpenSSL</li> <li>Pillow \u5e93, Pillow</li> <li>Barcode \u5e93, python-barcode</li> <li>Pandas \u5e93, pandas</li> <li>Numpy \u5e93, numpy</li> </ul>"},{"location":"python/links/","title":"Links","text":""},{"location":"python/links/#get-linked-records","title":"Get linked records","text":"<p>\u83b7\u53d6\u88ab\u94fe\u63a5\u7684\u884c\u7684\u4fe1\u606f\u3002\u53ef\u4ee5\u4e00\u6b21\u67e5\u8be2\u591a\u4e2a\u884c\u7684\u88ab\u94fe\u63a5\u884c\u7684\u4fe1\u606f\u3002</p> <pre><code>base.get_linked_records(table_id, link_column_key, rows)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_id: \u5b50\u8868\u7684 id</li> <li>link_column_key: \u94fe\u63a5\u5217\u7684 key (\u975e link_id )</li> <li>rows: \u9700\u8981\u67e5\u627e\u94fe\u63a5\u4fe1\u606f\u7684\u884c\u7684\u5217\u8868\uff0c\u6bcf\u4e00\u5217\u8868\u9879\u5305\u542b\u4e09\u4e2a\u53c2\u6570 row_id, offset (\u67e5\u627e\u7684\u504f\u79fb\u91cf, \u9ed8\u8ba4\u4e3a0)\uff0c limit (\u67e5\u627e\u7684\u6570\u91cf\uff0c \u9ed8\u8ba4\u4e3a10)</li> </ul>"},{"location":"python/links/#_1","title":"\u4f8b\u5b50","text":"<pre><code>base.get_linked_records('0000', '89o4', rows=[\n        {'row_id': 'FzNqJxVUT8KrRjewBkPp8Q', 'limit': 2, 'offset': 0},\n        {'row_id': 'Jmnrkn6TQdyRg1KmOM4zZg', 'limit': 20}\n    ])\n\n# \u8fd4\u56de\u7684\u6570\u636e\u7ed3\u6784, \u5305\u542b\u88ab\u94fe\u63a5\u7684\u884c\u7684 ID \u548c\u663e\u793a\u503c\u3002\u6bcf\u4e2a\u884c\u6240\u8fde\u63a5\u7684\u884c\uff0c\u6309\u7167\u88ab\u94fe\u63a5\u7684\u884c\u7684\u521b\u5efa\u65f6\u95f4\u987a\u5e8f\u4ee5\u6570\u7ec4\u5f62\u5f0f\u8fd4\u56de\u3002\n{\n    'FzNqJxVUT8KrRjewBkPp8Q': [\n        {'row_id': 'LocPgVvsRm6bmnzjFDP9bA', 'display_value': '1'},                            \n        {'row_id': 'OA6x7CYoRuyc2pT52Znfmw', 'display_value': '3'},\n    ...\n    ],\n    'Jmnrkn6TQdyRg1KmOM4zZg': [\n        {'row_id': 'LocPgVvsRm6bmnzjFDP9bA', 'display_value': '1'},     \n        {'row_id': 'OA6x7CYoRuyc2pT52Znfmw', 'display_value': '3'},\n         ...\n    ]\n}\n</code></pre>"},{"location":"python/links/#add-link","title":"Add link","text":"<p>\u6dfb\u52a0\u94fe\u63a5\uff0c\u94fe\u63a5\u5176\u4ed6\u8868\u8bb0\u5f55</p> <pre><code>base.add_link(link_id, table_name, other_table_name, row_id, other_row_id)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>link_id: \u94fe\u63a5\u5217 data \u5c5e\u6027\u4e0b\u7684 link_id (\u4f60\u53ef\u4ee5\u83b7\u53d6 base \u7684 metadata\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u5217\uff0c\u7136\u540e\u627e\u4e00\u4e0b data \u5b57\u6bb5\u4e0b\u7684 link_id \u5b57\u6bb5, \u6216\u8005\u901a\u8fc7\u4e0b\u65b9\u7684 get_column_link_id \u51fd\u6570\u83b7\u53d6\u3002)</li> <li>table_name: \u94fe\u63a5\u8868\u7684\u540d\u5b57\u6216 id</li> <li>other_table_name: \u88ab\u94fe\u63a5\u8868\u7684\u540d\u5b57\u6216 id</li> <li>row_id: \u94fe\u63a5\u884c id</li> <li>other_row_id: \u88ab\u94fe\u63a5\u884c\u7684 id</li> </ul>"},{"location":"python/links/#_2","title":"\u4f8b\u5b50","text":"<pre><code>base.add_link('5WeC', 'real-img-files', 'contact', 'CGtoJB1oQM60RiKT-c5J-g', 'PALm2wPKTCy-jdJNv_UWaQ')\n</code></pre>"},{"location":"python/links/#update-link","title":"Update link","text":"<p>\u66f4\u65b0\u94fe\u63a5\u4fe1\u606f</p> <pre><code>update_link(self, link_id, table_name, other_table_name, row_id, other_rows_ids)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>link_id: \u94fe\u63a5\u5217 data \u5c5e\u6027\u4e0b\u7684 link_id </li> <li>table_name: \u94fe\u63a5\u8868\u7684\u540d\u5b57\u6216 id</li> <li>other_table_name: \u88ab\u94fe\u63a5\u8868\u7684\u540d\u5b57\u6216 id</li> <li>row_id: \u94fe\u63a5\u884c id</li> <li>other_rows_ids: \u88ab\u94fe\u63a5\u884c\u7684 id \u5217\u8868</li> </ul>"},{"location":"python/links/#_3","title":"\u4f8b\u5b50","text":"<pre><code>base.update_link(\n        link_id='r4IJ',\n        table_name='Table1',\n        other_table_name='Table2',\n        row_id='BXhEm9ucTNu3FjupIk7Xug',\n        other_rows_ids=[\n          'exkb56fAT66j8R0w6wD9Qg',\n          'DjHjwmlRRB6WgU9uPnrWeA'\n        ]\n    )\n</code></pre>"},{"location":"python/links/#batch-update-links","title":"Batch update links","text":"<p>\u6279\u91cf\u66f4\u65b0\u94fe\u63a5\u4fe1\u606f</p> <pre><code>base.batch_update_links(link_id, table_name, other_table_name, row_id_list, other_rows_ids_map)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u94fe\u63a5\u8868\u7684\u540d\u5b57\u6216 id</li> <li>other_table_name: \u88ab\u94fe\u63a5\u8868\u7684\u540d\u5b57\u6216 id</li> </ul>"},{"location":"python/links/#_4","title":"\u4f8b\u5b50","text":"<pre><code>link_id = \"WaW5\"\ntable_name =\"Table1\"\nother_table_name = \"Table2\"\nrow_id_list = [\"fRLglslWQYSGmkU7o6KyHw\",\"eSQe9OpPQxih8A9zPXdMVA\",\"FseN8ygVTzq1CHDqI4NjjQ\"]\nother_rows_ids_map = {\n        \"FseN8ygVTzq1CHDqI4NjjQ\":[\"OcCE8aX8T7a4dvJr-qNh3g\",\"JckTyhN0TeS8yvH8D3EN7g\"],\n        \"eSQe9OpPQxih8A9zPXdMVA\":[\"cWHbzQiTR8uHHzH_gVSKIg\",\"X56gE7BrRF-i61YlE4oTcw\"],\n        \"fRLglslWQYSGmkU7o6KyHw\":[\"MdfUQiWcTL--uMlrGtqqgw\",\"E7Sh3FboSPmfBlDsrj_Fhg\",\"UcZ7w9wDT-uVq4Ohtwgy9w\"]\n}\n\nbase.batch_update_links(link_id, table_name, other_table_name, row_id_list, other_rows_ids_map)\n</code></pre>"},{"location":"python/links/#remove-link","title":"Remove link","text":"<p>\u79fb\u9664\u67d0\u4e2a\u94fe\u63a5</p> <pre><code>base.remove_link(link_id, table_name, other_table_name, row_id, other_row_id)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u94fe\u63a5\u8868\u7684\u540d\u5b57\u6216 id</li> <li>other_table_name: \u88ab\u94fe\u63a5\u8868\u7684\u540d\u5b57\u6216 id</li> </ul>"},{"location":"python/links/#_5","title":"\u4f8b\u5b50","text":"<pre><code>base.remove_link('5WeC', 'real-img-files', 'contact', 'CGtoJB1oQM60RiKT-c5J-g', 'PALm2wPKTCy-jdJNv_UWaQ')\n</code></pre>"},{"location":"python/links/#get-link-id","title":"Get link id","text":"<p>\u901a\u8fc7\u5217\u540d\u6765\u83b7\u53d6\u94fe\u63a5\u7684id</p> <pre><code>base.get_column_link_id(table_name, column_name)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</li> </ul>"},{"location":"python/links/#_6","title":"\u4f8b\u5b50","text":"<pre><code>base.get_column_link_id('Table1', '\u8bb0\u5f55') # \u8fd4\u56de\u94fe\u63a5\u7684id\uff0c\u5982\u2018aHL2\u2019\n</code></pre>"},{"location":"python/message/","title":"Message","text":""},{"location":"python/message/#_1","title":"\u5fae\u4fe1\u53d1\u9001","text":"<pre><code>base.send_wechat_msg(account_name, msg)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>account_name\uff1a \u7b2c\u4e09\u65b9\u8d26\u6237\u540d\u79f0</li> <li>msg\uff1a \u6d88\u606f\u4e3b\u4f53</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>base.send_wechat_msg(\"My wechat group\", \"\u60a8\u597d\uff0c \u6211\u662f\u7ba1\u7406\u5458\uff0c \u8bf7\u591a\u5173\u7167\uff01\")\n</code></pre>"},{"location":"python/message/#_2","title":"\u90ae\u4ef6\u53d1\u9001","text":"<pre><code>base.send_email(account_name, msg, **kwargs)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>account_name: \u7b2c\u4e09\u65b9\u8d26\u6237\u540d\u79f0</li> <li> <p>msg\uff1a\u6d88\u606f\u4e3b\u4f53</p> </li> <li> <p>kwargs: \u5176\u4ed6\u53c2\u6570\uff1a</p> <ul> <li>send_to (\u5fc5\u586b)\uff1a\u63a5\u6536\u65b9\u7684\u90ae\u4ef6\uff0c\u53ef\u4ee5\u662f\u5217\u8868\u5305\u542b\u591a\u4e2a\u90ae\u4ef6\u3002</li> <li>subject  (\u5fc5\u586b)\uff1a \u90ae\u4ef6\u4e3b\u9898</li> <li>from\uff1a\u53d1\u4ef6\u4eba, \u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u90ae\u7bb1\u670d\u52a1\u5668\u7684 host_user</li> <li>copy_to: \u6284\u9001\u65b9\u90ae\u4ef6\uff0c \u53ef\u4ee5\u662f\u5217\u8868\u5305\u542b\u591a\u4e2a\u90ae\u4ef6</li> <li>reply_to: \u56de\u590d\u90ae\u4ef6</li> <li>quit_after_send: True \u6216\u8005 False\uff0c \u9ed8\u8ba4\u662f False\u3002 \u53d1\u9001\u5b8c\u6210\u4e4b\u540e\u662f\u5426\u5173\u95ed\u4e0e\u670d\u52a1\u5668\u7684\u94fe\u63a5\u3002</li> </ul> </li> </ul> <p>\u4f8b\u5b50</p> <pre><code>base.send_email(\n    \"My email account\",\n    \"\u60a8\u597d\uff0c\u8bf7\u67e5\u6536\u90ae\u4ef6\",\n  subject=\"Test\",\n  send_to=['350178982@qq.com',\"r350178982@126.com\"],\n  copy_to='jiwei_ran@sina.com'\n)\n</code></pre>"},{"location":"python/notifications/","title":"Notifications","text":""},{"location":"python/notifications/#send-toast-notifications","title":"Send toast notifications","text":"<p>\u7ed9\u7528\u6237\u53d1\u51fa\u4e00\u4e2a\u5f39\u51fa\u7684\u901a\u77e5</p> <pre><code>base.send_toast_notification(username, msg, toast_type='success')\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>username: \u7528\u6237\u7684 ID</li> <li>msg: \u901a\u77e5\u6d88\u606f\u5185\u5bb9</li> <li>toast_type: \u901a\u77e5\u7684\u7c7b\u578b\uff0c\u652f\u6301 \"success\", \"warning\", \"danger\"</li> </ul>"},{"location":"python/notifications/#_1","title":"\u4f8b\u5b50","text":"<pre><code>base.send_toast_notification(\n\"aea9e807bcfd4f3481d60294df74f6ee@auth.local\",\n  \"error request\",\n  \"danger\"\n)\n</code></pre>"},{"location":"python/query/","title":"Query with SQL","text":""},{"location":"python/query/#query","title":"Query","text":"<p>\u4f7f\u7528 sql \u8bed\u53e5\u67e5\u8be2\u4e00\u4e2a base</p> <pre><code>base.query(sql)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>sql: \u8981\u6267\u884c\u7684 SQL \u8bed\u53e5</li> </ul> <p>\u6ce8\u610f: \u9ed8\u8ba4\u8fd4\u56de\u6700\u591a 100 \u6761\u7ed3\u679c\uff0c\u5982\u679c\u9700\u8981\u66f4\u591a\u7ed3\u679c\uff0c\u8bf7\u5728 sql \u8bed\u53e5\u4e2d\u52a0\u5165 limit \u53c2\u6570</p> <p>\u53ef\u80fd\u7684\u5f02\u5e38\u5305\u62ec</p> <ul> <li>ValueError: sql can not be empty</li> <li>ConnectionError: network error</li> <li>Exception: no such table</li> <li>Exception: no such column</li> <li>Exception: columns in group by should match columns in select</li> </ul>"},{"location":"python/query/#_1","title":"\u4f8b\u5b50","text":""},{"location":"python/query/#_2","title":"\u57fa\u7840\u67e5\u8be2","text":"<pre><code>base.query('select name, price, year from Bill')\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {'_id': 'PzBiZklNTGiGJS-4c0_VLw', 'name': 'Bob', 'price': 300, 'year': 2019},\n    {'_id': 'Ep7odyv1QC2vDQR2raMvSA', 'name': 'Bob', 'price': 300, 'year': 2021},\n    {'_id': 'f1x3X_8uTtSDUe9D60VlYQ', 'name': 'Tom', 'price': 100, 'year': 2019},\n    {'_id': 'NxeaB5pDRFKOItUs_Ugxug', 'name': 'Tom', 'price': 100, 'year': 2020},\n    {'_id': 'W0BrjGQpSES9nfSytvXgMA', 'name': 'Tom', 'price': 200, 'year': 2021},\n    {'_id': 'EvwCWtX3RmKYKHQO9w2kLg', 'name': 'Jane', 'price': 200, 'year': 2020},\n    {'_id': 'BTiIGSTgR06UhPLhejFctA', 'name': 'Jane', 'price': 200, 'year': 2021}\n]\n</code></pre>"},{"location":"python/query/#where","title":"WHERE","text":"<pre><code>base.query('select name, price from Bill where year = 2021 ')\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {'_id': 'Ep7odyv1QC2vDQR2raMvSA', 'name': 'Bob', 'price': 300},\n    {'_id': 'W0BrjGQpSES9nfSytvXgMA', 'name': 'Tom', 'price': 200},\n    {'_id': 'BTiIGSTgR06UhPLhejFctA', 'name': 'Jane', 'price': 200}\n]\n</code></pre>"},{"location":"python/query/#order-by","title":"ORDER BY","text":"<pre><code>base.query('select name, price, year from Bill order by year')\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {'_id': 'PzBiZklNTGiGJS-4c0_VLw', 'name': 'Bob', 'price': 300, 'year': 2019},\n    {'_id': 'f1x3X_8uTtSDUe9D60VlYQ', 'name': 'Tom', 'price': 100, 'year': 2019},\n    {'_id': 'NxeaB5pDRFKOItUs_Ugxug', 'name': 'Tom', 'price': 100, 'year': 2020},\n    {'_id': 'EvwCWtX3RmKYKHQO9w2kLg', 'name': 'Jane', 'price': 200, 'year': 2020},\n    {'_id': 'Ep7odyv1QC2vDQR2raMvSA', 'name': 'Bob', 'price': 300, 'year': 2021},\n    {'_id': 'W0BrjGQpSES9nfSytvXgMA', 'name': 'Tom', 'price': 200, 'year': 2021},\n    {'_id': 'BTiIGSTgR06UhPLhejFctA', 'name': 'Jane', 'price': 200, 'year': 2021}\n]\n</code></pre>"},{"location":"python/query/#group-by","title":"GROUP BY","text":"<pre><code>base.query('select name, sum(price) from Bill group by name')\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {'SUM(price)': 600, 'name': 'Bob'},\n    {'SUM(price)': 400, 'name': 'Tom'},\n    {'SUM(price)': 400, 'name': 'Jane'}\n]\n</code></pre>"},{"location":"python/query/#distinct","title":"DISTINCT","text":"<pre><code>base.query('select distinct name from Bill')\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>[\n    {'_id': 'PzBiZklNTGiGJS-4c0_VLw', 'name': 'Bob'},\n    {'_id': 'f1x3X_8uTtSDUe9D60VlYQ', 'name': 'Tom'},\n    {'_id': 'EvwCWtX3RmKYKHQO9w2kLg', 'name': 'Jane'}\n]\n</code></pre>"},{"location":"python/rows/","title":"Row","text":"<p><code>seatable-api</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u64cd\u4f5c base \u4e2d\u884c\u7684\u65b9\u6cd5</p> <p>\u5927\u591a\u6570\u64cd\u4f5c\u65b9\u6cd5\u4e2d\u53c2\u6570\u4f7f\u7528\u5230\u7684\u540d\u79f0\u4ee5\u53ca\u6570\u636e\u7ed3\u6784\u63cf\u8ff0\u5982\u4e0b\uff1a</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0\u6216 id\uff0c \u5b57\u7b26\u4e32</li> <li>row_id: \u884c\u7684 id\uff0c \u5b57\u7b26\u4e32</li> <li>row_data: \u884c\u6570\u636e\uff0c \u5b57\u5178</li> <li>rows_data: \u591a\u884c\u6570\u636e\uff0c \u5305\u542b\u5b57\u5178\u7684\u5217\u8868</li> </ul>"},{"location":"python/rows/#_1","title":"\u4f8b\u5b50","text":"<pre><code>row_data = {\n    \"Name\": \"Ron\",\n    \"Age\": 20\n}\n\nrows_data = [{\n                'Name': 'Tom',\n                'Age': 18\n            }, {\n                'Name': '\u5c0f\u660e',\n                'Age': 33\n            }, ....\n]\n</code></pre>"},{"location":"python/rows/#list-rows","title":"List rows","text":"<p>\u83b7\u53d6\u8868\u683c\u7684\u884c</p> <pre><code>base.list_rows(table_name, view_name=None, start=None, limit=None)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0\u6216 id</li> <li>view_name: \u89c6\u56fe\u540d\u79f0\u6216 id\uff0c \u5982\u679c\u8bbe\u5b9a\uff0c \u4f1a\u8fd4\u56de\u6ee1\u8db3\u89c6\u56fe\u8bbe\u5b9a\u6761\u4ef6\u7684\u884c\u6570\u636e</li> <li>start: \u7d22\u5f15\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0c \u884c\u53f7</li> <li>limit: \u6570\u636e\u7684\u663e\u793a\u6570\u91cf\uff0c \u6700\u5927\u8fd4\u56de 1000 \u884c (\u5373\u4f7f\u8bbe\u5b9a\u503c\u8d85\u8fc7 1000 \u884c)</li> </ul> <p>\u4f7f\u7528 SQL \u67e5\u8be2 \u53ef\u4ee5\u8bbe\u5b9a\u66f4\u52a0\u7075\u6d3b\u7684\u8fc7\u6ee4\u6761\u4ef6\u68c0\u7d22\u5230\u66f4\u591a\u7684\u884c.</p>"},{"location":"python/rows/#_2","title":"\u4f8b\u5b50","text":"<pre><code>rows = base.list_rows('Table1')\nrows = base.list_rows('Table1', view_name='default', start=5, limit=20)\n</code></pre>"},{"location":"python/rows/#get-row","title":"Get row","text":"<p>\u83b7\u53d6\u8868\u683c\u7684\u67d0\u4e00\u884c</p> <pre><code>base.get_row(table_name, row_id)\n</code></pre>"},{"location":"python/rows/#_3","title":"\u4f8b\u5b50","text":"<pre><code>row = base.get_row('Table1', 'U_eTV7mDSmSd-K2P535Wzw')\n</code></pre>"},{"location":"python/rows/#append-row","title":"Append row","text":"<p>\u8ffd\u52a0\u884c</p> <pre><code>base.append_row(table_name, row_data, apply_default=False)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>apply_default:  \u662f\u5426\u4f7f\u7528\u8868\u683c\u5217\u4e2d\u8bbe\u7f6e\u7684\u9ed8\u8ba4\u503c\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3a True\uff0c\u90a3\u4e48\u8fd9\u4e00\u5217\u5728 row_data \u4e2d\u6ca1\u6709\u6307\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002\u9ed8\u8ba4\u4e3a False\u3002</li> </ul> <p>\u4f8b\u5b50</p> <pre><code>row_data = {\n    \"Name\": \"I am new Row\"\n}\n\nbase.append_row('Table1', row_data)\n</code></pre>"},{"location":"python/rows/#insert-row-deprecated","title":"Insert row (deprecated)","text":"<p>\u63d2\u5165\u884c\uff08seatable-api 2.7.0 \u7248\u672c\u4ee5\u540e\u5c06\u4e0d\u518d\u652f\u6301\u8be5\u65b9\u6cd5\uff09</p> <pre><code>base.insert_row(table_name, row_data, anchor_row_id, apply_default=False)\n</code></pre> <ul> <li>anchor_row_id: \u951a\u5b9a\u7684\u884c\u7684 id\uff0c\u5c06\u4f1a\u628a\u65b0\u884c\u63d2\u5165\u5230\u8fd9\u884c\u4e0b\u65b9</li> </ul>"},{"location":"python/rows/#_4","title":"\u4f8b\u5b50","text":"<pre><code>row_data = {\n    \"Name\": \"I am new Row\"\n}\n\nbase.insert_row('Table1', row_data, 'U_eTV7mDSmSd-K2P535Wzw', apply_default=True)\n</code></pre>"},{"location":"python/rows/#batch-append-rows","title":"Batch append rows","text":"<p>\u6279\u91cf\u8ffd\u52a0\u884c</p> <pre><code>base.batch_append_rows(table_name, rows_data, apply_default=False)\n</code></pre>"},{"location":"python/rows/#_5","title":"\u4f8b\u5b50","text":"<pre><code>rows_data = [{\n                'Name': 'test batch',\n                'content': 'Yes'\n            }, {\n                'Name': 'test batch',\n                'content': 'Yes'\n            }, {\n                'Name': 'test batch',\n                'content': 'Yes'\n            }]\nbase.batch_append_rows('Table6', rows_data)\n</code></pre>"},{"location":"python/rows/#update-row","title":"Update row","text":"<p>\u66f4\u65b0\u4e00\u884c</p> <pre><code>base.update_row(table_name, row_id, row_data)\n</code></pre>"},{"location":"python/rows/#_6","title":"\u4f8b\u5b50","text":"<pre><code>row_data = {\n    \"dcXS\": \"123\"\n}\nbase.update_row('Table1', 'U_eTV7mDSmSd-K2P535Wzw', row_data)\n</code></pre>"},{"location":"python/rows/#batch-update-rows","title":"Batch update rows","text":"<p>\u6279\u91cf\u66f4\u65b0\u884c</p> <pre><code>batch_update_rows(table_name, rows_data)\n</code></pre>"},{"location":"python/rows/#_7","title":"\u4f8b\u5b50","text":"<pre><code>updates_data = [\n        {\n            \"row_id\": \"fMmCFyoxT4GN5Y2Powbl0Q\",\n            \"row\": {\n                \"Name\": \"Ranjiwei\",\n                \"age\": \"36\"\n            }\n        },\n        {\n            \"row_id\": \"cF5JTE99Tae-VVx0BGT-3A\",\n            \"row\": {\n                \"Name\": \"Huitailang\",\n                \"age\": \"33\"\n            }\n        },\n        {\n            \"row_id\": \"WP-8rb5PSUaM-tZRmTOCPA\",\n            \"row\": {\n                \"Name\": \"Yufeng\",\n                \"age\": \"22\"\n            }\n        }\n    ]\nbase.batch_update_rows('Table1', rows_data=updates_data)\n</code></pre>"},{"location":"python/rows/#delete-row","title":"Delete row","text":"<p>\u5220\u9664\u4e00\u884c</p> <pre><code>base.delete_row(table_name, row_id)\n</code></pre>"},{"location":"python/rows/#_8","title":"\u4f8b\u5b50","text":"<pre><code>base.delete_row('Table1', 'U_eTV7mDSmSd-K2P535Wzw')\n</code></pre>"},{"location":"python/rows/#batch-delete-rows","title":"Batch delete rows","text":"<p>\u6279\u91cf\u5220\u9664\u884c</p> <pre><code>base.batch_delete_rows(table_name, row_ids)\n</code></pre>"},{"location":"python/rows/#_9","title":"\u4f8b\u5b50","text":"<pre><code>del_rows = rows[:3]\nrow_ids = [row['_id'] for row in del_rows]\nbase.batch_delete_rows('Table1', row_ids)\n</code></pre>"},{"location":"python/user/","title":"Users","text":""},{"location":"python/user/#get-a-user-info","title":"Get a user info","text":"<p>\u83b7\u53d6\u7528\u6237\u7684\u4fe1\u606f\uff0c \u901a\u8fc7\u7528\u6237\u7684 ID \u53ef\u4ee5\u8fd4\u56de\u7528\u6237\u5728 \u673a\u6784\u4e2d\u7684\u7f16\u53f7 (id_in_org) \u4ee5\u53ca\u59d3\u540d (name)</p> <pre><code>base.get_user_info(username)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>username: \u7528\u6237\u7684 ID</li> </ul>"},{"location":"python/user/#_1","title":"\u4f8b\u5b50","text":"<pre><code>base.get_user_info(\"aea9e807bcfd4f3481d60294df74f6ee@auth.local\")\n\n# \u8fd4\u56de\n# {\"id_in_org\": \"A0001\", \"name\": \"Tom\"}\n</code></pre>"},{"location":"python/views/","title":"Views","text":""},{"location":"python/views/#list-views","title":"List views","text":"<p>\u83b7\u53d6\u4e00\u4e2a\u5b50\u8868\u7684\u89c6\u56fe</p> <pre><code>base.list_views(table_name)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0</li> </ul>"},{"location":"python/views/#_1","title":"\u4f8b\u5b50","text":"<pre><code>base.list_views('Table1')\n</code></pre>"},{"location":"python/views/#get-a-view-by-name","title":"Get a view by name","text":"<p>\u901a\u8fc7\u540d\u79f0\u83b7\u53d6 \u89c6\u56fe</p> <pre><code>base.get_view_by_name(table_name, view_name)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0</li> <li>view_name\uff1a \u89c6\u56fe\u540d\u79f0</li> </ul>"},{"location":"python/views/#_2","title":"\u4f8b\u5b50","text":"<pre><code>base.get_view_by_name('Table1', 'MyView')\n</code></pre>"},{"location":"python/views/#add-view","title":"Add view","text":"<p>\u589e\u52a0\u89c6\u56fe</p> <pre><code>base.add_view(table_name, view_name)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0</li> <li>view_name\uff1a \u9700\u8981\u589e\u52a0\u7684\u89c6\u56fe\u540d\u79f0</li> </ul>"},{"location":"python/views/#_3","title":"\u4f8b\u5b50","text":"<pre><code>base.add_view('Table1', 'New view')\n</code></pre>"},{"location":"python/views/#rename-view","title":"Rename view","text":"<p>\u91cd\u547d\u540d\u4e00\u4e2a\u89c6\u56fe</p> <pre><code>base.rename_view(table_name, view_name, new_view_name)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0</li> <li>view_name\uff1a \u5f53\u524d\u89c6\u56fe\u540d\u79f0</li> <li>new_view_name\uff1a \u9700\u8981\u66f4\u65b0\u7684\u540d\u79f0</li> </ul>"},{"location":"python/views/#_4","title":"\u4f8b\u5b50","text":"<pre><code>base.rename_view('Table1', 'MyView', 'NewView')\n</code></pre>"},{"location":"python/views/#delete-view","title":"Delete view","text":"<p>\u5220\u9664\u4e00\u4e2a\u89c6\u56fe</p> <pre><code>base.delete_view(table_name, view_name)\n</code></pre> <p>\u5176\u4e2d</p> <ul> <li>table_name: \u5b50\u8868\u540d\u79f0</li> <li>view_name\uff1a\u9700\u8981\u5220\u9664\u7684\u89c6\u56fe\u7684\u540d\u79f0</li> </ul>"},{"location":"python/views/#_5","title":"\u4f8b\u5b50","text":"<pre><code>base.delete_view('Table1', 'MyView')\n</code></pre>"},{"location":"python/websocket/","title":"\u5b9e\u65f6\u83b7\u53d6\u6570\u636e\u66f4\u65b0\u901a\u77e5","text":"<p>\u5229\u7528 Websocket\uff0c\u4f60\u53ef\u4ee5\u50cf SeaTable \u7f51\u9875\u7aef\u4e00\u6837\u5b9e\u65f6\u83b7\u53d6 Base \u7684\u6570\u636e\u66f4\u65b0\u901a\u77e5\u3002</p>"},{"location":"python/websocket/#_2","title":"\u4f8b\u5b50","text":"<pre><code>from seatable_api import Base\n\nserver_url = 'https://cloud.seatable.cn'\napi_token = 'c3c75dca2c369849455a39f4436147639cf02b2d'\n\nbase = Base(api_token, server_url)\nbase.auth(with_socket_io=True)\n\nbase.socketIO.wait()\n</code></pre> <p>\u5f53 Base \u6709\u6570\u636e\u66f4\u65b0\u65f6\uff0c\u547d\u4ee4\u884c\u4e2d\u5c06\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9</p> <pre><code>2022-07-19 11:48:37.803956 [ SeaTable SocketIO connection established ]\n2022-07-19 11:48:39.953150 [ SeaTable SocketIO on UPDATE_DTABLE ]\n{\"op_type\":\"insert_row\",\"table_id\":\"0000\",\"row_id\":\"YFK9bD1XReSuQ7WP1YYjMA\",\"row_insert_position\":\"insert_below\",\"row_data\":{\"_id\":\"RngJuRa0SMGXyiA-SHDiAw\",\"_participants\":[],\"_creator\":\"seatable@seatable.com\",\"_ctime\":\"\",\"_last_modifier\":\"seatable@seatable.com\",\"_mtime\":\"\"},\"links_data\":{}}\n</code></pre>"},{"location":"python/websocket/#_3","title":"\u83b7\u53d6\u6570\u636e\u66f4\u65b0\uff0c\u81ea\u5b9a\u4e49\u540e\u7eed\u7684\u64cd\u4f5c","text":"<p>\u901a\u8fc7\u91cd\u5199 UPDATE_DTABLE \u4e8b\u4ef6\uff0c\u60a8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u540e\u7eed\u7684\u64cd\u4f5c</p>"},{"location":"python/websocket/#_4","title":"\u4f8b\u5b50","text":"<pre><code>import json\nfrom seatable_api import Base\nfrom seatable_api.constants import UPDATE_DTABLE\n\nserver_url = 'https://cloud.seatable.cn'\napi_token = 'c3c75dca2c369849455a39f4436147639cf02b2d'\n\ndef on_update(data, index, *args):\n    try:\n        operation = json.loads(data)\n        print(operation)\n        op_type = operation['op_type']\n        table_id = operation['table_id']\n        row_id = operation['row_id']\n        # ... do something\n    except Exception as e:\n        print(e)\n\nbase = Base(api_token, server_url)\nbase.auth(with_socket_io=True)\n\nbase.socketIO.on(UPDATE_DTABLE, on_update)\nbase.socketIO.wait()\n</code></pre>"},{"location":"python/workflow/","title":"Workflow","text":""},{"location":"python/workflow/#_1","title":"\u63d0\u4ea4\u5de5\u4f5c\u6d41\u4efb\u52a1","text":"<p>\u63d0\u4ea4\u4e00\u4e2a\u5de5\u4f5c\u6d41\u4efb\u52a1\uff0c\u53ef\u4ee5\u6307\u5b9a\u53d1\u8d77\u4eba\u3002</p>"},{"location":"python/workflow/#add-workflow-task-with-a-new-row","title":"Add workflow task with a new row","text":"<p>\u4f7f\u7528\u4e00\u4e2a\u65b0\u884c\uff0c\u63d0\u4ea4\u4e00\u4e2a\u5de5\u4f5c\u6d41\u4efb\u52a1</p> <pre><code>base.add_workflow_task(workflow_token, row_data, initiator=None, link_rows=None, new_linked_rows=None)\n\n# initiator: \u53d1\u8d77\u4eba\n# link_rows: \u5bf9\u5e94\u4e8e\u8868\u5355\u4e2d\u94fe\u63a5\u5217 \"\u94fe\u63a5\u5df2\u6709\u8bb0\u5f55\" \u529f\u80fd\uff0c\u7528\u4e8e\u94fe\u63a5\u5df2\u6709\u8bb0\u5f55\n# new_linked_rows: \u5bf9\u5e94\u4e8e\u8868\u5355\u4e2d\u94fe\u63a5\u5217 \u201c\u589e\u52a0\u65b0\u8bb0\u5f55\" \u529f\u80fd\uff0c\u7528\u4e8e\u5f80\u94fe\u63a5\u7684\u8868\u4e2d\u589e\u52a0\u65b0\u7684\u8bb0\u5f55\u9879\uff0c\u5e76\u5efa\u7acb\u94fe\u63a5\u5173\u7cfb\n</code></pre>"},{"location":"python/workflow/#_2","title":"\u4f8b\u5b50","text":"<pre><code>base.add_workflow_task(\"4d703526-bcd1-4a9c-a234-fe9671766672\", {\"name\": \"new workflow task\"})\n\n# \u6307\u5b9a\u53d1\u8d77\u4eba\nbase.add_workflow_task(\"4d703526-bcd1-4a9c-a234-fe9671766672\", {\"name\": \"new workflow task\"}, initiator='aa59ffc39fc8487e9e973507dc642e77@auth.local')\n\n# \u66f4\u65b0\u94fe\u63a5\u5217\nbase.add_workflow_task(\n    '4d703526-bcd1-4a9c-a234-fe9671766672',\n    {\"name\": \"new workflow task\"},\n    linked_rows=[{\n        \"link_id\": \"os6S\",\n        \"other_table_name\": \"Table2\",\n        \"row_ids\": [\"Kkk8lg_xSouJnIJ4BxRFQA\", \"BaSaENBQT-mKlGAqeAdiFA\"]\n    }],\n    new_linked_rows=[{\n        \"link_id\": \"os6S\",\n        \"other_table_name\": \"Table2\",\n        \"row_datas\": [\n            {\"name\": \"new link 1\"},\n            {\"name\": \"new link 2\"}\n        ]\n    }]\n)\n</code></pre>"},{"location":"python/workflow/#add-workflow-task-with-an-existed-row","title":"Add workflow task with an existed row","text":"<p>\u4f7f\u7528\u5df2\u5b58\u5728\u7684\u884c\u6dfb\u52a0\u5de5\u4f5c\u6d41\u4efb\u52a1</p> <pre><code>base.add_workflow_task_with_existed_row(workflow_token, row_id, initiator=None)\n</code></pre>"},{"location":"python/workflow/#_3","title":"\u4f8b\u5b50","text":"<pre><code>base.add_workflow_task_with_existed_row(\"4d703526-bcd1-4a9c-a234-fe9671766672\", \"TbxyQfDXTR6EQcyZ4OxB7w\")\n\nbase.add_workflow_task_with_existed_row(\"4d703526-bcd1-4a9c-a234-fe9671766672\", \"TbxyQfDXTR6EQcyZ4OxB7w\", initiator=\"aa59ffc39fc8487e9e973507dc642e77@auth.local\")\n</code></pre>"},{"location":"sql/function/","title":"SQL \u51fd\u6570\u53c2\u8003","text":"<p>\u60a8\u53ef\u4ee5\u5728SQL\u67e5\u8be2\u4e2d\u4f7f\u7528\u51fd\u6570\u3002</p>"},{"location":"sql/function/#sql_1","title":"SQL \u51fd\u6570","text":"<p>\u4f7f\u7528\u51fd\u6570\uff0c\u60a8\u53ef\u4ee5\u8f6c\u6362\u3001\u8ba1\u7b97\u3001\u7ec4\u5408\u6216\u5408\u5e76\u5f53\u524d\u8868\u4e2d\u5176\u4ed6\u5217\u7684\u503c\u3002\u51fd\u6570\u4e4b\u95f4\u53ef\u4ee5\u76f8\u4e92\u5f15\u7528\u3002 SQL \u652f\u6301\u7684\u51fd\u6570\u4e0e SeaTable \u652f\u6301\u7684\u516c\u5f0f\u5927\u81f4\u76f8\u540c\u3002</p> <p>\u51fd\u6570\u7684\u57fa\u672c\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>FunctionName(parameters...)\n</code></pre> <p>\u53c2\u6570\u53ef\u4ee5\u662f\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u3001\u5e38\u91cf\u3001\u5217\u540d\u6216\u8005\u5176\u4ed6\u51fd\u6570\u3002\u88ab\u5f15\u7528\u7684\u5217\u540d\u79f0\u4e0d\u80fd\u662f\u522b\u540d\u3002\u5982\u679c\u5217\u540d\u5305\u542b\"-\",\u60a8\u53ef\u4ee5\u4f7f\u7528\"`\"\u5c06\u5217\u540d\u62ec\u8d77\u6765\u3002</p> <p>\u5f53\u524dSQL\u67e5\u8be2\u63d0\u4f9b\u4e0b\u5217\u51fd\u6570\uff1a</p> <ul> <li>\u64cd\u4f5c\u7b26</li> <li>\u6570\u5b66\u51fd\u6570</li> <li>\u6587\u672c\u51fd\u6570</li> <li>\u65e5\u671f\u51fd\u6570</li> <li>\u5730\u7406\u4f4d\u7f6e\u51fd\u6570</li> <li>\u903b\u8f91\u51fd\u6570</li> <li>\u7edf\u8ba1\u51fd\u6570</li> </ul> <p>\u5728\u8fd9\u7bc7\u6587\u6863\u4e2d\uff0c\u6211\u4eec\u4f1a\u63d0\u4f9b\u6240\u6709\u51fd\u6570\u7684\u5b8c\u6574\u4ecb\u7ecd\uff0c\u5e76\u63d0\u4f9b\u76f8\u5e94\u7684\u4f8b\u5b50\u3002\u5982\u679c\u60a8\u60f3\u67e5\u627e\u7279\u5b9a\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7Ctrl+F\u5728\u5f53\u524d\u9875\u9762\u8fdb\u884c\u67e5\u627e\u3002</p>"},{"location":"sql/function/#_1","title":"\u51fd\u6570\u53ca\u4f8b\u5b50","text":"<p>\u60a8\u53ef\u4ee5\u5728SQL\u67e5\u8be2\u4e2d\u4f7f\u7528\u4e0b\u5217\u5e38\u91cf\uff1a</p> \u64cd\u4f5c\u7b26 \u63cf\u8ff0 \u8f93\u5165 \u7ed3\u679c e \u8fd4\u56de\u81ea\u7136\u5e38\u6570 e=2.71828... e+1 3.71828183 pi \u8fd4\u56de\u5706\u5468\u7387pi Pi. pi 3.14159265 true() \u8fd4\u56de\u903b\u8f91\u503c 'true'. true() true false() \u8fd4\u56de\u903b\u8f91\u503c 'false'. false() false"},{"location":"sql/function/#_2","title":"\u64cd\u4f5c\u7b26","text":"<p>\u64cd\u4f5c\u7b26\u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\u5fc5\u987b\u662f\u5b57\u7b26\u4e32\u6216\u8005\u6570\u5b57\u3002\u5bf9\u4e8e\u9700\u8981\u6570\u5b57\u7c7b\u578b\u7684\u53c2\u6570\uff0c\u5982\u679c\u8f93\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f1a\u81ea\u52a8\u5c1d\u8bd5\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6570\u5b57\uff1b\u53cd\u4e4b\u4ea6\u7136\u3002</p> \u64cd\u4f5c\u7b26 \u63cf\u8ff0 \u8f93\u5165 \u7ed3\u679c add(num1,num2) \u8ba1\u7b97\u4e24\u4e2a\u503c\u7684\u548c\u3002 add(1,2) 3 subtract(num1,num2) \u8ba1\u7b97\u4e24\u4e2a\u503c\u7684\u5dee\u3002 subtract(5,4) 1 multiply(num1,num2) \u8ba1\u7b97\u4e24\u4e2a\u503c\u7684\u4e58\u79ef\u3002 multiply(3,4) 12 divide(num1,num2) \u8ba1\u7b97\u4e24\u4e2a\u6570\u76f8\u9664\u3002 divide(3,2) 1.5 mod(num1,num2) \u8ba1\u7b97\u4e24\u4e2a\u6570\u7684\u4f59\u6570\u3002 mod(15,7) 1 power(num1,num2) \u8fd4\u56de\u67d0\u6570\u7684\u4e58\u5e42\u3002 power(3,2) 9 greater(num1,num2) \u5224\u65ad\u4e00\u4e2a\u6570\u662f\u5426\u5927\u4e8e\u53e6\u4e00\u4e2a\u6570\u3002 greater(2,3) false lessthan(num1,num2) \u5224\u65ad\u4e00\u4e2a\u6570\u662f\u5426\u5c0f\u4e8e\u53e6\u4e00\u4e2a\u6570\u3002 lessthan(2,3) true greatereq(num1,num2) \u5224\u65ad\u4e00\u4e2a\u6570\u662f\u5426\u5927\u4e8e\u7b49\u4e8e\u53e6\u4e00\u4e2a\u6570\u3002 greatereq(2,3) false lessthaneq(num1,num2) \u5224\u65ad\u4e00\u4e2a\u6570\u662f\u5426\u5c0f\u4e8e\u7b49\u4e8e\u53e6\u4e00\u4e2a\u6570\u3002 lessthaneq(2,3) false equal(num1,num2) \u5224\u65ad\u4e00\u4e2a\u6570\u662f\u5426\u7b49\u4e8e\u53e6\u4e00\u4e2a\u6570\u3002 equal(`Old price`, `New price`) false unequal \u5224\u65ad\u4e00\u4e2a\u6570\u662f\u5426\u4e0d\u7b49\u4e8e\u53e6\u4e00\u4e2a\u6570\u3002 unequal(`Old price`, `New price`) true concatenate(string1, string2, ...) \u5c06\u591a\u4e2a\u6587\u672c\u503c\u8fde\u63a5\u4e3a\u5355\u4e2a\u6587\u672c\u503c\u3002 concatenate(`Supplier`, \" has the product \", `Product`) Microsoft has the product Windows"},{"location":"sql/function/#_3","title":"\u6570\u5b66\u51fd\u6570","text":"<p>\u64cd\u4f5c\u7b26\u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\u5fc5\u987b\u662f\u6570\u5b57\u3002\u5982\u679c\u8f93\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f1a\u81ea\u52a8\u5c1d\u8bd5\u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u6570\u5b57\u3002</p> \u64cd\u4f5c\u7b26 \u63cf\u8ff0 \u8f93\u5165 \u7ed3\u679c abs(number) \u8fd4\u56de\u4e00\u4e2a\u6570\u7684\u7edd\u5bf9\u503c\u3002 abs(-2) 2 ceiling(number, significance) \u5c06\u6570\u5b57\u5411\u4e0a\u820d\u5165\u5230\u6700\u63a5\u8fd1\u7684\u6574\u6570\u6216\u6700\u63a5\u8fd1\u7684\u6307\u5b9a\u57fa\u6570\u7684\u500d\u6570\u3002(\u5982\u679c\u4efb\u4f55\u4e00\u4e2a\u53c2\u6570\u662f\u975e\u6570\u503c\u578b\uff0c\u5219 CEILING \u8fd4\u56de\u7a7a\u3002  \u4e0d\u8bba\u53c2\u6570 number \u7684\u7b26\u53f7\u5982\u4f55\uff0c\u6570\u503c\u90fd\u662f\u6cbf\u7edd\u5bf9\u503c\u589e\u5927\u7684\u65b9\u5411\u5411\u4e0a\u820d\u5165\u3002 \u5982\u679c number \u6b63\u597d\u662f significance \u7684\u500d\u6570\uff0c\u5219\u4e0d\u8fdb\u884c\u820d\u5165\u3002 \u5982\u679c number \u548c significance \u90fd\u4e3a\u8d1f\uff0c\u5219\u5bf9\u503c\u6309\u8fdc\u79bb 0 \u7684\u65b9\u5411\u8fdb\u884c\u5411\u4e0b\u820d\u5165\u3002) ceiling(2.14) 3 \u5982\u679c number \u4e3a\u8d1f\uff0csignificance \u4e3a\u6b63\uff0c\u5219\u5bf9\u503c\u6309\u671d\u5411 0 \u7684\u65b9\u5411\u8fdb\u884c\u5411\u4e0a\u820d\u5165\uff0c ceiling(-2.14, 4) 0 even(number) \u5c06\u6b63\u6570\u5411\u4e0a\u820d\u5165\u5230\u6700\u8fd1\u7684\u5076\u6570\uff0c\u8d1f\u6570\u5411\u4e0b\u820d\u5165\u5230\u6700\u8fd1\u7684\u5076\u6570\u3002 even(2.14) 4 exp(number) \u8fd4\u56de e \u7684 n \u6b21\u65b9\u3002 expr(1) 2.71828... floor(number, significance) \u5c06\u6570\u5b57\u5411\u4e0b\u820d\u5165\u5230\u6700\u63a5\u8fd1\u7684\u6574\u6570\u6216\u6700\u63a5\u8fd1\u7684\u6307\u5b9a\u57fa\u6570\u7684\u500d\u6570\u3002(\u5982\u679c\u4efb\u4e00\u53c2\u6570\u4e3a\u975e\u6570\u503c\u578b\uff0c\u5219 FLOOR \u8fd4\u56de \u7a7a \u3002  \u5982\u679c number \u4e3a\u6b63\u503c\u4e14\u6307\u5b9a\u7684\u57fa\u6570\u4e3a\u8d1f\uff0c\u5219 FLOOR \u8fd4\u56de \u7a7a \u3002  \u5982\u679c number \u7684\u7b26\u53f7\u4e3a\u6b63\uff0c\u5219\u6570\u503c\u5411\u4e0b\u820d\u5165\uff0c\u5e76\u671d\u96f6\u8c03\u6574\u3002 \u5982\u679c number \u7684\u7b26\u53f7\u4e3a\u8d1f\uff0c\u5219\u6570\u503c\u6cbf\u7edd\u5bf9\u503c\u51cf\u5c0f\u7684\u65b9\u5411\u5411\u4e0b\u820d\u5165\u3002\uff09 floor(2.86) 2 \u5982\u679c number \u7684\u7b26\u53f7\u4e3a\u8d1f\uff0c\u5219\u6570\u503c\u6cbf\u7edd\u5bf9\u503c\u51cf\u5c0f\u7684\u65b9\u5411\u5411\u4e0b\u820d\u5165\u3002 \u5982\u679c number \u6b63\u597d\u662f significance \u7684\u500d\u6570\uff0c\u5219\u4e0d\u8fdb\u884c\u820d\u5165\u3002 floor(-3.14, 5) -5 int(number) \u5c06\u6570\u503c\u5411\u4e0b\u53d6\u6574\u4e3a\u6700\u63a5\u8fd1\u7684\u6574\u6570\u3002 int(-3.14) -4 lg(number) \u8fd4\u56de\u7ed9\u5b9a\u6570\u503c\u4ee5 10 \u4e3a\u5e95\u7684\u5bf9\u6570\u3002 lg(100) 2 log(number, base) \u6839\u636e\u7ed9\u5b9a\u5e95\u6570\u8fd4\u56de\u6570\u5b57\u7684\u5bf9\u6570\u3002 log(81, 3) 4 \u5982\u679c\u5e95\u6570\u6ca1\u6709\u6307\u5b9a\uff0c\u9ed8\u8ba4\u4ee510\u4f5c\u4e3a\u5e95\u6570\u3002 log(1000) 3 odd(number) \u5c06\u6b63(\u8d1f)\u6570\u5411\u4e0a(\u4e0b)\u820d\u5165\u5230\u6700\u63a5\u8fd1\u7684\u5947\u6570\u3002 odd(-2.14) -1 round(number, digits) \u6309\u6307\u5b9a\u7684\u4f4d\u6570\u5bf9\u6570\u503c\u8fdb\u884c\u56db\u820d\u4e94\u5165\u3002\u5982\u679c num_digits \u7b49\u4e8e 0\uff0c\u5219\u5c06\u6570\u5b57\u56db\u820d\u4e94\u5165\u5230\u6700\u63a5\u8fd1\u7684\u6574\u6570\u3002 round(3.14) 3 \u5982\u679c num_digits \u5927\u4e8e 0\uff08\u96f6\uff09\uff0c\u5219\u5c06\u6570\u5b57\u56db\u820d\u4e94\u5165\u5230\u6307\u5b9a\u7684\u5c0f\u6570\u4f4d round(3.14, 1) 3.1 \u5982\u679c num_digits \u5c0f\u4e8e 0\uff0c\u5219\u5728\u5c0f\u6570\u70b9\u5de6\u4fa7\u524d\u51e0\u4f4d\u8fdb\u884c\u56db\u820d\u4e94\u5165\u3002 round(3.14, -3) 0 rounddown(number, digits) \u5411\u4e0b\u820d\u5165\u6570\u5b57\u3002\uff08\u5982\u679c num_digits \u5927\u4e8e 0\uff08\u96f6\uff09\uff0c\u5219\u5c06\u6570\u5b57\u5411\u4e0b\u820d\u5165\u5230\u6307\u5b9a\u7684\u5c0f\u6570\u4f4d\u3002 \u5982\u679c num_digits \u7b49\u4e8e 0\uff0c\u5219\u5c06\u6570\u5b57\u5411\u4e0b\u820d\u5165\u5230\u6700\u63a5\u8fd1\u7684\u6574\u6570\u3002 \u5982\u679c num_digits \u5c0f\u4e8e 0\uff0c\u5219\u5728\u5c0f\u6570\u70b9\u5de6\u4fa7\u524d\u51e0\u4f4d\u8fdb\u884c\u5411\u4e0b\u820d\u5165\u3002\uff09 rounddown(3.12, 1) 3.1 roundup(number, digits) \u5411\u4e0a\u820d\u5165\u6570\u5b57\u3002\uff08\u5982\u679c num_digits \u5927\u4e8e 0\uff08\u96f6\uff09\uff0c\u5219\u5c06\u6570\u5b57\u5411\u4e0a\u820d\u5165\u5230\u6307\u5b9a\u7684\u5c0f\u6570\u4f4d\u3002 \u5982\u679c num_digits \u7b49\u4e8e 0\uff0c\u5219\u5c06\u6570\u5b57\u5411\u4e0a\u820d\u5165\u5230\u6700\u63a5\u8fd1\u7684\u6574\u6570\u3002 \u5982\u679c num_digits \u5c0f\u4e8e 0\uff0c\u5219\u5728\u5c0f\u6570\u70b9\u5de6\u4fa7\u524d\u51e0\u4f4d\u8fdb\u884c\u5411\u4e0a\u820d\u5165\u3002\uff09 roundup(-3.15) -4 sign(number) \u8fd4\u56de\u6570\u5b57\u7684\u6b63\u8d1f\u53f7: \u4e3a\u6b63\u65f6\uff0c\u8fd4\u56de 1\uff1b\u4e3a\u96f6\u65f6\uff0c\u8fd4\u56de 0\uff1b\u4e3a\u8d1f\u65f6\uff0c\u8fd4\u56de -1\u3002 sign(-2) -1 sqrt(number) \u8fd4\u56de\u67d0\u6570\u7684\u5e73\u65b9\u6839\u3002 sqrt(81) 9"},{"location":"sql/function/#_4","title":"\u6587\u672c\u51fd\u6570","text":"\u64cd\u4f5c\u7b26 \u63cf\u8ff0 \u8f93\u5165 \u7ed3\u679c exact(string1, string2) \u8fd4\u56de\u4e24\u4e2a\u6570\u5b57\u7b26\u4e32\u662f\u5426\u76f8\u7b49\u3002 exact('SeaTable', 'Seatable') false find(findString, sourceString, startPosition) \u83b7\u53d6\u5728\u4e00\u4e2a\u5b57\u7b26\u4e32\u5728\u53e6\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u7684\u7d22\u5f15\u3002\u5982\u679c\u627e\u4e0d\u5230\uff0c\u90a3\u4e48\u8fd4\u56de 0\u3002(\u533a\u5206\u5927\u5c0f\u5199)\u3002 find('Sea', 'seaTable', 1) 0 left(string, count) \u4ece\u4e00\u4e2a\u6587\u672c\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5f00\u59cb\u8fd4\u56de\u6307\u5b9a\u4e2a\u6570\u7684\u5b57\u7b26\u3002 left('SeaTable', 3) Sea len(string) \u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002 len('SeaTable') 8 lower(string) \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5c0f\u5199\u3002 lower('German) german mid(string, startPosition, count) \u4ece\u6587\u672c\u5b57\u7b26\u4e32\u4e2d\u6307\u5b9a\u7684\u8d77\u59cb\u4f4d\u7f6e\u8d77\u8fd4\u56de\u6307\u5b9a\u957f\u5ea6\u7684\u5b57\u7b26\u3002 mid('SeaTable is the best', 1, 8) SeaTable replace(sourceString, startPosition, count, newString) \u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u7684\u90e8\u5206\u5b57\u7b26\u7528\u53e6\u4e00\u4e2a\u5b57\u7b26\u4e32\u66ff\u6362\u3002 replace('SeaTable is the best.', 1, 8, 'Seafile') Seafile is the best. rept(string, number) \u5c06\u5b57\u7b26\u4e32\u91cd\u590d nunber \u6b21\u3002 rept('Sea ', 3) SeaSeaSea right(string, count) \u4ece\u4e00\u4e2a\u6587\u672c\u5b57\u7b26\u4e32\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u5f00\u59cb\u8fd4\u56de\u6307\u5b9a\u4e2a\u6570\u7684\u5b57\u7b26\u3002 right('SeaTable', 5) Table search(findString, sourceString, startPosition) \u8fd4\u56de\u4e00\u4e2a\u6307\u5b9a\u5b57\u7b26\u6216\u6587\u672c\u5b57\u7b26\u4e32\u5728\u5b57\u7b26\u4e32\u4e2d\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u4ece\u5de6\u5230\u53f3\u67e5\u627e(\u5ffd\u7565\u5927\u5c0f\u5199)\u3002 search('Sea', 'seaTable', 1) 1 substitute(sourceString, oldString, newString, index) \u5c06\u5b57\u7b26\u4e32\u4e2d\u7684\u90e8\u5206\u5b57\u7b26\u4e32\u4ee5\u65b0\u5b57\u7b26\u4e32\u66ff\u6362\u3002 substitute('SeaTableTable', 'Table', 'file', 1) SeafileTable T(value) \u68c0\u6d4b\u7ed9\u5b9a\u503c\u662f\u5426\u4e3a\u6587\u672c\uff0c\u5982\u679c\u662f\u6587\u672c\u6309\u539f\u6837\u8fd4\u56de\uff0c\u5982\u679c\u4e0d\u662f\u6587\u672c\u5219\u8fd4\u56de\u7a7a\u6587\u672c\u3002 T('123') 123 text(number, format) \u6839\u636e\u6307\u5b9a\u7684\u6570\u503c\u683c\u5f0f\u5c06\u6570\u5b57\u8f6c\u6210\u6587\u672c\u3002\u683c\u5f0f\u53c2\u6570 format_text \u53ef\u4ee5\u4e3a number, percent, yuan, dollar, euro \u4e2d\u7684\u4e00\u4e2a\u3002 text(150, 'euro') \u20ac150 trim(string) \u79fb\u9664\u5b57\u7b26\u4e32\u4e24\u7aef\u7684\u7a7a\u683c\u3002 trim(' SeaTable ') SeaTable upper(string) \u5c06\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5927\u5199\u3002 upper('German) GERMAN value(string) \u5c06\u4e00\u4e2a\u4ee3\u8868\u6570\u503c\u7684\u6587\u672c\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u6570\u503c\u3002 value('123') 123"},{"location":"sql/function/#_5","title":"\u65e5\u671f\u51fd\u6570","text":"<p>\u65e5\u671f\u51fd\u6570\u7684\u8f93\u5165\u53c2\u6570\u5fc5\u987b\u662f\u65f6\u95f4\u6216\u8005\u65e5\u671f\u7c7b\u578b\u3002\u8f93\u5165\u5e38\u91cf\u65f6\uff0c\u4ee5\u5b57\u7b26\u4e32\u8868\u793a\uff0c\u683c\u5f0f\u53ef\u4ee5\u662f \"2021-09-01 12:00:01\" \u6216\u8005 \"2021-09-01\"\u3002\u5f53\u5728 select \u8bed\u53e5\u4e2d\u8fd4\u56de\u65e5\u671f\u516c\u5f0f\u7ed3\u679c\u65f6\uff0c\u5982\u679c\u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b\u662f\u65f6\u95f4\u6216\u8005\u65e5\u671f\uff0c\u90a3\u4e48\u4f1a\u88ab\u8f6c\u6362\u4e3aRFC3339 \u683c\u5f0f\u7684\u5b57\u7b26\u4e32\uff0c\u6bd4\u5982 \"2021-09-03T00:00:00+08:00\"\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u516c\u5f0f\u8fd4\u56de\u7c7b\u578b\u4e3a\u65f6\u95f4\u6216\u8005\u65e5\u671f\uff0c\u90a3\u4e48\u8fd4\u56de\u7684\u7ed3\u679c\u4e0d\u80fd\u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9\u6570\u5b66\u51fd\u6570\u3001\u5b57\u7b26\u4e32\u51fd\u6570\u3002</p> \u64cd\u4f5c\u7b26 \u63cf\u8ff0 \u8f93\u5165 \u7ed3\u679c date(year, month, day) \u4ece\u8f93\u5165\u7684\u5e74\u3001\u6708\u548c\u65e5\u8fd4\u56de\u56fd\u9645\u683c\u5f0f (ISO) \u7684\u65e5\u671f\u3002 date(2021, 1, 3) 2021-01-03T00:00:00+08:00 dateAdd(date, count, unit) \u589e\u52a0\u65f6\u95f4\u3002\u6700\u540e\u4e00\u4e2a\u53c2\u6570 unit \u53ef\u4ee5\u4e3a years, months, weeks, days, hours, minutes, seconds \u4e2d\u7684\u4e00\u4e2a\u3002 dateAdd('2020-02-03', 2, 'days') 2020-02-05T00:00:00+08:00 datedif(startDate, endDate, unit) \u8ba1\u7b97\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u76f8\u9694\u7684\u79d2\u6570\u3001\u5929\u6570\u3001\u6708\u6570\u6216\u5e74\u6570\u3002\u53c2\u6570 unit \u53ef\u4ee5\u4e3a S, Y, M, D, YD, YM, MD. \u4e2d\u7684\u4e00\u4e2a\u3002\u5982\u679c startDate \u4e3a\u7a7a\uff0c\u9ed8\u8ba4\u4e3a \"1900-01-01\"\u3002\u5982\u679c\u4e24\u4e2a\u65e5\u671f\u90fd\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56de 0 \u3002 dateDif('2018-01-01', '2020-01-01') 2 unit\u53c2\u6570\u662f\u53ef\u9009\u7684: S (\u79d2\u6570), D (\u5929\u6570), M (\u6708\u6570), Y (\u5e74\u6570), YD (\u5929\u6570\uff0c\u5ffd\u7565\u5e74\u4efd), YM (\u6708\u4efd\uff0c\u5ffd\u7565\u5e74\u4efd\u548c\u5929\u6570), MD (\u5929\u6570\uff0c\u5ffd\u7565\u5e74\u4efd\u548c\u6708\u4efd). dateDif('2019-10-11', '2020-12-12', 'M') 14 day(date) \u8fd4\u56de\u4e00\u4e2a\u6708\u4e2d\u7684\u7b2c\u51e0\u5929\u7684\u6570\u503c\uff0c\u4ecb\u4e8e 1 \u5230 31 \u4e4b\u95f4 day('2020-01-03') 3 eomonth(startDate, months) \u8fd4\u56de\u4e00\u4e2a\u65e5\u671f\uff0c\u8868\u793a\u6307\u5b9a\u65e5\u671f\u4e4b\u524d\u6216\u4e4b\u540e\u7684\u51e0\u4e2a\u6708\u7684\u6700\u540e\u4e00\u5929\u3002 eomonth('2020-01-01', 1) 2020-02-29T00:00:00+08:00 \u5982\u679c\u7ed9\u5b9a\u7684\u6570\u5b57\uff08months\uff09\u4e3a\u8d1f\u6570\uff0c\u5219\u8868\u793a\u4e4b\u524d\u7684\u51e0\u4e2a\u6708\u7684\u6700\u540e\u4e00\u5929\u3002 eomonth('2020-01-01', -1) 2019-12-31T00:00:00+08:00 hour(date) \u8fd4\u56de\u5c0f\u65f6\u6570\u503c\uff0c\u662f\u4e00\u4e2a 0 (12:00 A.M.) \u5230 23 (11:00 P.M.) \u4e4b\u95f4\u7684\u6574\u6570\u3002 hour('2020-02-14 13:14:52) 13 \u5982\u679c\u4e0d\u5305\u542b\u5c0f\u65f6\uff0c\u5219\u8fd4\u56de0\u3002 hour('2020-02-14) 0 hours(startDate, endDate) \u8fd4\u56de\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u7684\u5c0f\u65f6\u6570\u3002 hours('2020-02-14 13:14', '2020-02-14 15:14') 2 \u5982\u679c\u65e5\u671f\u4e2d\u4e0d\u5305\u542b\u5c0f\u65f6\uff0c\u5219\u8ba4\u4e3a\u662f\u5728\u8be5\u5929\u76840\u65f6\u3002 hours('2020-02-14', '2020-02-14 15:14') 15 minute(date) \u8fd4\u56de\u5206\u949f\u6570\u503c\uff0c\u662f\u4e00\u4e2a 0 \u5230 59 \u4e4b\u95f4\u7684\u6574\u6570\u3002 minute('2020-02-14 13:14:52 14 \u5982\u679c\u65e5\u671f\u4e2d\u4e0d\u5305\u542b\u5206\u949f\uff0c\u5219\u8fd4\u56de0\u3002 minute('2020-02-14) 0 month(date) \u8fd4\u56de\u6708\u4efd\u503c\uff0c\u662f\u4e00\u4e2a 1 (\u4e00\u6708)\u5230 12 (\u5341\u4e8c\u6708)\u4e4b\u95f4\u7684\u6570\u5b57\u3002 month('2020-02-14 13:14:52) 2 months(startDate, endDate) \u8fd4\u56de\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u7684\u6708\u6570\u3002 months('2020-02-01 13:14', '2020-03-31 15:54') 1 \u5982\u679c\u65e5\u671f\u4e0d\u5305\u542b\u6708\u4efd\uff0c\u5219\u9ed8\u8ba4\u4e3a1\u6708\u3002 months('2020', '2021') 12 networkdays(startDate, endDate, holiday1, holiday2, ...) \u8fd4\u56de\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u7684\u5b8c\u6574\u5de5\u4f5c\u65e5\u6570\u3002 networkdays('2020-01-01', '2020-01-07','2020-01-01') 4 now() \u83b7\u53d6\u73b0\u5728\u7684\u65f6\u95f4\u3002 now() 2020-09-07T12:59:00+08:00 second(date) \u8fd4\u56de\u79d2\u6570\u503c\uff0c\u662f\u4e00\u4e2a 0 \u5230 59 \u4e4b\u95f4\u7684\u6574\u6570\u3002 second('2020-02-14 13:14:52') 52 today() \u83b7\u53d6\u4eca\u5929\u7684\u65e5\u671f\u3002 today() 2020-09-07T00:00:00+08:00 weekday(date, weekStart) \u8fd4\u56de\u4ee3\u8868\u4e00\u5468\u4e2d\u7684\u7b2c\u51e0\u5929\u7684\u6570\u503c\uff0c\u662f\u4e00\u4e2a 1 \u5230 7 \u4e4b\u95f4\u7684\u6574\u6570\u3002 weekday('2020-01-01', 'Monday') 3 weeknum(date, return_type) \u8fd4\u56de\u7279\u5b9a\u65e5\u671f\u7684\u5468\u7f16\u53f7\uff0c\u5305\u542b1\u67081\u65e5\u7684\u661f\u671f\u662f\u5f53\u5e74\u7684\u7b2c\u4e00\u5468\uff0c\u5e76\u7f16\u53f7\u4e3a\u7b2c 1 \u5468\u3002 weeknum('2020-01-12', 11) 2 year(date) \u8fd4\u56de\u65e5\u671f\u7684\u5e74\u4efd\u503c\uff0c\u4e00\u4e2a 1900-9999 \u4e4b\u95f4\u7684\u6570\u5b57\u3002 year('2020-01-01') 2020 startofweek(date, weekStart) \u8fd4\u56de\u65e5\u671f\u6240\u5728\u5468\u7684\u7b2c\u4e00\u5929\uff0cweekStart \u9ed8\u8ba4\u662f sunday\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4e3a monday\u3002 startofweek('2021-04-28') 2021-4-25T00:00:00+08:00 quarter(date) \u8fd4\u56de\u65e5\u671f\u6240\u5728\u5b63\u5ea6\uff0c\u8fd4\u56de\u503c\u4e3a 1, 2, 3, 4\u3002 quarter('2021-01-01') 1 isodate(date) \u8fd4\u56de\u65e5\u671f\u7684 ISO \u5b57\u7b26\u4e32\u8868\u793a\uff0c\u6bd4\u5982 \"2021-05-11\"\u3002 isodate('2021-01-01 11:00:00') 2021-01-01 isomonth(date) \u8fd4\u56de\u5e74\u6708\u7684 ISO \u5b57\u7b26\u4e32\u8868\u793a\uff0c\u6bd4\u5982 \"2020-05\"\u3002 isomonth('2021-01-01 11:00:00') 2021-01"},{"location":"sql/function/#_6","title":"\u5730\u7406\u4f4d\u7f6e\u51fd\u6570","text":"<p>\u81ea\u7248\u672c 2.7.0 \u8d77\u652f\u6301\u5730\u7406\u4f4d\u7f6e\u51fd\u6570</p> \u64cd\u4f5c\u7b26 \u63cf\u8ff0 \u8f93\u5165 \u7ed3\u679c province(geolocation) \u8fd4\u56de\u5730\u7406\u4f4d\u7f6e\u5217\u7684\u7701\u4efd\u503c\u3002\uff08\u4ec5\u5f53\u5730\u7406\u4f4d\u7f6e\u5217\u8bbe\u7f6e\u6210 \u201c\u7701\u4efd\u201d\u3001\u201c\u7701\u4efd/\u57ce\u5e02\u201d\u3001\u201c\u7701/\u5e02/\u533a\u201d \u6216 \u201c\u7701/\u5e02/\u533a\u53ca\u8be6\u60c5\u201d \u683c\u5f0f\u65f6\uff09 province(column_name) \u5317\u4eac\u5e02 city(geolocation) \u8fd4\u56de\u5730\u7406\u4f4d\u7f6e\u5217\u7684\u57ce\u5e02\u503c\u3002\uff08\u4ec5\u5f53\u5730\u7406\u4f4d\u7f6e\u5217\u8bbe\u7f6e\u6210 \u201c\u7701\u4efd/\u57ce\u5e02\u201d\u3001\u201c\u7701/\u5e02/\u533a\u201d \u6216 \u201c\u7701/\u5e02/\u533a\u53ca\u8be6\u60c5\u201d \u683c\u5f0f\u65f6\uff09 city(column_name) \u5317\u4eac\u5e02 district(geolocation) \u8fd4\u56de\u5730\u7406\u4f4d\u7f6e\u5217\u7684\u533a\u53bf\u503c\u3002\uff08\u4ec5\u5f53\u5730\u7406\u4f4d\u7f6e\u5217\u8bbe\u7f6e\u6210 \u201c\u7701/\u5e02/\u533a\u201d \u6216 \u201c\u7701/\u5e02/\u533a\u53ca\u8be6\u60c5\u201d \u683c\u5f0f\u65f6\uff09 district(column_name) \u671d\u9633\u533a country(geolocation) \u8fd4\u56de\u5730\u7406\u4f4d\u7f6e\u5217\u7684\u56fd\u5bb6\u6216\u5730\u533a\u503c\u3002\uff08\u4ec5\u5f53\u5730\u7406\u4f4d\u7f6e\u5217\u8bbe\u7f6e\u6210 \u201c\u56fd\u5bb6\u548c\u5730\u533a\u201d \u683c\u5f0f\u65f6,\u81ea 5.1.0 \u7248\u672c\u5f00\u59cb\u652f\u6301\uff09 country(column_name) \u4e2d\u56fd"},{"location":"sql/function/#_7","title":"\u903b\u8f91\u51fd\u6570","text":"\u64cd\u4f5c\u7b26 \u63cf\u8ff0 \u8f93\u5165 \u7ed3\u679c and(logical1, logical2, ...) \u68c0\u67e5\u662f\u5426\u6240\u6709\u53c2\u6570\u5747\u4e3a TRUE\uff0c\u5982\u679c\u6240\u6709\u53c2\u6570\u503c\u5747\u4e3a TRUE\uff0c\u5219\u8fd4\u56de TRUE\u3002 and(1, '', 2) false if(logical, value1, value2) \u5224\u65ad\u662f\u5426\u6ee1\u8db3\u67d0\u4e2a\u6761\u4ef6\uff0c\u5982\u679c\u6ee1\u8db3\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\u5219\u8fd4\u56de\u53e6\u4e00\u4e2a\u503c\u3002 if(1&gt;2, 3, 4) 4 ifs(logical1, value1, logical2, value2, ...) \u68c0\u67e5\u662f\u5426\u6ee1\u8db3\u4e00\u4e2a\u6216\u591a\u4e2a\u6761\u4ef6\u5e76\u8fd4\u56de\u4e0e\u7b2c\u4e00\u4e2a TRUE \u6761\u4ef6\u5bf9\u5e94\u7684\u503c ifs( 1&gt;2, 3, 5&gt;4, 9) 9 not(boolean) \u5bf9\u53c2\u6570\u7684\u903b\u8f91\u503c\u6c42\u53cd: \u53c2\u6570\u4e3a TRUE \u65f6\u8fd4\u56de FALSE\uff1b\u53c2\u6570\u4e3a FALSE \u65f6\u8fd4\u56de TRUE\u3002 not(and(1, '', 2)) true or(logical1, logical2, ...) \u5982\u679c\u4efb\u4e00\u53c2\u6570\u503c\u4e3a TRUE\uff0c\u5373\u8fd4\u56de TRUE\uff1b\u53ea\u6709\u5f53\u6240\u6709\u53c2\u6570\u503c\u5747\u4e3a FALSE \u65f6\u624d\u8fd4\u56de FALSE\u3002 or(1,'',2) true switch(logical, matcher1, value1, matcher2, value2, ..., default) \u6839\u636e\u503c\u5217\u8868\u6c42\u503c\u8868\u8fbe\u5f0f\u5e76\u8fd4\u56de\u4e0e\u7b2c\u4e00\u4e2a\u5339\u914d\u503c\u5bf9\u5e94\u7684\u7ed3\u679c\u3002\u5982\u679c\u6ca1\u6709\u5339\u914d\u9879\uff0c\u5219\u8fd4\u56de\u53ef\u9009\u9ed8\u8ba4\u503c\u3002 switch(`grades`, 1, 'very good', 2, 'good', 3, 'satisfactory', 4, 'passed', 'failed') very good xor(logical1, logical2, ...) \u8fd4\u56de\u6240\u6709\u53c2\u6570\u7684\u903b\u8f91\u201c\u5f02\u6216\u201d\u503c\u3002 xor(1, 0, 2\\&lt;1) false"},{"location":"sql/function/#_8","title":"\u7edf\u8ba1\u51fd\u6570","text":"\u64cd\u4f5c\u7b26 \u63cf\u8ff0 \u8f93\u5165 \u7ed3\u679c average(number1, number2, ...) \u8fd4\u56de\u4e00\u7ec4\u6570\u7684\u5e73\u5747\u503c\u3002 average(1, 2, 3, 4, 5) 3 counta(textORnumber1, textORnumber2, ...) Counts the number of non-e\u8ba1\u7b97\u4e00\u7ec4\u503c\u4e2d\u975e\u7a7a\u503c\u7684\u4e2a\u6570\u3002\u975e\u7a7a\u503c\u5305\u62ec\u6570\u5b57\u548c\u5b57\u7b26\u4e32\u3002 counta(1, '', 2, '3') 3 countall(textORnumber1, textORnumber2, ...) \u8ba1\u7b97\u4e00\u7ec4\u503c\u7684\u4e2a\u6570 (\u5305\u62ec\u7a7a\u503c)\u3002 countall(1, '', 2, '3') 4 countblank(textORnumber1, textORnumber2, ...) countblank(textOrNumber1, [textOrNumber2, ...]) countall(1, '', 2, '3') 1 countItems(column) \u8fd4\u56de\u67d0\u4e00\u5217\u4e2d\u503c\u7684\u5143\u7d20\u4e2a\u6570\u3002\u4ec5\u5141\u8bb8\u56fe\u7247\u3001\u6587\u4ef6\u3001\u591a\u9009\u548c\u534f\u4f5c\u4eba\u5217\u7c7b\u578b\u3002\uff08\u81ea\u7248\u672c 2.7.0 \u8d77\u652f\u6301\uff09 countItems(column_name) 2"},{"location":"sql/sql/","title":"SQL \u652f\u6301","text":"<p>SeaTable \u4e2d\u6570\u636e\u67e5\u8be2\u652f\u6301 SQL \u8bed\u53e5\u3002\u4f7f\u7528 SQL \u8bed\u53e5\u4f1a\u68c0\u7d22\u5b8c\u6574\u7684\u6570\u636e\u96c6\uff0c\u4e5f\u5c31\u662f\u5305\u62ec\u5f52\u6863\u548c\u975e\u5f52\u6863\u7684\u6570\u636e\u3002</p>"},{"location":"sql/sql/#_1","title":"\u8bed\u6cd5","text":"<p>\u76ee\u524d\u53ea\u652f\u6301\u57fa\u672c\u7684 SELECT\uff0cINSERT\uff0cUPDATE\uff0cDELETE \u8bed\u53e5\u3002\uff08INSERT\uff0cUPDATE\uff0cDELETE \u8bed\u53e5\u4e8e 2.7 \u7248\u672c\u8d77\u652f\u6301\uff09</p> <p>SELECT \u8bed\u53e5\u7684\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>SELECT [DISTINCT] fields FROM table_name [WhereClause] [GroupByClause] [HavingClause] [OrderByClause] [Limit Option]\n</code></pre> <p>\u4ece 4.3 \u7248\u672c\u8d77\uff0c\u652f\u6301\u57fa\u672c\u7684 JOIN \u67e5\u8be2\uff0c\u4f8b\u5982\uff1a</p> <pre><code>SELECT ... FROM table1, table2 WHERE table1.column1 = table2.column2 AND ...\n</code></pre> <p>JOIN \u67e5\u8be2\u5b58\u5728\u4ee5\u4e0b\u9650\u5236\uff1a</p> <ul> <li>\u53ea\u652f\u6301 INNER JOIN \u67e5\u8be2\uff0c\u4e0d\u652f\u6301 LEFT JOIN\uff0cRIGHT JOIN\uff0cFULL JOIN \u7b49\u3002</li> <li><code>FROM</code> \u5b50\u53e5\u4e2d\u7684\u8868\u4e0d\u80fd\u91cd\u590d\u3002</li> <li><code>FROM</code> \u5b50\u53e5\u4e2d\u7684\u6bcf\u4e2a\u8868\u5fc5\u987b\u81f3\u5c11\u5173\u8054\u4e00\u4e2a JOIN \u6761\u4ef6\u3002</li> <li>JOIN \u6761\u4ef6\u9700\u8981\u653e\u5728 <code>WHERE</code> \u5b50\u53e5\u91cc\uff0c\u5e76\u4e14\u7528 <code>AND</code> \u8fde\u63a5\u3002</li> <li>JOIN \u6761\u4ef6\u53ea\u80fd\u662f\u4e24\u4e2a\u5217\u7684\u76f8\u7b49\u6bd4\u8f83\uff0c\u4f8b\u5982 <code>table1.column1 = table2.column2</code>\u3002</li> <li>JOIN \u6761\u4ef6\u4e2d\u7684\u5217\u9700\u8981\u5b58\u5728\u7d22\u5f15\uff0c\u9664\u975e\u8fd9\u4e2a\u5b50\u8868\u672a\u5f52\u6863\u3002</li> </ul> <p>\u8bf4\u660e\uff1a</p> <ul> <li>where \u8bed\u53e5\u4e2d\u652f\u6301\u5927\u90e8\u5206\u7684\u8868\u8fbe\u5f0f\uff08\u7b97\u6570\u8868\u8fbe\u5f0f\uff0c\u6bd4\u8f83\u8868\u8fbe\u5f0f\u7b49\uff09\uff0c\u5173\u952e\u5b57\u5305\u62ec\uff1a <code>[NOT] LIKE</code>, <code>IN</code>, <code>BETWEEN ... AND ...</code>, <code>AND</code>, <code>OR</code>, <code>NOT</code>, <code>IS [NOT] TRUE</code>, <code>IS [NOT] NULL</code>. \u5176\u4e2d\uff1a<ul> <li>\u7b97\u672f\u8868\u8fbe\u5f0f\u53ea\u652f\u6301\u6570\u5b57\u3002</li> <li><code>LIKE</code> \u8bed\u53e5\u53ea\u652f\u6301\u5b57\u7b26\u4e32\u3002\u652f\u6301\u4f7f\u7528 <code>ILIKE</code> \u5173\u952e\u5b57\u66ff\u4ee3 <code>LIKE</code>\uff0c\u4ece\u800c\u5728\u5339\u914d\u4e2d\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002</li> <li><code>BETWEEN ... AND ...</code> \u8bed\u53e5\u53ea\u652f\u6301\u6570\u5b57\u4e0e\u65f6\u95f4</li> <li>\u65f6\u95f4\u5e38\u91cf\u5e94\u8be5\u662f ISO \u683c\u5f0f\u7684\u5b57\u7b26\u4e32\uff08\u5982: \"2020-09-08 00:11:23\"\uff09\u3002\u4ece 2.8 \u7248\u672c\u5f00\u59cb\uff0c\u8fd8\u652f\u6301\u7b26\u5408 RFC 3339 \u6807\u51c6\u7684\u65f6\u95f4\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982 \"2020-12-31T23:59:60Z\"\u3002</li> </ul> </li> <li><code>GROUP BY</code> \u8bed\u6cd5\u6bd4\u8f83\u4e25\u683c\u3002\u9664\u4e86\u805a\u5408\u51fd\u6570\u7684\u5173\u952e\u5b57\uff08<code>COUNT</code>, <code>SUM</code>, <code>MAX</code>, <code>MIN</code>, <code>AVG</code>\uff09\u4ee5\u53ca\u516c\u5f0f\uff08\u7ec6\u8282\u8bf7\u67e5\u770b\u672c\u6587\u6863\u7684\u6269\u5c55\u8bed\u6cd5\uff09\u4e4b\u5916\uff0c\u6240\u9009\u5b57\u6bb5\u4e5f\u5fc5\u987b\u540c\u6837\u4e5f\u8981\u51fa\u73b0\u5728 group by \u7684\u8bed\u53e5\u4e2d\u3002</li> <li><code>HAVING</code> \u8fc7\u6ee4\u7ecf group by \u805a\u5408\u540e\u7684\u884c\u3002\u53ea\u6709 group by \u8bed\u53e5\u4e2d\u7684\u5b57\u6bb5\u6216\u8005\u805a\u5408\u51fd\u6570\u80fd\u88ab having \u8bed\u53e5\u5f15\u7528\uff0c\u5176\u5b83\u8bed\u6cd5\u548c where \u8bed\u53e5\u76f8\u540c\u3002</li> <li>\"order by\" \u8bed\u53e5\u8868\u793a\u6839\u636e\u67d0\u5b57\u6bb5\u6392\u5e8f\uff0c\u8be5\u5b57\u6bb5\u5fc5\u987b\u51fa\u73b0\u5728 select \u8868\u8fbe\u5f0f\u4e2d\u3002\u6bd4\u5982\uff1a<code>select a from table order by b</code>\u662f\u65e0\u6548\u8bed\u53e5\uff1b\u800c <code>select a from table order by a</code> \u6216\u8005 <code>select abs(a), b from table order by abs(a)</code> \u5219\u53ef\u4ee5\u8fd0\u884c\u3002</li> <li>Limit \u8bed\u53e5\u548c MySQL \u683c\u5f0f\u4e00\u6837\uff0c\u8bed\u6cd5\u662f <code>LIMIT ... OFFSET ...</code>\u3002</li> <li>\u652f\u6301\u901a\u8fc7 AS \u8bed\u6cd5\u5bf9\u8fd4\u56de\u7684\u5b57\u6bb5\u6307\u5b9a\u522b\u540d\uff08alias\uff09\u3002\u4f8b\u5982 <code>select table.a as a from table</code>\uff0c\u5219\u8fd4\u56de\u7ed3\u679c\u4e2d\u7684\u5217\u540d\u79f0\u4e3a \"a\"\u3002\u6709\u4e24\u70b9\u9700\u8981\u6ce8\u610f\uff1a<ul> <li>\u4e00\u4e2a\u8fd4\u56de\u5b57\u6bb5\u7684\u522b\u540d\uff0c\u53ef\u4ee5\u5728 group by, order by, having \u8bed\u53e5\u4e2d\u88ab\u5f15\u7528\u3002\u6bd4\u5982 <code>select t.registration as r, count(*) as c from t group by r having c &gt; 100</code>\u3002</li> <li>\u4e00\u4e2a\u8fd4\u56de\u5b57\u6bb5\u7684\u522b\u540d\uff0c\u4e0d\u80fd\u5728 where \u8bed\u53e5\u4e2d\u88ab\u5f15\u7528\u3002\u6bd4\u5982 <code>select t.registration as r, count(*) from t group by r where r &gt; \"2020-01-01\"</code> \u4f1a\u62a5\u544a\u8bed\u6cd5\u9519\u8bef\u3002</li> </ul> </li> </ul> <p>\u67e5\u8be2\u7ed3\u679c\u662f\u4ee5 JSON \u7684\u683c\u5f0f\u8fdb\u884c\u8fd4\u56de\uff0c\u6bcf\u4e00\u884c\u662f\u4e00\u4e2a JSON \u5bf9\u8c61\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5bf9\u8c61\u7684 key \u662f\u5bf9\u5e94\u7684\u5217\u7684 key\uff0c\u800c\u4e0d\u662f\u5217\u540d\u3002\u4e0d\u8fc7\u5728 JOIN \u67e5\u8be2\u91cc\uff0c\u5bf9\u8c61\u7684 key \u5bf9\u5e94 \"id\" \u5b57\u6bb5\uff0c\u800c\u4e0d\u662f \"key\" \u5b57\u6bb5\u3002\u4e0a\u8ff0 \"id\", \"key\" \u5b57\u6bb5\u90fd\u5b58\u5728\u4e8e\u8fd4\u56de\u7ed3\u679c\u7684 \"metadata\" \u6570\u7ec4\u4e2d\u3002</p> <p>INSERT\uff0cUPDATE\uff0cDELETE \u8bed\u53e5\u7684\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>INSERT INTO table_name [column_list] VALUES value_list [, ...]\n\nUPDATE table_name SET column_name = value [, ...] [WhereClause]\n\nDELETE FROM table_name [WhereClause]\n</code></pre> <ul> <li><code>column_list</code> \u662f\u4e00\u4e2a\u7531\u62ec\u53f7\u5305\u56f4\u9017\u53f7\u5206\u9694\u7684\u5217\u540d\u5217\u8868\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5219\u9ed8\u8ba4\u4e3a\u6240\u6709\u53ef\u66f4\u65b0\u7684\u5217\u3002</li> <li><code>value_list</code> \u662f\u4e00\u4e2a\u7531\u62ec\u53f7\u5305\u56f4\u9017\u53f7\u5206\u9694\u7684\u503c\u5217\u8868\uff0c\u503c\u5fc5\u987b\u548c <code>column_list</code> \u4e2d\u7684\u5217\u540d\u4e00\u4e00\u5bf9\u5e94\u3002\u4f8b\u5982\uff1a<code>(1, \"2\", 3.0)</code> \u3002</li> <li>\u591a\u503c\u5217\uff08\u5982\u591a\u9009\u7c7b\u578b\uff09\u9700\u8981\u4f7f\u7528\u62ec\u53f7\u5305\u56f4\u503c\u5217\u8868\uff0c\u4f8b\u5982 <code>(1, \"2\", 3.0, (\"foo\", \"bar\"))</code> \u3002</li> <li>\u5355\u9009\u548c\u591a\u9009\u7c7b\u578b\u7684\u5217\u9700\u8981\u4f7f\u7528\u9009\u9879\u540d\u79f0\uff0c\u800c\u4e0d\u662f\u9009\u9879 key\u3002</li> <li><code>WhereClause</code> \u662f\u4e00\u4e2a\u53ef\u9009\u7684 where \u8bed\u53e5\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5219\u5305\u542b\u6240\u6709\u884c\u3002</li> <li><code>INSERT</code> \u8bed\u53e5\u4ec5\u652f\u6301\u5df2\u7ecf\u5f52\u6863\u8fc7\u7684 base \u4f7f\u7528\uff0c\u6570\u636e\u4f1a\u88ab\u76f4\u63a5\u63d2\u5165\u5927\u6570\u636e\u5b58\u50a8\u4e2d\u3002\u5982\u679c base \u672a\u5f52\u6863\u8fc7\uff0c\u5219\u4f1a\u62a5\u9519\u3002\u5982\u679c\u9700\u8981\u5f80\u672a\u5f52\u6863\u8fc7\u7684 base \u4e2d\u63d2\u5165\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528\u6dfb\u52a0\u884c\u7684 API\uff08\u6bd4\u5982 Python API\uff09\u3002</li> <li><code>UPDATE</code> \u548c <code>DELETE</code> \u8bed\u53e5\u652f\u6301\u540c\u65f6\u4fee\u6539\u5df2\u5f52\u6863\u548c\u672a\u5f52\u6863\u7684\u6570\u636e\u3002</li> </ul> <p>\u6ce8\u610f\uff1a\u4ee5\u4e0b\u5217\u7c7b\u578b\u4e0d\u652f\u6301\u63d2\u5165\u548c\u66f4\u65b0\uff1a</p> <ul> <li>\u7cfb\u7edf\u5217\uff08\u5982 <code>_id</code>\uff0c<code>_ctime</code>\uff09</li> <li>\u56fe\u7247\uff0c\u6587\u4ef6\uff0c\u516c\u5f0f\uff0c\u94fe\u63a5\uff0c\u94fe\u63a5\u516c\u5f0f\uff0c\u5730\u7406\u4f4d\u7f6e\uff0c\u81ea\u52a8\u5e8f\u53f7\uff0c\u6309\u94ae</li> </ul>"},{"location":"sql/sql/#_2","title":"\u6570\u636e\u7c7b\u578b","text":"<p>\u4ee5\u4e0b\u8868\u683c\u5217\u51fa\u4e86 SeaTable \u8868\u683c\u4e2d\u7684\u6570\u636e\u4e0e SQL \u8bed\u53e5\u5b57\u6bb5\u4e2d\u6570\u636e\u7c7b\u578b\u7684\u5bf9\u5e94\u60c5\u51b5</p> SeaTable \u6570\u636e\u7c7b\u578b SQL \u5b57\u6bb5\u7c7b\u578b \u8fd4\u56de\u7ed3\u679c\u683c\u5f0f\u8bf4\u660e \u7528\u4e8e where/having \u7528\u4e8e group by/order by \u6587\u672c String \u652f\u6301 \u652f\u6301 \u957f\u6587\u672c String \u8fd4\u56de Markdown \u683c\u5f0f\u7684\u539f\u59cb\u5b57\u7b26\u4e32 \u652f\u6301 \u652f\u6301 \u6570\u5b57 Float \u652f\u6301 \u652f\u6301 \u5355\u9009 String \u67e5\u8be2\u7ed3\u679c\u9ed8\u8ba4\u8fd4\u56de\u7684\u662f\u9009\u9879\u7684 key \uff0c\u5982\u9700\u8fd4\u56de\u9009\u9879\u7684\u540d\u79f0\uff0c\u5219\u5e94\u628a\u67e5\u8be2\u8bf7\u6c42\u4e2d\u7684 <code>convert_key</code> \u53c2\u6570\u8bbe\u7f6e\u4e3a TRUE \u5728 where \u8868\u8fbe\u5f0f\u4e2d\uff0c\u5e38\u91cf\u9700\u8981\u4f7f\u7528\u9009\u9879\u7684\u540d\u79f0\uff0c\u5982\uff1a<code>where single_select = \"New York\"</code> \u6309\u7167\u9009\u9879\u7684\u5b9a\u4e49\u987a\u5e8f\u8fdb\u884c\u6392\u5e8f \u591a\u9009 \u5305\u542b string \u7684\u5217\u8868 \u67e5\u8be2\u7ed3\u679c\u9ed8\u8ba4\u8fd4\u56de\u7684\u662f\u9009\u9879\u7684 key\uff0c\u5982\u9700\u8fd4\u56de\u9009\u9879\u7684\u540d\u79f0\uff0c\u5219\u5e94\u628a\u67e5\u8be2\u8bf7\u6c42\u4e2d\u7684 <code>convert_key</code> \u53c2\u6570\u8bbe\u7f6e\u4e3a TRUE \u5728 where \u8868\u8fbe\u5f0f\u4e2d\uff0c\u9700\u8981\u4f7f\u7528\u9009\u9879\u7684\u540d\u79f0\u3002\u5177\u4f53\u7684\u5339\u914d\u89c4\u5219\u53c2\u8003\u4e0b\u9762\u5173\u4e8e\u5217\u8868\u7c7b\u578b\u7684\u8bf4\u660e\u3002 \u652f\u6301\uff0c\u53c2\u8003\u4e0b\u9762\u5173\u4e8e\u5217\u8868\u7c7b\u578b\u7684\u8bf4\u660e \u52fe\u9009 Bool \u652f\u6301 \u652f\u6301 \u65e5\u671f Datetime \u8fd4\u56de\u7b26\u5408 RFC 3339 \u89c4\u8303\u7684\u5b57\u7b26\u4e32 \u67e5\u8be2\u65f6\uff0c\u5e38\u91cf\u4f7f\u7528 ISO \u683c\u5f0f\u7684\u65f6\u95f4\u5b57\u7b26\u4e32\uff0c\u5982:  \"2006-1-2\"\uff0c\"2006-1-2 15:04:05\"\u30022.8 \u7248\u672c\u8d77\uff0c\u652f\u6301\u7b26\u5408 RFC 3339 \u89c4\u8303\u7684\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982 \"2020-12-31T23:59:60Z\" \u652f\u6301 \u5730\u7406\u4f4d\u7f6e \u67e5\u8be2\u7ed3\u679c\u4ee5 json \u7684\u683c\u5f0f\u8fdb\u884c\u8fd4\u56de\u3002\u6570\u636e\u6839\u636e\u8bbe\u7f6e\u7684\u683c\u5f0f\u4e0d\u540c\u8fd4\u56de\u7ed3\u679c\u6709\u5dee\u5f02\uff0c\u5982\u8bbe\u7f6e\u7ecf\u7eac\u5ea6\uff0c\u8fd4\u56de\u7ecf\u7eac\u5ea6\u7684\u6570\u5b57\uff0c\u8bbe\u7f6e\u7701\u5e02\u7b49\uff0c\u8fd4\u56de\u7701\uff0c\u5e02\uff0c\u5176\u4ed6\u7ec6\u8282\u4fe1\u606f\u7b49\u3002 \u4e0d\u652f\u6301\u76f4\u63a5\u4f7f\u7528 where \u8bed\u53e5\u67e5\u8be2\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u5730\u7406\u4f4d\u7f6e\u51fd\u6570\u63d0\u53d6\u7701\u5e02\u7b49\u7ec6\u8282\u4fe1\u606f\u8fdb\u884c\u8fc7\u6ee4 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u56fe\u7247 \u56fe\u7247\u7684 URL \u7684\u5217\u8868 JSON \u5b57\u7b26\u4e32\u6570\u7ec4\uff0c\u5143\u7d20\u4e3a URL \u652f\u6301\uff0c\u53c2\u8003\u4e0b\u9762\u5173\u4e8e\u5217\u8868\u7c7b\u578b\u7684\u8bf4\u660e \u652f\u6301\uff0c\u53c2\u8003\u4e0b\u9762\u5173\u4e8e\u5217\u8868\u7c7b\u578b\u7684\u8bf4\u660e \u6587\u4ef6 \u67e5\u8be2\u7ed3\u679c\u5c06\u4ee5 JSON \u7684\u683c\u5f0f\u8fdb\u884c\u8fd4\u56de\uff0c\u8fd4\u56de\u5305\u542b\u540d\u79f0\uff0c\u7c7b\u578b\uff0curl\u7b49\u4fe1\u606f\u7684\u5217\u8868 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u534f\u4f5c\u4eba \u5305\u542b\u7528\u6237 ID \u7684\u5217\u8868 \u683c\u5f0f\u5982 5758ecdce3e741ad81293a304b6d3388@auth.local, \u5982\u679c\u7528\u5230\u7528\u6237\u540d\u79f0\uff0c\u9700\u8981\u901a\u8fc7 SeaTable \u7684\u76f8\u5173 API \u8fdb\u884c\u8f6c\u6362 \u652f\u6301\uff0c\u53c2\u8003\u4e0b\u9762\u5173\u4e8e\u5217\u8868\u7c7b\u578b\u7684\u8bf4\u660e \u652f\u6301\uff0c\u53c2\u8003\u4e0b\u9762\u5173\u4e8e\u5217\u8868\u7c7b\u578b\u7684\u8bf4\u660e \u94fe\u63a5\u5176\u4ed6\u8bb0\u5f55 \u5305\u542b\u94fe\u63a5\u884c\u7684\u5217\u8868 \u652f\u6301\uff0c\u53c2\u8003\u4e0b\u9762\u5173\u4e8e\u5217\u8868\u7c7b\u578b\u7684\u8bf4\u660e \u652f\u6301\uff0c\u53c2\u8003\u4e0b\u9762\u5173\u4e8e\u5217\u8868\u7c7b\u578b\u7684\u8bf4\u660e \u652f\u6301\uff0c\u53c2\u8003\u4e0b\u9762\u5173\u4e8e\u5217\u8868\u7c7b\u578b\u7684\u8bf4\u660e \u516c\u5f0f \u6570\u636e\u7c7b\u578b\u6839\u636e\u901a\u8fc7\u8be5\u516c\u5f0f\u8ba1\u7b97\u5f97\u5230\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u800c\u5b9a \u6839\u636e\u901a\u8fc7\u8be5\u516c\u5f0f\u8ba1\u7b97\u5f97\u5230\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u800c\u5b9a\uff0c\u5177\u4f53\u53c2\u8003\u8fd4\u56de\u7c7b\u578b\u5bf9\u5e94\u7684 SQL \u7c7b\u578b\u7684\u8bf4\u660e \u6839\u636e\u901a\u8fc7\u8be5\u516c\u5f0f\u8ba1\u7b97\u5f97\u5230\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u800c\u5b9a\uff0c\u5177\u4f53\u53c2\u8003\u8fd4\u56de\u7c7b\u578b\u5bf9\u5e94\u7684 SQL \u7c7b\u578b\u7684\u8bf4\u660e \u6839\u636e\u901a\u8fc7\u8be5\u516c\u5f0f\u8ba1\u7b97\u5f97\u5230\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u800c\u5b9a\uff0c\u5177\u4f53\u53c2\u8003\u8fd4\u56de\u7c7b\u578b\u5bf9\u5e94\u7684 SQL \u7c7b\u578b\u7684\u8bf4\u660e \u521b\u5efa\u8005 \u7528\u6237 ID, string \u683c\u5f0f\u5982 5758ecdce3e741ad81293a304b6d3388@auth.local, \u5982\u679c\u7528\u5230\u7528\u6237\u540d\u79f0\uff0c\u9700\u8981\u901a\u8fc7 SeaTable \u7684\u76f8\u5173 API \u8fdb\u884c\u8f6c\u6362 \u652f\u6301 \u652f\u6301 \u521b\u5efa\u65f6\u95f4 Datetime \u8fd4\u56de\u7b26\u5408 RFC 3339 \u89c4\u8303\u7684\u5b57\u7b26\u4e32 \u67e5\u8be2\u65f6\uff0c\u5e38\u91cf\u4f7f\u7528 ISO \u683c\u5f0f\u7684\u65f6\u95f4\u5b57\u7b26\u4e32\uff0c\u5982:  \"2006-1-2\"\uff0c\"2006-1-2 15:04:05\"\u30022.8 \u7248\u672c\u8d77\uff0c\u652f\u6301\u7b26\u5408 RFC 3339 \u89c4\u8303\u7684\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982 \"2020-12-31T23:59:60Z\" \u652f\u6301 \u4fee\u6539\u8005 \u7528\u6237 ID, string \u683c\u5f0f\u5982 5758ecdce3e741ad81293a304b6d3388@auth.local, \u5982\u679c\u7528\u5230\u7528\u6237\u540d\u79f0\uff0c\u9700\u8981\u901a\u8fc7 SeaTable \u7684\u76f8\u5173 API \u8fdb\u884c\u8f6c\u6362 \u652f\u6301 \u652f\u6301 \u4fee\u6539\u65f6\u95f4 Datetime \u8fd4\u56de\u7b26\u5408 RFC 3339 \u89c4\u8303\u7684\u5b57\u7b26\u4e32 \u67e5\u8be2\u65f6\uff0c\u5e38\u91cf\u4f7f\u7528 ISO \u683c\u5f0f\u7684\u65f6\u95f4\u5b57\u7b26\u4e32\uff0c\u5982:  \"2006-1-2\"\uff0c\"2006-1-2 15:04:05\"\u30022.8 \u7248\u672c\u8d77\uff0c\u652f\u6301\u7b26\u5408 RFC 3339 \u89c4\u8303\u7684\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982 \"2020-12-31T23:59:60Z\" \u652f\u6301 \u81ea\u52a8\u5e8f\u53f7 String \u652f\u6301 \u652f\u6301 URL String \u652f\u6301 \u652f\u6301 \u90ae\u7bb1 String \u652f\u6301 \u652f\u6301 \u65f6\u957f Float \u6570\u636e\u6362\u7b97\u6210\u79d2\u8fd4\u56de\uff0c\u5982\u6570\u636e\u662f3:43\uff0c\u6362\u7b97\u6210\u79d2\u4e3a3 * 3600 + 43 * 60 = 13380 \u652f\u6301 \u652f\u6301"},{"location":"sql/sql/#_3","title":"\u5217\u8868\u7c7b\u578b\u7684\u5904\u7406","text":"<p>SeaTable \u4e2d\u6709\u4e24\u7c7b\u5217\u4f1a\u4ea7\u751f\u5217\u8868\u6570\u636e\u7c7b\u578b\uff1a</p> <ul> <li>\u672c\u8eab\u5c31\u662f\u5217\u8868\u7c7b\u578b\u7684\u5217\uff1a\u5305\u62ec\u591a\u9009\u3001\u56fe\u7247\u3001\u534f\u4f5c\u4eba\u3001\u94fe\u63a5\u5176\u4ed6\u8bb0\u5f55\u3002</li> <li>\u94fe\u63a5\u516c\u5f0f\u7684\u8fd4\u56de\u7ed3\u679c\uff1a\u516c\u5f0f\u5217\u4e2d\u7684\u516c\u5f0f\u4e3a <code>{link.column}</code> \u4ee5\u53ca lookup \u516c\u5f0f\uff1b\u94fe\u63a5\u516c\u5f0f\u5217\u4e2d\u7684\u516c\u5f0f\u4e3a lookup, findmin, findmax\u3002</li> </ul> <p>\u5f53\u5728 where \u6761\u4ef6\u4e2d\u4f7f\u7528\u4e00\u4e2a\u7c7b\u578b\u4e3a\u5217\u8868\u7684\u5217\u65f6\uff0c\u6839\u636e\u5217\u8868\u5143\u7d20\u7684 SQL \u7c7b\u578b\u4e0d\u540c\uff0c\u89c4\u5219\u5982\u4e0b\uff1a\uff08\u5982\u679c\u6ca1\u6709\u5217\u51fa\u5219\u8868\u793a\u4e0d\u652f\u6301\uff09</p> \u5143\u7d20\u7c7b\u578b \u64cd\u4f5c\u7b26 \u89c4\u5219 string IN, \u5217\u8868\u6269\u5c55\u8bed\u6cd5\uff08\u6bd4\u5982 has any of\uff09 \u6309\u7167\u76f8\u5e94\u7684\u64cd\u4f5c\u7b26\u89c4\u5219\u5904\u7406 string LIKE, ILIKE \u59cb\u7ec8\u53d6\u51fa\u7b2c\u4e00\u4e2a\u5143\u7d20\u6765\u6bd4\u8f83\uff1b\u5982\u679c\u6ca1\u6709\u5143\u7d20\uff0c\u6309\u7167 \"\" \u6765\u5904\u7406\u3002 string IS NULL \u6ca1\u6709\u6570\u636e\u6216\u8005\u7a7a\u5217\u8868\u5224\u65ad\u4e3a NULL string =, != \u59cb\u7ec8\u53d6\u51fa\u7b2c\u4e00\u4e2a\u5143\u7d20\u6765\u6bd4\u8f83\uff1b\u5982\u679c\u6ca1\u6709\u5143\u7d20\uff0c\u6309\u7167 \"\" \u6765\u5904\u7406\u3002 float IN, \u5217\u8868\u6269\u5c55\u8bed\u6cd5\uff08\u6bd4\u5982 has any of\uff09 \u6309\u7167\u76f8\u5e94\u7684\u64cd\u4f5c\u7b26\u89c4\u5219\u5904\u7406 float =, !=, \\&lt;, \\&lt;=, &gt;, &gt;=, between \u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\uff0c\u53d6\u51fa\u7b2c\u4e00\u4e2a\u5143\u7d20\u6765\u6bd4\u8f83\uff1b\u5982\u679c\u6709\u591a\u4e8e\u4e00\u4e2a\u5143\u7d20\uff0c\u53ea\u6709\u5728 != \u7684\u65f6\u5019\u8fd4\u56de true\uff1b\u5982\u679c\u6ca1\u6709\u5143\u7d20\uff0c\u53ea\u6709\u5728 != \u7684\u65f6\u5019\u8fd4\u56de true\u3002 float IS NULL \u6ca1\u6709\u6570\u636e\u6216\u8005\u7a7a\u5217\u8868\u7684\u65f6\u5019\u5224\u65ad\u4e3a NULL float +/-/*// \u7b49\u8fd0\u7b97 \u53d6\u51fa\u7b2c\u4e00\u4e2a\u5143\u7d20\u53c2\u4e0e\u8fd0\u7b97 Datetime IN, \u5217\u8868\u6269\u5c55\u8bed\u6cd5\uff08\u6bd4\u5982 has any of\uff09 \u6309\u7167\u76f8\u5e94\u7684\u64cd\u4f5c\u7b26\u89c4\u5219\u5904\u7406 Datetime =, !=, \\&lt;, \\&lt;=, &gt;, &gt;=, between \u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\uff0c\u53d6\u51fa\u7b2c\u4e00\u4e2a\u5143\u7d20\u6765\u6bd4\u8f83\uff1b\u5982\u679c\u6709\u591a\u4e8e\u4e00\u4e2a\u5143\u7d20\uff0c\u53ea\u6709\u5728 != \u7684\u65f6\u5019\u8fd4\u56de true\uff1b\u5982\u679c\u6ca1\u6709\u5143\u7d20\uff0c\u53ea\u6709\u5728 != \u7684\u65f6\u5019\u8fd4\u56de true\u3002 Datetime IS NULL \u6ca1\u6709\u6570\u636e\u6216\u8005\u7a7a\u5217\u8868\u7684\u65f6\u5019\u5224\u65ad\u4e3a NULL bool IS TRUE \u59cb\u7ec8\u53d6\u51fa\u7b2c\u4e00\u4e2a\u5143\u7d20\u6765\u6bd4\u8f83\uff1b\u5982\u679c\u6ca1\u6709\u5143\u7d20\u8fd4\u56de false\u3002 \u94fe\u63a5\u8bb0\u5f55 \u6839\u636e\u94fe\u63a5\u5217\u8bbe\u7f6e\u7684\u663e\u793a\u5217\u7684\u7c7b\u578b\uff0c\u7ed3\u5408\u4e0a\u8ff0\u6bcf\u79cd\u7c7b\u578b\u7684\u89c4\u5219\u6765\u5904\u7406 <p>\u4f5c\u4e3a select fields \u8fd4\u56de\u7684\u65f6\u5019\uff0c\u53ea\u8fd4\u56de\u5217\u8868\u7684\u524d\u5341\u4e2a\u5143\u7d20\u3002</p> <p>\u5728 group by \u548c order by \u4e2d\u4f7f\u7528\u65f6\uff0c\u4f1a\u5bf9\u6bcf\u4e2a\u5217\u8868\u5185\u90e8\u7684\u5143\u7d20\u5148\u8fdb\u884c\u4ece\u5c0f\u5230\u5927\u7684\u6392\u5e8f\uff0c\u7136\u540e\u5728\u5217\u8868\u4e4b\u95f4\u6392\u5e8f\u6309\u7167\u4ee5\u4e0b\u89c4\u5219\u8fdb\u884c\uff1a</p> <ul> <li>\u4ece\u7b2c\u4e00\u4e2a\u5143\u7d20\u5f00\u59cb\u9010\u4e00\u6bd4\u8f83\u5927\u5c0f\uff0c\u5143\u7d20\u5c0f\u7684\u5217\u8868\u6392\u5728\u5143\u7d20\u5927\u7684\u5217\u8868\u524d\u9762</li> <li>\u5982\u679c\u4e4b\u524d\u904d\u5386\u7684\u5143\u7d20\u90fd\u76f8\u7b49\uff0c\u5219\u957f\u5ea6\u8f83\u5c0f\u7684\u5217\u8868\u6392\u5728\u957f\u5ea6\u5927\u7684\u5217\u8868\u524d\u9762</li> <li>\u5982\u679c\u957f\u5ea6\u4e5f\u76f8\u7b49\uff0c\u5219\u4e24\u4e2a\u5217\u8868\u76f8\u7b49</li> </ul> <p>\u5728\u516c\u5f0f\u4e2d\u4f7f\u7528\u65f6\uff0c\u5982\u679c\u5217\u8868\u4f20\u5165\u4f5c\u4e3a\u4e00\u4e2a\u53c2\u6570\uff0c\u800c\u53c2\u6570\u9700\u8981\u4e00\u4e2a\u5355\u503c\uff0c\u5219\u53d6\u51fa\u5217\u8868\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002\u5982\u679c\u5217\u8868\u7684\u5143\u7d20\u662f\u4e00\u4e2a\u94fe\u63a5\u8bb0\u5f55\uff0c\u53d6\u51fa\u5176\u663e\u793a\u5217\u7684\u503c\u3002</p> <p>\u5728\u805a\u5408\u51fd\u6570\uff08min, max, sum, avg\uff09\u4e2d\u4f7f\u7528\uff0c\u5982\u679c\u5217\u8868\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\uff0c\u53d6\u51fa\u7b2c\u4e00\u4e2a\u5143\u7d20\u6765\u8ba1\u7b97\uff1b\u5176\u4ed6\u60c5\u51b5\uff0c\u8be5\u884c\u4e0d\u53c2\u4e0e\u8ba1\u7b97\u3002</p>"},{"location":"sql/sql/#null","title":"NULL \u503c","text":"<p>NULL \u503c\u4e0d\u540c\u4e8e 0\uff0c\u5b83\u4ee3\u8868\u4e00\u4e2a\u7a7a\u503c\u3002\u4ee5\u4e0b\u7684\u503c\u4f1a\u88ab\u770b\u505a\u7a7a\u503c\uff1a</p> <ul> <li>\u8868\u683c\u4e2d\u7684\u7a7a\u7684\u5355\u5143\u683c\u4f1a\u88ab\u770b\u505a NULL \u503c\u3002</li> <li>\u65e0\u6cd5\u88ab\u8f6c\u6362\u4e3a\u5f53\u524d\u5217\u7c7b\u578b\u7684\u503c\uff0c\u5f53\u4f5c NULL \u503c\u5904\u7406\u3002</li> <li>\u7a7a\u5b57\u7b26\u4e32\uff08\"\"\uff09\u4f1a\u88ab\u770b\u505a NULL \u503c\u3002\u8fd9\u4e0e\u6807\u51c6\u7684 SQL \u4e0d\u4e00\u6837\u3002</li> <li>\u5217\u8868\u7c7b\u578b\u7684\u503c\u6839\u636e\u201c\u5217\u8868\u7c7b\u578b\u201d\u4e00\u8282\u4e2d\u7684\u89c4\u5219\u88ab\u5224\u65ad\u4e3a NULL\u3002</li> <li>\u516c\u5f0f\u5217\u6216\u51fd\u6570\u5982\u679c\u8fd4\u56de\u4e86\u9519\u8bef\uff0c\u4f1a\u5f53\u4f5c NULL \u503c\u5904\u7406\u3002</li> </ul> <p>\u5728 WHERE \u6761\u4ef6\u4e2d\uff1a</p> <ul> <li>\u7b97\u672f\u8fd0\u7b97\u4e2d\u5b58\u5728 NULL \u503c\uff0c\u5219\u7ed3\u679c\u4e3a NULL\u3002</li> <li><code>!=</code>\uff0c<code>NOT LIKE</code>\uff0c<code>NOT IN</code>\uff0c<code>NOT BETWEEN</code>\uff0c<code>HAS NONE OF</code>\uff0c<code>IS NOT TRUE</code> \u548c <code>IS NULL</code> \u9047\u5230 NULL \u503c\u65f6\u7ed3\u679c\u662f TRUE\u3002</li> <li><code>AND</code>\uff0c<code>OR</code>\uff0c<code>NOT</code> \u4f1a\u628a NULL \u503c\u5f53\u4f5c FALSE \u5904\u7406\u3002</li> <li>\u805a\u5408\u51fd\u6570\uff08min\uff0cmax\uff0csum\uff0cavg\uff09\u4f1a\u5ffd\u7565 NULL \u503c\u3002</li> </ul> <p>\u5728\u516c\u5f0f\u4e2d\uff0cNULL \u503c\u4f1a\u88ab\u8f6c\u6362\u4e3a 0 \u6216\u8005\u7a7a\u5b57\u7b26\u4e32\u3002</p>"},{"location":"sql/sql/#_4","title":"\u6269\u5c55\u8bed\u6cd5","text":""},{"location":"sql/sql/#sql_1","title":"SQL \u67e5\u8be2\u4e2d\u4f7f\u7528\u516c\u5f0f","text":"<p>SeaTable \u4e2d\u7684\u4e00\u4e9b\u516c\u5f0f\u4e5f\u53ef\u4ee5\u7528\u4e8e SQL \u67e5\u8be2\u5f53\u4e2d\uff0c\u4ee5\u4e0b\u6709\u51e0\u70b9\u8bf4\u660e\uff1a</p> <ul> <li>\u94fe\u63a5\u516c\u5f0f\u6682\u4e0d\u652f\u6301\uff0c\u5982 {link.age}\uff0c\u8fd9\u79cd\u67e5\u8be2\u65e0\u6548\u3002</li> <li>\u67e5\u8be2\u7684\u5217\u540d\u4e0d\u652f\u6301\u4f7f\u7528\u5927\u62ec\u53f7(\u201c{}\u201d)\u6765\u4fee\u9970\uff0c\u5982\uff1a<code>select abs({column}) from talbe;</code> \u5c5e\u4e8e\u65e0\u6548\u67e5\u8be2\uff0c\u5e94\u8be5\u5199\u6210\uff1a<code>select abs(column) from table;</code>\uff0c\u6b64\u89c4\u5219\u540c SQL \u8bed\u6cd5\u4e00\u81f4\u3002</li> <li>\u5982\u679c\u5b57\u6bb5\u540d\u79f0\u4e2d\u5305\u542b\u7a7a\u683c\u6216\u8fde\u63a5\u7b26\u201c-\u201d\uff0c\u53ef\u662f\u4f7f\u7528\u5de6\u5f15\u53f7(\"``\")\u6765\u8fdb\u884c\u4fee\u9970\uff0c\u5982: select abs `column-a` from table\u3002</li> <li>\u4e0d\u652f\u6301\u7ed9\u5b50\u6bb5\u8d77\u522b\u540d\uff0c\u5982\uff1a<code>select abs(t.column) from table as t;</code> \u4e3a\u65e0\u6548\u67e5\u8be2\u3002</li> <li>\u516c\u5f0f\u53ef\u4ee5\u7528\u5728 group by \u4ee5\u53ca order by \u8868\u8fbe\u8bed\u53e5\u5f53\u4e2d\u3002</li> </ul> <p>\u989d\u5916\u652f\u6301\u7684\u516c\u5f0f\u51fd\u6570\uff1a</p> <ul> <li><code>STARTOFWEEK(date, weekStart)</code>\uff1a\u8fd4\u56de\u5305\u542b \u201cdate\u201d \u7684\u661f\u671f\u7684\u7b2c\u4e00\u5929\u7684\u65e5\u671f\uff0c\u201cweekstart\u201d \u53ef\u9009 \u201csunday\u201d \u6216\u8005 \u201cmonday\u201d \u6765\u4f5c\u4e3a\u4e00\u5468\u7684\u7b2c\u4e00\u5929</li> <li><code>Quarter(date)</code>\uff1a\u8fd4\u56de\u7b2c\u51e0\u4e2a\u5b63\u5ea6\uff0c\u5305\u62ec1\uff0c2\uff0c3\uff0c4\u3002</li> <li><code>ISODate(date)</code>\uff1a\u8fd4\u56de ISO \u683c\u5f0f\u7684\u65e5\u671f\uff0c\u5982: \"2020-09-08\"</li> <li><code>ISOMonth(date)</code>\uff1a\u8fd4\u56de ISO \u683c\u5f0f\u7684\u6708\u4efd\uff0c\u5982: \"2020-07\"</li> </ul> <p>\u4ee5\u4e0a\u7684\u516c\u5f0f\u53ef\u4ee5\u7528\u4e8e group by \u5206\u7ec4\uff0c\u6309\u661f\u671f\uff0c\u6708\uff0c\u5b63\u5ea6\uff0c\u65e5\u671f\u7b49\uff0c \u5982\uff1a<code>select sum(sale) from SalesRecord group by ISODate(SalesTime)</code>\uff0c\u8fd4\u56de\u6bcf\u5929\u7684\u603b\u9500\u91cf\u3002</p> <p>\u66f4\u591a\u652f\u6301\u7684\u516c\u5f0f\u51fd\u6570\u8bf7\u53c2\u8003SQL\u51fd\u6570\u53c2\u8003</p>"},{"location":"sql/sql/#_5","title":"\u5217\u8868\u6269\u5c55\u8bed\u6cd5","text":"<p>SeaTable \u4e2d\u90e8\u5206\u7684\u5217\u7c7b\u578b\u6570\u636e\u683c\u5f0f\u4e3a\u4e00\u4e2a\u5217\u8868\uff0c SeaTable \u4ece UI \u5c42\u9762\u4e0a\u63d0\u4f9b\u4e86\u7279\u6b8a\u7684\u51fd\u6570\u6765\u8fc7\u6ee4\u8fd9\u4e9b\u5217\uff0c \u5305\u62ec<code>HAS ANY OF</code>, <code>HAS ALL OF</code>, <code>HAS NONE OF</code>, <code>IS EXACTLY</code>.  \u8fd9\u4e9b\u5173\u952e\u5b57\u540c\u6837\u4e5f\u9002\u7528\u4e8e SQL \u67e5\u8be2\u8bed\u6cd5\u4e2d\u3002\u6bd4\u5982\uff1a\u540d\u4e3a \u201ccity\u201d \u7684\u5217\u5c5e\u4e8e\u591a\u9009\u7c7b\u578b\uff0c\u6211\u4eec\u60f3\u67e5\u8be2\u51fa\u6240\u6709\u5305\u542b \u201cNew York\u201d \u548c  \u201cParis\u201d \u7684\u884c\uff0c\u53ef\u4ee5\u505a\u5982\u4e0b\u67e5\u8be2\uff1a<code>select * from table where city has any of (\"New York\", \"Paris\");</code>\uff0c\u5176\u4e2d\uff0c\u7528\u62ec\u53f7\u4fee\u9970\u7684\u57ce\u5e02\u5217\u8868\uff0c\u76f8\u5f53\u4e8e <code>IN</code> \u8bed\u6cd5\u3002</p>"},{"location":"sql/sql/#_6","title":"\u7d22\u5f15","text":"<p>\u4e3a\u4e86\u63d0\u9ad8\u67e5\u8be2\u6548\u7387\uff0cSeaTable \u4f1a\u4e3a\u5b58\u50a8\u5230\u5927\u6570\u636e\u5b58\u50a8\u4e2d\u7684\u884c\u81ea\u52a8\u521b\u5efa\u7d22\u5f15\u3002\u76ee\u524d\uff0c\u6587\u672c\u3001\u6570\u5b57\u3001\u5355\u9009\u3001\u591a\u9009\u3001\u534f\u4f5c\u4eba\u3001\u65e5\u671f\u3001\u521b\u5efa\u8005\u3001\u521b\u5efa\u65f6\u95f4\u3001\u4fee\u6539\u8005\u3001\u4fee\u6539\u65f6\u95f4\u5217\u4f1a\u521b\u5efa\u7d22\u5f15\u3002</p> <p>\u5f53\u60a8\u5728\u4e00\u4e2a\u5b50\u8868\u4e2d\u65b0\u589e\u6216\u8005\u5220\u9664\u4e00\u5217\u65f6\uff0c\u5bf9\u5e94\u7684\u7d22\u5f15\u5e76\u4e0d\u4f1a\u7acb\u5373\u81ea\u52a8\u521b\u5efa\u6216\u8005\u5220\u9664\u3002\u7d22\u5f15\u7684\u521b\u5efa\u548c\u5220\u9664\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u89e6\u53d1\uff1a</p> <ol> <li>\u5728\u4e0b\u6b21\u6267\u884c\u201c\u5f52\u6863\u201d\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u4e3a\u65b0\u589e\u7684\u5217\u521b\u5efa\u7d22\u5f15\uff0c\u5e76\u5220\u9664\u4e0d\u5b58\u5728\u7684\u5217\u7684\u7d22\u5f15\u3002</li> <li>\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u201c\u5927\u6570\u636e\u7ba1\u7406\u201d -&gt; \u201c\u7d22\u5f15\u7ba1\u7406\u201d \u754c\u9762\u6765\u7ba1\u7406\u7d22\u5f15\u3002</li> </ol>"}]}